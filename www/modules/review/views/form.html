<section class="panel panel-default" ng-if="showModal">
    <header class="panel-heading">We value your reviews </header>
    <section class="chat-list panel-body">
        <article class="media">
            <div class="r b bg-warning-ltest wrapper m-b">
                Thank you for providing your review. Please fill up the details and your review will be published instantly.
            </div>

            <!--Flash message div-->
            <div mc-messages></div>

            <form novalidate name="reviewsForm" class="form-horizontal">
                <input type="hidden" name="restaurant_id" ng-model="reviewForm.restaurant_id"/>

                <div class="form-group">
                    <label class="col-sm-2 control-label">Rating</label>
                    <div class="col-sm-10" style="font-size: 20px;">
                        <rating ng-model="reviewForm.rating" max="max" on-hover="hoveringOver(value)" on-leave="hoveringOver(value)"></rating>
                        <span class="label" ng-class="{'label-warning': percent<30, 'label-info': percent>=30 && percent<70, 'label-success': percent>=70}" ng-show="percent>0">{{percent}}%</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label">Summary in 4 words</label>
                    <div class="col-sm-10" ng-class="{ 'has-error' : reviewsForm.short_comment.$invalid && !reviewsForm.short_comment.$pristine }">
                        <input type="text" name="short_comment" ng-model="reviewForm.short_comment" class="form-control" required ng-minlength="10"  ng-maxlength="40"/>
                        <p ng-show="reviewsForm.short_comment.$error.required && !reviewsForm.short_comment.$pristine" class="help-block">Please write the review.</p>
                        <p ng-show="reviewsForm.short_comment.$error.maxlength && !reviewsForm.short_comment.$pristine" class="help-block">We allow 40 characters only</p>
                        <p ng-show="reviewsForm.short_comment.$error.minlength && !reviewsForm.short_comment.$pristine" class="help-block">Please write atleast few more words.</p>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label">Comment</label>
                    <div class="col-sm-10" ng-class="{ 'has-error' : reviewsForm.comment.$invalid && !reviewsForm.comment.$pristine }">
                        <textarea name="comment" ng-model="reviewForm.comment" class="form-control" required="required" ng-minlength="10" ng-maxlength="40">{{reviewForm.comment}}</textarea>
                        <p ng-show="reviewsForm.comment.$error.required && !reviewsForm.comment.$pristine" class="help-block">Please write a comment.</p>
                        <p ng-show="reviewsForm.comment.$error.maxlength && !reviewsForm.comment.$pristine" class="help-block">We allow 40 characters only</p>
                        <p ng-show="reviewsForm.comment.$error.minlength && !reviewsForm.comment.$pristine" class="help-block">Please write atleast few more words.</p>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label">Email</label>
                    <div class="col-sm-10" ng-class="{ 'has-error' : reviewsForm.email.$invalid && !reviewsForm.email.$pristine }">
                        <input type="email" name="email" ng-model="reviewForm.email" class="form-control" required/>
                        <p ng-show="reviewsForm.email.$error.required && !reviewsForm.email.$pristine" class="help-block">Please enter an email.</p>
                        <p ng-show="reviewsForm.email.$invalid && !reviewsForm.email.$pristine" class="help-block">Please enter a valid email.</p>
                    </div>
                </div>

                <!--<div class="form-group">
                    <label class="col-sm-2 control-label">Phone</label>
                    <div class="col-sm-10">
                        <input type="text" name="phone" ng-model="reviewForm.phone" class="form-control"/>
                    </div>
                </div>-->

                <div class="form-group">
                    <label class="col-sm-2 control-label"></label>
                    <div class="col-sm-10">
                        <input type="submit" name="submit" value="submit" ng-click="submitReview()" ng-disabled="reviewsForm.$invalid" class="btn btn-s-md btn-primary btn-rounded form-control"/>
                    </div>
                </div>

            </form>
        </article>
    </section>
</section>