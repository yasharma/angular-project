<section class="vbox">

    <!--Search form-->
    <div class="hidden-xs">
        <header class="header bg-white b-b b-light hide-for-small hide-for-touch"
                ng-include="'modules/restaurant/views/search-form.html'">

        </header>
    </div>
    <section class="scrollable wrapper w-f">
        <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-12" ng-class="{'hidden-xs': showFiltersMobile}">
                <section>

                    <!--Search box-->
                    <div class="visible-xs">
                        <div class="panel panel-tight" ng-controller="navigationController">
                            <search-box class="m-t m-l-n-xs" set-restaurant="setRestaurant(restaurant)" placeholder="Search restaurants, locations ..."></search-box>
                        </div>
                    </div>

                    <header class="">
                        <div class="row">
                            <div share-links="Facebook, Twitter, LinkedIn, Google-Plus"
                                share-title="reviews-combined dummy title"
                                class="m-r-sm m-t-xs m-l-xl pull-right">
                            </div>
                            <div class="pull-right m-l-md m-r-sm m-t-sm sort-picker">
                                <!--<span>-->
                                    <!--Sort by:-->
                                <!--</span>-->
                                <span class="btn m-l-n-xs" ng-repeat="option in sortOptions"
                                      title="Sort by {{option.label}}"
                                      ng-click="restaurantList.params.sort = option.value">
                                    <span ng-hide="restaurantList.params.sort == option.value">
                                        {{option.label}}
                                    </span>
                                    <span ng-show="restaurantList.params.sort == option.value">
                                        <strong>{{option.label}}</strong>
                                        <i class="sort-icon glyphicon glyphicon-triangle-{{option.direction}}"></i>
                                    </span>
                                </span>
                            </div>
                            <!--<select ng-model="restaurantList.params.sort" class="form-control m-t-sm pull-right" style="width: 160px;">-->
                                <!--<option value="popular">Sort by rating</option>-->
                                <!--<option value="trending">Sort by trend</option>-->
                                <!--<option value="distance">Sort by distance</option>-->
                            <!--</select>-->
                        </div>
                    </header>
                </section>
            </div>
            <div class="col-sm-8 col-md-9 col-lg-9" ng-class="{'hidden-xs': showFiltersMobile}">
                <!--Restaurant list-->
                <section class="comment-list block m-l"
                         cg-busy="{promise:cgBusyPromise,message:'',templateUrl:'modules/partials/cgbusy-template.html',backdrop:true}" >
                    <div class="panel-body no-padding-right">
                        <!--In case there are no results-->
                        <article class="comment-item" ng-hide="restaurants.length">
                            <section class="comment-body panel panel-default">
                                <section class="panel-body">
                                    <div class="m-md">
                                        No results
                                    </div>
                                </section>
                            </section>
                        </article>
                        <!--Results-->
                        <article ng-repeat="restaurant in restaurants" class="comment-item"
                                 ng-include="'modules/partials/restaurant-list-item.html'">
                        </article>
                        <div style="margin-left: 45px;">

                            <pagination total-items="popularListTotalItems" ng-model="restaurantList.page" max-size="maxSize"
                                        class="pagination-sm hidden-xs" boundary-links="true" rotate="true" num-pages="numPages"
                                        ng-change="popularListPageChanged()"
                                        items-per-page="popularListItemPerPage"></pagination>

                            <pagination total-items="popularListTotalItems" ng-model="restaurantList.page" max-size="1"
                                        class="pagination-sm visible-xs" boundary-links="true" rotate="true" num-pages="numPages"
                                        ng-change="popularListPageChanged()"
                                        items-per-page="popularListItemPerPage"></pagination>

                        </div>
                    </div>
                </section>
            </div>
            <!--Filters-->
            <div class="col-sm-4 col-md-3 hide-for-small hide-for-touch m-t" ng-class="{'hidden-xs': !showFiltersMobile}">
                <div class="panel panel-default">
                    <div class="panel-heading b-b">Refine search</div>
                    <div class="panel-body">

                        <!--Cuisine-->

                        <div class="panel-title m-b">Cuisine</div>
                        <ul class="list-unstyled m-t-n-sm">
                            <li class="checkbox i-checks">
                                <label> <input type="checkbox" ng-checked="! restaurantList.params['category-in']"
                                               ng-click="selectAllCategories(allCategoriesSelected)">
                                    <i></i> All Categories
                                </label>
                            </li>
                            <li class="checkbox i-checks" ng-repeat="(category, value) in listedCategories">
                                <label>
                                    <input type="checkbox" ng-model="listedCategories[category]"><i></i>
                                    {{ category }}
                                </label>
                            </li>
                            <input type="text" ng-model="newCategory" placeholder=" Search cuisine"
                                   typeahead-on-select="addCategory(newCategory); newCategory=''"
                                   typeahead="category for category in allCategories | filter:$viewValue"
                                   class="form-control ng-pristine ng-valid" >
                        </ul>
                        <div class="line line-dashed b-b line-lg"></div>

                        <!--Price-->

                        <div class="panel-title m-b">Price</div>
                        <label>
                            <select class="form-control price-select ng-pristine ng-valid"
                                    ng-model="restaurantList.params['price_range-greater-than-or-equal-to']"
                                    style="width: 90px; display: inline-block;">
                                <option value="0">$</option>
                                <option value="1">$$</option>
                                <option value="2">$$$</option>
                                <option value="3">$$$$</option>
                                <option value="4">$$$$$</option>
                            </select>
                        </label>
                        <label> to
                            <select class="form-control price-select ng-pristine ng-valid"
                                    ng-model="restaurantList.params['price_range-less-than-or-equal-to']"
                                    style="width: 90px; display: inline-block;">
                                <option value="0">$</option>
                                <option value="1">$$</option>
                                <option value="2">$$$</option>
                                <option value="3">$$$$</option>
                                <option value="4">$$$$$</option>
                            </select>
                        </label>
                        <div class="line line-dashed b-b line-lg"></div>

                        <!--Rating-->

                        <div class="panel-title m-b">Rating</div>
                        <ul class="list-unstyled">
                            <li class="radio i-checks" ng-repeat="option in ratingFilterOptions"><label>
                                <input type="radio" name="rating" ng-model="ratingFilterValue" value="{{option.value}}"
                                       ng-change="setRatingFilter(ratingFilterValue)"><i></i> {{option.label}}</label>
                            </li>
                        </ul>

                        <div class="line line-dashed b-b line-lg"></div>

                        <!--Distance-->

                        <div class="panel-title m-b" ng-show="nearMe">Distance</div>
                        <ul class="list-unstyled" ng-show="nearMe">
                            <li class="radio i-checks" ng-repeat="option in distanceFilterOptions"><label>
                                <input type="radio" name="distance" ng-model="distanceFilterValue" value="{{option.value}}"
                                       ng-change="setDistanceFilter(distanceFilterValue)"><i></i> {{option.label}}</label>
                            </li>
                        </ul>

                        <div class="line line-dashed b-b line-lg"></div>

                        <!--Trend-->

                        <div class="panel-title m-b">Trend</div>
                        <ul class="list-unstyled">
                            <li class="radio i-checks" ng-repeat="option in trendFilterOptions"><label>
                                <input type="radio" name="trend" ng-model="trendFilterValue" value="{{option.value}}"
                                       ng-change="setTrendFilter(trendFilterValue)"><i></i> {{option.label}}</label>
                            </li>
                        </ul>

                        <div class="line line-dashed b-b line-lg"></div>

                        <button class="btn btn-default btn-rounded form-control" ng-click="toggleFiltersMobile()">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>

                        <!--<div class="line line-dashed b-b line-lg"></div>-->
                        <!--<ul class="list-unstyled">-->
                        <!--<li class="radio i-checks"><label>-->
                        <!--<input type="radio" name="filter" checked=""><i></i> Today </label>-->
                        <!--</li>-->
                        <!--<li class="radio i-checks"><label> <input type="radio" name="filter"><i></i>-->
                        <!--Last Week </label></li>-->
                        <!--<li class="radio i-checks"><label> <input type="radio" name="filter"><i></i>-->
                        <!--Last Month </label></li>-->
                        <!--</ul>-->
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--<footer class="ir-footer" ng-include="footer"></footer>-->
</section>