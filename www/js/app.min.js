!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.1",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)
},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,"script"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||tb(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?tb(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))
},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=l.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function tc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,n.ajaxSettings),b):tc(n.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Bc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join("&").replace(wc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Dc)Dc[a]()}),k.cors=!!Fc&&"withCredentials"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(a){var b;return k.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||n.expando+"_"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Ic=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Jc})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Mc),b&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n});(function(a,b,c){"use strict";function d(a){return function(){var b=arguments[0],c="["+(a?a+":":"")+b+"] ",d=arguments[1],e=arguments,f=function(a){if(typeof a==="function"){return a.toString().replace(/ \{[\s\S]*$/,"")}else if(typeof a==="undefined"){return"undefined"}else if(typeof a!=="string"){return JSON.stringify(a)}return a},g,h;g=c+d.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c;if(b+2<e.length){c=e[b+2];if(typeof c==="function"){return c.toString().replace(/ ?\{[\s\S]*$/,"")}else if(typeof c==="undefined"){return"undefined"}else if(typeof c!=="string"){return mb(c)}return c}return a});g=g+"\nhttp://errors.angularjs.org/1.2.26/"+(a?a+"/":"")+b;for(h=2;h<arguments.length;h++){g=g+(h==2?"?":"&")+"p"+(h-2)+"="+encodeURIComponent(f(arguments[h]))}return new Error(g)}}var e="validity";var f=function(a){return L(a)?a.toLowerCase():a};var g=Object.prototype.hasOwnProperty;var h=function(a){return L(a)?a.toUpperCase():a};var i=function(a){return L(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)|32)}):a};var j=function(a){return L(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(a.charCodeAt(0)&~32)}):a};if("i"!=="I".toLowerCase()){f=i;h=j}var k,l,m,n=[].slice,o=[].push,p=Object.prototype.toString,q=d("ng"),r=a.angular||(a.angular={}),s,t,u=["0","0","0"];k=D((/msie (\d+)/.exec(f(navigator.userAgent))||[])[1]);if(isNaN(k)){k=D((/trident\/.*; rv:(\d+)/.exec(f(navigator.userAgent))||[])[1])}function v(a){if(a==null||R(a)){return false}var b=a.length;if(a.nodeType===1&&b){return true}return L(a)||O(a)||b===0||typeof b==="number"&&b>0&&b-1 in a}function w(a,b,c){var d;if(a){if(P(a)){for(d in a){if(d!="prototype"&&d!="length"&&d!="name"&&(!a.hasOwnProperty||a.hasOwnProperty(d))){b.call(c,a[d],d)}}}else if(O(a)||v(a)){for(d=0;d<a.length;d++){b.call(c,a[d],d)}}else if(a.forEach&&a.forEach!==w){a.forEach(b,c)}else{for(d in a){if(a.hasOwnProperty(d)){b.call(c,a[d],d)}}}}return a}function x(a){var b=[];for(var c in a){if(a.hasOwnProperty(c)){b.push(c)}}return b.sort()}function y(a,b,c){var d=x(a);for(var e=0;e<d.length;e++){b.call(c,a[d[e]],d[e])}return d}function z(a){return function(b,c){a(c,b)}}function A(){var a=u.length;var b;while(a){a--;b=u[a].charCodeAt(0);if(b==57){u[a]="A";return u.join("")}if(b==90){u[a]="0"}else{u[a]=String.fromCharCode(b+1);return u.join("")}}u.unshift("0");return u.join("")}function B(a,b){if(b){a.$$hashKey=b}else{delete a.$$hashKey}}function C(a){var b=a.$$hashKey;w(arguments,function(b){if(b!==a){w(b,function(b,c){a[c]=b})}});B(a,b);return a}function D(a){return parseInt(a,10)}function E(a,b){return C(new(C(function(){},{prototype:a})),b)}function F(){}F.$inject=[];function G(a){return a}G.$inject=[];function H(a){return function(){return a}}function I(a){return typeof a==="undefined"}function J(a){return typeof a!=="undefined"}function K(a){return a!=null&&typeof a==="object"}function L(a){return typeof a==="string"}function M(a){return typeof a==="number"}function N(a){return p.call(a)==="[object Date]"}var O=function(){if(!P(Array.isArray)){return function(a){return p.call(a)==="[object Array]"}}return Array.isArray}();function P(a){return typeof a==="function"}function Q(a){return p.call(a)==="[object RegExp]"}function R(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function S(a){return a&&a.$evalAsync&&a.$watch}function T(a){return p.call(a)==="[object File]"}function U(a){return p.call(a)==="[object Blob]"}function V(a){return typeof a==="boolean"}function W(a){return a&&P(a.then)}var X=function(){if(!String.prototype.trim){return function(a){return L(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}return function(a){return L(a)?a.trim():a}}();function Y(a){return!!(a&&(a.nodeName||a.prop&&a.attr&&a.find))}function Z(a){var b={},c=a.split(","),d;for(d=0;d<c.length;d++)b[c[d]]=true;return b}if(k<9){t=function(a){a=a.nodeName?a:a[0];return a.scopeName&&a.scopeName!="HTML"?h(a.scopeName+":"+a.nodeName):a.nodeName}}else{t=function(a){return a.nodeName?a.nodeName:a[0].nodeName}}function $(a,b,c){var d=[];w(a,function(a,e,f){d.push(b.call(c,a,e,f))});return d}function _(a,b){var c=0,d;if(O(a)||L(a)){return a.length}else if(K(a)){for(d in a)if(!b||a.hasOwnProperty(d))c++}return c}function ab(a,b){return bb(a,b)!=-1}function bb(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++){if(b===a[c])return c}return-1}function cb(a,b){var c=bb(a,b);if(c>=0)a.splice(c,1);return b}function db(a){if(a){switch(a.nodeName){case"OPTION":case"PRE":case"TITLE":return true}}return false}function eb(a,b,c,d){if(R(a)||S(a)){throw q("cpws","Can't copy! Making copies of Window or Scope instances is not supported.")}if(!b){b=a;if(a){if(O(a)){b=eb(a,[],c,d)}else if(N(a)){b=new Date(a.getTime())}else if(Q(a)){b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]);b.lastIndex=a.lastIndex}else if(K(a)){b=eb(a,{},c,d)}}}else{if(a===b)throw q("cpi","Can't copy! Source and destination are identical.");c=c||[];d=d||[];if(K(a)){var e=bb(c,a);if(e!==-1)return d[e];c.push(a);d.push(b)}var f;if(O(a)){b.length=0;for(var g=0;g<a.length;g++){f=eb(a[g],null,c,d);if(K(a[g])){c.push(a[g]);d.push(f)}b.push(f)}}else{var h=b.$$hashKey;if(O(b)){b.length=0}else{w(b,function(a,c){delete b[c]})}for(var i in a){f=eb(a[i],null,c,d);if(K(a[i])){c.push(a[i]);d.push(f)}b[i]=f}B(b,h)}}return b}function fb(a,b){if(O(a)){b=b||[];for(var c=0;c<a.length;c++){b[c]=a[c]}}else if(K(a)){b=b||{};for(var d in a){if(g.call(a,d)&&!(d.charAt(0)==="$"&&d.charAt(1)==="$")){b[d]=a[d]}}}return b||a}function gb(a,b){if(a===b)return true;if(a===null||b===null)return false;if(a!==a&&b!==b)return true;var d=typeof a,e=typeof b,f,g,h;if(d==e){if(d=="object"){if(O(a)){if(!O(b))return false;if((f=a.length)==b.length){for(g=0;g<f;g++){if(!gb(a[g],b[g]))return false}return true}}else if(N(a)){if(!N(b))return false;return isNaN(a.getTime())&&isNaN(b.getTime())||a.getTime()===b.getTime()}else if(Q(a)&&Q(b)){return a.toString()==b.toString()}else{if(S(a)||S(b)||R(a)||R(b)||O(b))return false;h={};for(g in a){if(g.charAt(0)==="$"||P(a[g]))continue;if(!gb(a[g],b[g]))return false;h[g]=true}for(g in b){if(!h.hasOwnProperty(g)&&g.charAt(0)!=="$"&&b[g]!==c&&!P(b[g]))return false}return true}}}return false}var hb=function(){if(J(hb.isActive_))return hb.isActive_;var a=!!(b.querySelector("[ng-csp]")||b.querySelector("[data-ng-csp]"));if(!a){try{new Function("")}catch(c){a=true}}return hb.isActive_=a};function ib(a,b,c){return a.concat(n.call(b,c))}function jb(a,b){return n.call(a,b||0)}function kb(a,b){var c=arguments.length>2?jb(arguments,2):[];if(P(b)&&!(b instanceof RegExp)){return c.length?function(){return arguments.length?b.apply(a,c.concat(n.call(arguments,0))):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}else{return b}}function lb(a,d){var e=d;if(typeof a==="string"&&a.charAt(0)==="$"){e=c}else if(R(d)){e="$WINDOW"}else if(d&&b===d){e="$DOCUMENT"}else if(S(d)){e="$SCOPE"}return e}function mb(a,b){if(typeof a==="undefined")return c;return JSON.stringify(a,lb,b?"  ":null)}function nb(a){return L(a)?JSON.parse(a):a}function ob(a){if(typeof a==="function"){a=true}else if(a&&a.length!==0){var b=f(""+a);a=!(b=="f"||b=="0"||b=="false"||b=="no"||b=="n"||b=="[]")}else{a=false}return a}function pb(a){a=l(a).clone();try{a.empty()}catch(b){}var c=3;var d=l("<div>").append(a).html();try{return a[0].nodeType===c?f(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+f(b)})}catch(b){return f(d)}}function qb(a){try{return decodeURIComponent(a)}catch(b){}}function rb(a){var b={},c,d;w((a||"").split("&"),function(a){if(a){c=a.replace(/\+/g,"%20").split("=");d=qb(c[0]);if(J(d)){var e=J(c[1])?qb(c[1]):true;if(!g.call(b,d)){b[d]=e}else if(O(b[d])){b[d].push(e)}else{b[d]=[b[d],e]}}}});return b}function sb(a){var b=[];w(a,function(a,c){if(O(a)){w(a,function(a){b.push(ub(c,true)+(a===true?"":"="+ub(a,true)))})}else{b.push(ub(c,true)+(a===true?"":"="+ub(a,true)))}});return b.length?b.join("&"):""}function tb(a){return ub(a,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ub(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function vb(a,c){var d=[a],e,f,g=["ng:app","ng-app","x-ng-app","data-ng-app"],h=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;function i(a){a&&d.push(a)}w(g,function(c){g[c]=true;i(b.getElementById(c));c=c.replace(":","\\:");if(a.querySelectorAll){w(a.querySelectorAll("."+c),i);w(a.querySelectorAll("."+c+"\\:"),i);w(a.querySelectorAll("["+c+"]"),i)}});w(d,function(a){if(!e){var b=" "+a.className+" ";var c=h.exec(b);if(c){e=a;f=(c[2]||"").replace(/\s+/g,",")}else{w(a.attributes,function(b){if(!e&&g[b.name]){e=a;f=b.value}})}}});if(e){c(e,f?[f]:[])}}function wb(c,d){var e=function(){c=l(c);if(c.injector()){var a=c[0]===b?"document":pb(c);throw q("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[];d.unshift(["$provide",function(a){a.value("$rootElement",c)}]);d.unshift("ng");var e=Ac(d);e.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d,e){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return e};var f=/^NG_DEFER_BOOTSTRAP!/;if(a&&!f.test(a.name)){return e()}a.name=a.name.replace(f,"");r.resumeBootstrap=function(a){w(a,function(a){d.push(a)});e()}}var xb=/[A-Z]/g;function yb(a,b){b=b||"_";return a.replace(xb,function(a,c){return(c?b:"")+a.toLowerCase()})}function zb(){m=a.jQuery;if(m&&m.fn.on){l=m;C(m.fn,{scope:nc.scope,isolateScope:nc.isolateScope,controller:nc.controller,injector:nc.injector,inheritedData:nc.inheritedData});Sb("remove",true,true,false);Sb("empty",false,false,false);Sb("html",false,false,true)}else{l=_b}r.element=l}function Ab(a,b,c){if(!a){throw q("areq","Argument '{0}' is {1}",b||"?",c||"required")}return a}function Bb(a,b,c){if(c&&O(a)){a=a[a.length-1]}Ab(P(a),b,"not a function, got "+(a&&typeof a==="object"?a.constructor.name||"Object":typeof a));return a}function Cb(a,b){if(a==="hasOwnProperty"){throw q("badname","hasOwnProperty is not a valid {0} name",b)}}function Db(a,b,c){if(!b)return a;var d=b.split(".");var e;var f=a;var g=d.length;for(var h=0;h<g;h++){e=d[h];if(a){a=(f=a)[e]}}if(!c&&P(a)){return kb(f,a)}return a}function Eb(a){var b=a[0],c=a[a.length-1];if(b===c){return l(b)}var d=b;var e=[d];do{d=d.nextSibling;if(!d)break;e.push(d)}while(d!==c);return l(e)}function Fb(a){var b=d("$injector");var c=d("ng");function e(a,b,c){return a[b]||(a[b]=c())}var f=e(a,"angular",Object);f.$$minErr=f.$$minErr||d;return e(f,"module",function(){var a={};return function d(f,g,h){var i=function(a,b){if(a==="hasOwnProperty"){throw c("badname","hasOwnProperty is not a valid {0} name",b)}};i(f,"module");if(g&&a.hasOwnProperty(f)){a[f]=null}return e(a,f,function(){if(!g){throw b("nomod","Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",f)}var a=[];var c=[];var d=i("$injector","invoke");var e={_invokeQueue:a,_runBlocks:c,requires:g,name:f,provider:i("$provide","provider"),factory:i("$provide","factory"),service:i("$provide","service"),value:i("$provide","value"),constant:i("$provide","constant","unshift"),animation:i("$animateProvider","register"),filter:i("$filterProvider","register"),controller:i("$controllerProvider","register"),directive:i("$compileProvider","directive"),config:d,run:function(a){c.push(a);return this}};if(h){d(h)}return e;function i(b,c,d){return function(){a[d||"push"]([b,c,arguments]);return e}}})}})}var Gb={full:"1.2.26",major:1,minor:2,dot:26,codeName:"captivating-disinterest"};function Hb(b){C(b,{bootstrap:wb,copy:eb,extend:C,equals:gb,element:l,forEach:w,injector:Ac,noop:F,bind:kb,toJson:mb,fromJson:nb,identity:G,isUndefined:I,isDefined:J,isString:L,isFunction:P,isObject:K,isNumber:M,isElement:Y,isArray:O,version:Gb,isDate:N,lowercase:f,uppercase:h,callbacks:{counter:0},$$minErr:d,$$csp:hb});
s=Fb(a);try{s("ngLocale")}catch(c){s("ngLocale",[]).provider("$locale",cd)}s("ng",["ngLocale"],["$provide",function e(a){a.provider({$$sanitizeUri:Qd});a.provider("$compile",Kc).directive({a:ye,input:Te,textarea:Te,form:De,script:Df,select:Gf,style:If,option:Hf,ngBind:df,ngBindHtml:ff,ngBindTemplate:ef,ngClass:hf,ngClassEven:kf,ngClassOdd:jf,ngCloak:lf,ngController:mf,ngForm:Ee,ngHide:xf,ngIf:pf,ngInclude:qf,ngInit:sf,ngNonBindable:tf,ngPluralize:uf,ngRepeat:vf,ngShow:wf,ngStyle:yf,ngSwitch:zf,ngSwitchWhen:Af,ngSwitchDefault:Bf,ngOptions:Ff,ngTransclude:Cf,ngModel:Ze,ngList:af,ngChange:$e,required:_e,ngRequired:_e,ngValue:cf}).directive({ngInclude:rf}).directive(ze).directive(nf);a.provider({$anchorScroll:Bc,$animate:Dc,$browser:Gc,$cacheFactory:Hc,$controller:Qc,$document:Rc,$exceptionHandler:Sc,$filter:de,$interpolate:ad,$interval:bd,$http:Xc,$httpBackend:Zc,$location:sd,$log:td,$parse:Ld,$rootScope:Pd,$q:Md,$sce:Xd,$sceDelegate:Wd,$sniffer:Yd,$templateCache:Ic,$timeout:Zd,$window:ce,$$rAF:Od,$$asyncCallback:Ec})}])}_b.expando="ng339";var Ib=_b.cache={},Jb=1,Kb=a.document.addEventListener?function(a,b,c){a.addEventListener(b,c,false)}:function(a,b,c){a.attachEvent("on"+b,c)},Lb=a.document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,false)}:function(a,b,c){a.detachEvent("on"+b,c)};var Mb=_b._data=function(a){return this.cache[a[this.expando]]||{}};function Nb(){return++Jb}var Ob=/([\:\-\_]+(.))/g;var Pb=/^moz([A-Z])/;var Qb=d("jqLite");function Rb(a){return a.replace(Ob,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Pb,"Moz$1")}function Sb(a,b,c,d){var e=m.fn[a];e=e.$original||e;f.$original=e;m.fn[a]=f;function f(a){var f=c&&a?[this.filter(a)]:[this],g=b,h,i,j,k,n,o,p;if(!d||a!=null){while(f.length){h=f.shift();for(i=0,j=h.length;i<j;i++){k=l(h[i]);if(g){k.triggerHandler("$destroy")}else{g=!g}for(n=0,o=(p=k.children()).length;n<o;n++){f.push(m(p[n]))}}}}return e.apply(this,arguments)}}var Tb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;var Ub=/<|&#?\w+;/;var Vb=/<([\w:]+)/;var Wb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;var Xb={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xb.optgroup=Xb.option;Xb.tbody=Xb.tfoot=Xb.colgroup=Xb.caption=Xb.thead;Xb.th=Xb.td;function Yb(a){return!Ub.test(a)}function Zb(a,b){var c,d,e,f,g=b.createDocumentFragment(),h=[],i,j,k;if(Yb(a)){h.push(b.createTextNode(a))}else{d=g.appendChild(b.createElement("div"));e=(Vb.exec(a)||["",""])[1].toLowerCase();f=Xb[e]||Xb._default;d.innerHTML="<div>&#160;</div>"+f[1]+a.replace(Wb,"<$1></$2>")+f[2];d.removeChild(d.firstChild);i=f[0];while(i--){d=d.lastChild}for(j=0,k=d.childNodes.length;j<k;++j)h.push(d.childNodes[j]);d=g.firstChild;d.textContent=""}g.textContent="";g.innerHTML="";return h}function $b(a,c){c=c||b;var d;if(d=Tb.exec(a)){return[c.createElement(d[1])]}return Zb(a,c)}function _b(a){if(a instanceof _b){return a}if(L(a)){a=X(a)}if(!(this instanceof _b)){if(L(a)&&a.charAt(0)!="<"){throw Qb("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element")}return new _b(a)}if(L(a)){jc(this,$b(a));var c=l(b.createDocumentFragment());c.append(this)}else{jc(this,a)}}function ac(a){return a.cloneNode(true)}function bc(a){dc(a);for(var b=0,c=a.childNodes||[];b<c.length;b++){bc(c[b])}}function cc(a,b,c,d){if(J(d))throw Qb("offargs","jqLite#off() does not support the `selector` argument");var e=ec(a,"events"),f=ec(a,"handle");if(!f)return;if(I(b)){w(e,function(b,c){Lb(a,c,b);delete e[c]})}else{w(b.split(" "),function(b){if(I(c)){Lb(a,b,e[b]);delete e[b]}else{cb(e[b]||[],c)}})}}function dc(a,b){var d=a.ng339,e=Ib[d];if(e){if(b){delete Ib[d].data[b];return}if(e.handle){e.events.$destroy&&e.handle({},"$destroy");cc(a)}delete Ib[d];a.ng339=c}}function ec(a,b,c){var d=a.ng339,e=Ib[d||-1];if(J(c)){if(!e){a.ng339=d=Nb();e=Ib[d]={}}e[b]=c}else{return e&&e[b]}}function fc(a,b,c){var d=ec(a,"data"),e=J(c),f=!e&&J(b),g=f&&!K(b);if(!d&&!g){ec(a,"data",d={})}if(e){d[b]=c}else{if(f){if(g){return d&&d[b]}else{C(d,b)}}else{return d}}}function gc(a,b){if(!a.getAttribute)return false;return(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1}function hc(a,b){if(b&&a.setAttribute){w(b.split(" "),function(b){a.setAttribute("class",X((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+X(b)+" "," ")))})}}function ic(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");w(b.split(" "),function(a){a=X(a);if(c.indexOf(" "+a+" ")===-1){c+=a+" "}});a.setAttribute("class",X(c))}}function jc(a,b){if(b){b=!b.nodeName&&J(b.length)&&!R(b)?b:[b];for(var c=0;c<b.length;c++){a.push(b[c])}}}function kc(a,b){return lc(a,"$"+(b||"ngController")+"Controller")}function lc(a,b,d){if(a.nodeType==9){a=a.documentElement}var e=O(b)?b:[b];while(a){for(var f=0,g=e.length;f<g;f++){if((d=l.data(a,e[f]))!==c)return d}a=a.parentNode||a.nodeType===11&&a.host}}function mc(a){for(var b=0,c=a.childNodes;b<c.length;b++){bc(c[b])}while(a.firstChild){a.removeChild(a.firstChild)}}var nc=_b.prototype={ready:function(c){var d=false;function e(){if(d)return;d=true;c()}if(b.readyState==="complete"){setTimeout(e)}else{this.on("DOMContentLoaded",e);_b(a).on("load",e)}},toString:function(){var a=[];w(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return a>=0?l(this[a]):l(this[this.length+a])},length:0,push:o,sort:[].sort,splice:[].splice};var oc={};w("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){oc[f(a)]=a});var pc={};w("input,select,option,textarea,button,form,details".split(","),function(a){pc[h(a)]=true});function qc(a,b){var c=oc[b.toLowerCase()];return c&&pc[a.nodeName]&&c}w({data:fc,removeData:dc},function(a,b){_b[b]=a});w({data:fc,inheritedData:lc,scope:function(a){return l.data(a,"$scope")||lc(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return l.data(a,"$isolateScope")||l.data(a,"$isolateScopeNoTemplate")},controller:kc,injector:function(a){return lc(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:gc,css:function(a,b,d){b=Rb(b);if(J(d)){a.style[b]=d}else{var e;if(k<=8){e=a.currentStyle&&a.currentStyle[b];if(e==="")e="auto"}e=e||a.style[b];if(k<=8){e=e===""?c:e}return e}},attr:function(a,b,d){var e=f(b);if(oc[e]){if(J(d)){if(!!d){a[b]=true;a.setAttribute(b,e)}else{a[b]=false;a.removeAttribute(e)}}else{return a[b]||(a.attributes.getNamedItem(b)||F).specified?e:c}}else if(J(d)){a.setAttribute(b,d)}else if(a.getAttribute){var g=a.getAttribute(b,2);return g===null?c:g}},prop:function(a,b,c){if(J(c)){a[b]=c}else{return a[b]}},text:function(){var a=[];if(k<9){a[1]="innerText";a[3]="nodeValue"}else{a[1]=a[3]="textContent"}b.$dv="";return b;function b(b,c){var d=a[b.nodeType];if(I(c)){return d?b[d]:""}b[d]=c}}(),val:function(a,b){if(I(b)){if(t(a)==="SELECT"&&a.multiple){var c=[];w(a.options,function(a){if(a.selected){c.push(a.value||a.text)}});return c.length===0?null:c}return a.value}a.value=b},html:function(a,b){if(I(b)){return a.innerHTML}for(var c=0,d=a.childNodes;c<d.length;c++){bc(d[c])}a.innerHTML=b},empty:mc},function(a,b){_b.prototype[b]=function(b,d){var e,f;var g=this.length;if(a!==mc&&(a.length==2&&(a!==gc&&a!==kc)?b:d)===c){if(K(b)){for(e=0;e<g;e++){if(a===fc){a(this[e],b)}else{for(f in b){a(this[e],f,b[f])}}}return this}else{var h=a.$dv;var i=h===c?Math.min(g,1):g;for(var j=0;j<i;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}}else{for(e=0;e<g;e++){a(this[e],b,d)}return this}}});function rc(a,c){var d=function(d,e){if(!d.preventDefault){d.preventDefault=function(){d.returnValue=false}}if(!d.stopPropagation){d.stopPropagation=function(){d.cancelBubble=true}}if(!d.target){d.target=d.srcElement||b}if(I(d.defaultPrevented)){var f=d.preventDefault;d.preventDefault=function(){d.defaultPrevented=true;f.call(d)};d.defaultPrevented=false}d.isDefaultPrevented=function(){return d.defaultPrevented||d.returnValue===false};var g=fb(c[e||d.type]||[]);w(g,function(b){b.call(a,d)});if(k<=8){d.preventDefault=null;d.stopPropagation=null;d.isDefaultPrevented=null}else{delete d.preventDefault;delete d.stopPropagation;delete d.isDefaultPrevented}};d.elem=a;return d}w({removeData:dc,dealoc:bc,on:function Jf(a,c,d,e){if(J(e))throw Qb("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var f=ec(a,"events"),g=ec(a,"handle");if(!f)ec(a,"events",f={});if(!g)ec(a,"handle",g=rc(a,f));w(c.split(" "),function(c){var e=f[c];if(!e){if(c=="mouseenter"||c=="mouseleave"){var h=b.body.contains||b.body.compareDocumentPosition?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&d.nodeType===1&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true}}}return false};f[c]=[];var i={mouseleave:"mouseout",mouseenter:"mouseover"};Jf(a,i[c],function(a){var b=this,d=a.relatedTarget;if(!d||d!==b&&!h(b,d)){g(a,c)}})}else{Kb(a,c,g);f[c]=[]}e=f[c]}e.push(d)})},off:cc,one:function(a,b,c){a=l(a);a.on(b,function d(){a.off(b,c);a.off(b,d)});a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;bc(a);w(new _b(b),function(b){if(c){d.insertBefore(b,c.nextSibling)}else{d.replaceChild(b,a)}c=b})},children:function(a){var b=[];w(a.childNodes,function(a){if(a.nodeType===1)b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){w(new _b(b),function(b){if(a.nodeType===1||a.nodeType===11){a.appendChild(b)}})},prepend:function(a,b){if(a.nodeType===1){var c=a.firstChild;w(new _b(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=l(b)[0];var c=a.parentNode;if(c){c.replaceChild(b,a)}b.appendChild(a)},remove:function(a){bc(a);var b=a.parentNode;if(b)b.removeChild(a)},after:function(a,b){var c=a,d=a.parentNode;w(new _b(b),function(a){d.insertBefore(a,c.nextSibling);c=a})},addClass:ic,removeClass:hc,toggleClass:function(a,b,c){if(b){w(b.split(" "),function(b){var d=c;if(I(d)){d=!gc(a,b)}(d?ic:hc)(a,b)})}},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},next:function(a){if(a.nextElementSibling){return a.nextElementSibling}var b=a.nextSibling;while(b!=null&&b.nodeType!==1){b=b.nextSibling}return b},find:function(a,b){if(a.getElementsByTagName){return a.getElementsByTagName(b)}else{return[]}},clone:ac,triggerHandler:function(a,b,c){var d,e,f;var g=b.type||b;var h=(ec(a,"events")||{})[g];if(h){d={preventDefault:function(){this.defaultPrevented=true},isDefaultPrevented:function(){return this.defaultPrevented===true},stopPropagation:F,type:g,target:a};if(b.type){d=C(d,b)}e=fb(h);f=c?[d].concat(c):[d];w(e,function(b){b.apply(a,f)})}}},function(a,b){_b.prototype[b]=function(b,c,d){var e;for(var f=0;f<this.length;f++){if(I(e)){e=a(this[f],b,c,d);if(J(e)){e=l(e)}}else{jc(e,a(this[f],b,c,d))}}return J(e)?e:this};_b.prototype.bind=_b.prototype.on;_b.prototype.unbind=_b.prototype.off});function sc(a,b){var d=typeof a,e;if(d=="function"||d=="object"&&a!==null){if(typeof(e=a.$$hashKey)=="function"){e=a.$$hashKey()}else if(e===c){e=a.$$hashKey=(b||A)()}}else{e=a}return d+":"+e}function tc(a,b){if(b){var c=0;this.nextUid=function(){return++c}}w(a,this.put,this)}tc.prototype={put:function(a,b){this[sc(a,this.nextUid)]=b},get:function(a){return this[sc(a,this.nextUid)]},remove:function(a){var b=this[a=sc(a,this.nextUid)];delete this[a];return b}};var uc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m;var vc=/,/;var wc=/^\s*(_?)(\S+?)\1\s*$/;var xc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;var yc=d("$injector");function zc(a){var b,c,d,e;if(typeof a==="function"){if(!(b=a.$inject)){b=[];if(a.length){c=a.toString().replace(xc,"");d=c.match(uc);w(d[1].split(vc),function(a){a.replace(wc,function(a,c,d){b.push(d)})})}a.$inject=b}}else if(O(a)){e=a.length-1;Bb(a[e],"fn");b=a.slice(0,e)}else{Bb(a,"fn",true)}return b}function Ac(a){var b={},c="Provider",d=[],e=new tc([],true),f={$provide:{provider:j(k),factory:j(l),service:j(m),value:j(n),constant:j(o),decorator:p}},g=f.$injector=r(f,function(){throw yc("unpr","Unknown provider: {0}",d.join(" <- "))}),h={},i=h.$injector=r(h,function(a){var b=g.get(a+c);return i.invoke(b.$get,b)});w(q(a),function(a){i.invoke(a||F)});return i;function j(a){return function(b,c){if(K(b)){w(b,z(a))}else{return a(b,c)}}}function k(a,b){Cb(a,"service");if(P(b)||O(b)){b=g.instantiate(b)}if(!b.$get){throw yc("pget","Provider '{0}' must define $get factory method.",a)}return f[a+c]=b}function l(a,b){return k(a,{$get:b})}function m(a,b){return l(a,["$injector",function(a){return a.instantiate(b)}])}function n(a,b){return l(a,H(b))}function o(a,b){Cb(a,"constant");f[a]=b;h[a]=b}function p(a,b){var d=g.get(a+c),e=d.$get;d.$get=function(){var a=i.invoke(e,d);return i.invoke(b,null,{$delegate:a})}}function q(a){var b=[],c,d,f,h;w(a,function(a){if(e.get(a))return;e.put(a,true);try{if(L(a)){c=s(a);b=b.concat(q(c.requires)).concat(c._runBlocks);for(d=c._invokeQueue,f=0,h=d.length;f<h;f++){var i=d[f],j=g.get(i[0]);j[i[1]].apply(j,i[2])}}else if(P(a)){b.push(g.invoke(a))}else if(O(a)){b.push(g.invoke(a))}else{Bb(a,"module")}}catch(k){if(O(a)){a=a[a.length-1]}if(k.message&&k.stack&&k.stack.indexOf(k.message)==-1){k=k.message+"\n"+k.stack}throw yc("modulerr","Failed to instantiate module {0} due to:\n{1}",a,k.stack||k.message||k)}});return b}function r(a,e){function g(c){if(a.hasOwnProperty(c)){if(a[c]===b){throw yc("cdep","Circular dependency found: {0}",c+" <- "+d.join(" <- "))}return a[c]}else{try{d.unshift(c);a[c]=b;return a[c]=e(c)}catch(f){if(a[c]===b){delete a[c]}throw f}finally{d.shift()}}}function h(a,b,c){var d=[],e=zc(a),f,h,i;for(h=0,f=e.length;h<f;h++){i=e[h];if(typeof i!=="string"){throw yc("itkn","Incorrect injection token! Expected service name as string, got {0}",i)}d.push(c&&c.hasOwnProperty(i)?c[i]:g(i))}if(O(a)){a=a[f]}return a.apply(b,d)}function i(a,b){var c=function(){},d,e;c.prototype=(O(a)?a[a.length-1]:a).prototype;d=new c;e=h(a,d,b);return K(e)||P(e)?e:d}return{invoke:h,instantiate:i,get:g,annotate:zc,has:function(b){return f.hasOwnProperty(b+c)||a.hasOwnProperty(b)}}}}function Bc(){var a=true;this.disableAutoScrolling=function(){a=false};this.$get=["$window","$location","$rootScope",function(b,c,d){var e=b.document;function g(a){var b=null;w(a,function(a){if(!b&&f(a.nodeName)==="a")b=a});return b}function h(){var a=c.hash(),d;if(!a)b.scrollTo(0,0);else if(d=e.getElementById(a))d.scrollIntoView();else if(d=g(e.getElementsByName(a)))d.scrollIntoView();else if(a==="top")b.scrollTo(0,0)}if(a){d.$watch(function i(){return c.hash()},function j(){d.$evalAsync(h)})}return h}]}var Cc=d("$animate");var Dc=["$provide",function(a){this.$$selectors={};this.register=function(b,c){var d=b+"-animation";if(b&&b.charAt(0)!=".")throw Cc("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d;a.factory(d,c)};this.classNameFilter=function(a){if(arguments.length===1){this.$$classNameFilter=a instanceof RegExp?a:null}return this.$$classNameFilter};this.$get=["$timeout","$$asyncCallback",function(a,b){function c(a){a&&b(a)}return{enter:function(a,b,d,e){if(d){d.after(a)}else{if(!b||!b[0]){b=d.parent()}b.append(a)}c(e)},leave:function(a,b){a.remove();c(b)},move:function(a,b,c,d){this.enter(a,b,c,d)},addClass:function(a,b,d){b=L(b)?b:O(b)?b.join(" "):"";w(a,function(a){ic(a,b)});c(d)},removeClass:function(a,b,d){b=L(b)?b:O(b)?b.join(" "):"";w(a,function(a){hc(a,b)});c(d)},setClass:function(a,b,d,e){w(a,function(a){ic(a,b);hc(a,d)});c(e)},enabled:F}}]}];function Ec(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,false)}}]}function Fc(a,b,d,e){var f=this,g=b[0],h=a.location,i=a.history,j=a.setTimeout,k=a.clearTimeout,m={};f.isMock=false;var n=0;var o=[];f.$$completeOutstandingRequest=p;f.$$incOutstandingRequestCount=function(){n++};function p(a){try{a.apply(null,jb(arguments,1))}finally{n--;if(n===0){while(o.length){try{o.pop()()}catch(b){d.error(b)}}}}}f.notifyWhenNoOutstandingRequests=function(a){w(q,function(a){a()});if(n===0){a()}else{o.push(a)}};var q=[],r;f.addPollFn=function(a){if(I(r))s(100,j);q.push(a);return a};function s(a,b){(function c(){w(q,function(a){a()});r=b(c,a)})()}var t=h.href,u=b.find("base"),v=null;f.url=function(b,c){if(h!==a.location)h=a.location;if(i!==a.history)i=a.history;if(b){if(t==b)return;t=b;if(e.history){if(c)i.replaceState(null,"",b);else{i.pushState(null,"",b);u.attr("href",u.attr("href"))}}else{v=b;if(c){h.replace(b)}else{h.href=b}}return f}else{return v||h.href.replace(/%27/g,"'")}};var x=[],y=false;function z(){v=null;if(t==f.url())return;t=f.url();w(x,function(a){a(f.url())})}f.onUrlChange=function(b){if(!y){if(e.history)l(a).on("popstate",z);if(e.hashchange)l(a).on("hashchange",z);else f.addPollFn(z);y=true}x.push(b);return b};f.$$checkUrlChange=z;f.baseHref=function(){var a=u.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var A={};var B="";var C=f.baseHref();f.cookies=function(a,b){var e,f,h,i,j;if(a){if(b===c){g.cookie=escape(a)+"=;path="+C+";expires=Thu, 01 Jan 1970 00:00:00 GMT"}else{if(L(b)){e=(g.cookie=escape(a)+"="+escape(b)+";path="+C).length+1;if(e>4096){d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!")}}}}else{if(g.cookie!==B){B=g.cookie;f=B.split("; ");A={};for(i=0;i<f.length;i++){h=f[i];j=h.indexOf("=");if(j>0){a=unescape(h.substring(0,j));if(A[a]===c){A[a]=unescape(h.substring(j+1))}}}}return A}};f.defer=function(a,b){var c;n++;c=j(function(){delete m[c];p(a)},b||0);m[c]=true;return c};f.defer.cancel=function(a){if(m[a]){delete m[a];k(a);p(F);return true}return false}}function Gc(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Fc(a,d,b,c)}]}function Hc(){this.$get=function(){var a={};function b(b,c){if(b in a){throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",b)}var e=0,f=C({},c,{id:b}),g={},h=c&&c.capacity||Number.MAX_VALUE,i={},j=null,k=null;return a[b]={put:function(a,b){if(h<Number.MAX_VALUE){var c=i[a]||(i[a]={key:a});l(c)}if(I(b))return;if(!(a in g))e++;g[a]=b;if(e>h){this.remove(k.key)}return b},get:function(a){if(h<Number.MAX_VALUE){var b=i[a];if(!b)return;l(b)}return g[a]},remove:function(a){if(h<Number.MAX_VALUE){var b=i[a];if(!b)return;if(b==j)j=b.p;if(b==k)k=b.n;m(b.n,b.p);delete i[a]}delete g[a];e--},removeAll:function(){g={};e=0;i={};j=k=null},destroy:function(){g=null;f=null;i=null;delete a[b]},info:function(){return C({},f,{size:e})}};function l(a){if(a!=j){if(!k){k=a}else if(k==a){k=a.n}m(a.n,a.p);m(a,j);j=a;j.n=null}}function m(a,b){if(a!=b){if(a)a.p=b;if(b)b.n=a}}}b.info=function(){var b={};w(a,function(a,c){b[c]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Ic(){this.$get=["$cacheFactory",function(a){return a("templates")}]}var Jc=d("$compile");Kc.$inject=["$provide","$$sanitizeUriProvider"];function Kc(a,d){var e={},f="Directive",g=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,h=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/;var i=/^(on[a-z]+|formaction)$/;this.directive=function j(b,c){Cb(b,"directive");if(L(b)){Ab(c,"directiveFactory");if(!e.hasOwnProperty(b)){e[b]=[];a.factory(b+f,["$injector","$exceptionHandler",function(a,c){var d=[];w(e[b],function(e,f){try{var g=a.invoke(e);if(P(g)){g={compile:H(g)}}else if(!g.compile&&g.link){g.compile=H(g.link)}g.priority=g.priority||0;g.index=f;g.name=g.name||b;g.require=g.require||g.controller&&g.name;g.restrict=g.restrict||"A";d.push(g)}catch(h){c(h)}});return d}])}e[b].push(c)}else{w(b,z(j))}return this};this.aHrefSanitizationWhitelist=function(a){if(J(a)){d.aHrefSanitizationWhitelist(a);return this}else{return d.aHrefSanitizationWhitelist()}};this.imgSrcSanitizationWhitelist=function(a){if(J(a)){d.imgSrcSanitizationWhitelist(a);return this}else{return d.imgSrcSanitizationWhitelist()}};this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,j,m,n,o,p,q,r,s,u,v){var x=function(a,b){this.$$element=a;this.$attr=b||{}};x.prototype={$normalize:Mc,$addClass:function(a){if(a&&a.length>0){u.addClass(this.$$element,a)}},$removeClass:function(a){if(a&&a.length>0){u.removeClass(this.$$element,a)}},$updateClass:function(a,b){var c=Pc(a,b);var d=Pc(b,a);if(c.length===0){u.removeClass(this.$$element,d)}else if(d.length===0){u.addClass(this.$$element,c)}else{u.setClass(this.$$element,c,d)}},$set:function(a,b,d,e){var f=qc(this.$$element[0],a),g,h;if(f){this.$$element.prop(a,b);e=f}this[a]=b;if(e){this.$attr[a]=e}else{e=this.$attr[a];if(!e){this.$attr[a]=e=yb(a,"-")}}h=t(this.$$element);if(h==="A"&&a==="href"||h==="IMG"&&a==="src"){this[a]=b=v(b,a==="src")}if(d!==false){if(b===null||b===c){this.$$element.removeAttr(e)}else{this.$$element.attr(e,b)}}var i=this.$$observers;i&&w(i[a],function(a){try{a(b)}catch(c){j(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);e.push(b);q.$evalAsync(function(){if(!e.$$inter){b(c[a])}});return b}};var y=d.startSymbol(),z=d.endSymbol(),A=y=="{{"||z=="}}"?G:function bb(a){return a.replace(/\{\{/g,y).replace(/}}/g,z)},B=/^ngAttr[A-Z]/;return D;function D(a,b,c,d,e){if(!(a instanceof l)){a=l(a)}w(a,function(b,c){if(b.nodeType==3&&b.nodeValue.match(/\S+/)){a[c]=b=l(b).wrap("<span></span>").parent()[0]}});var f=H(a,b,a,c,d,e);F(a,"ng-scope");return function g(b,c,d,e){Ab(b,"scope");var g=c?nc.clone.call(a):a;w(d,function(a,b){g.data("$"+b+"Controller",a)});for(var h=0,i=g.length;h<i;h++){var j=g[h],k=j.nodeType;if(k===1||k===9){g.eq(h).data("$scope",b)}}if(c)c(g,b);if(f)f(b,g,g,e);return g}}function F(a,b){try{a.addClass(b)}catch(c){}}function H(a,b,d,e,f,g){var h=[],i,j,k,m,n,o;for(var p=0;p<a.length;p++){i=new x;j=J(a[p],[],i,p===0?e:c,f);k=j.length?Q(j,a[p],i,b,d,null,[],[],g):null;if(k&&k.scope){F(i.$$element,"ng-scope")}n=k&&k.terminal||!(m=a[p].childNodes)||!m.length?null:H(m,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b);h.push(k,n);o=o||k||n;g=null}return o?q:null;function q(a,d,e,f){var g,i,j,k,m,n,o,p;var q=d.length,r=new Array(q);for(m=0;m<q;m++){r[m]=d[m]}for(m=0,o=0,n=h.length;m<n;o++){j=r[o];g=h[m++];i=h[m++];if(g){if(g.scope){k=a.$new();l.data(j,"$scope",k)}else{k=a}if(g.transcludeOnThisElement){p=I(a,g.transclude,f)}else if(!g.templateOnThisElement&&f){p=f}else if(!f&&b){p=I(a,b)}else{p=null}g(i,k,j,e,p)}else if(i){i(a,j.childNodes,c,f)}}}}function I(a,b,c){var d=function(d,e,f){var g=false;if(!d){d=a.$new();d.$$transcluded=true;g=true}var h=b(d,e,f,c);if(g){h.on("$destroy",function(){d.$destroy()})}return h};return d}function J(a,b,c,d,e){var f=a.nodeType,i=c.$attr,j,l;switch(f){case 1:S(b,Mc(t(a).toLowerCase()),"E",d,e);for(var m,n,o,p,q,r,s=a.attributes,u=0,v=s&&s.length;u<v;u++){var w=false;var x=false;m=s[u];if(!k||k>=8||m.specified){n=m.name;q=X(m.value);p=Mc(n);if(r=B.test(p)){n=yb(p.substr(6),"-")}var y=p.replace(/(Start|End)$/,"");if(p===y+"Start"){w=n;x=n.substr(0,n.length-5)+"end";n=n.substr(0,n.length-6)}o=Mc(n.toLowerCase());i[o]=n;if(r||!c.hasOwnProperty(o)){c[o]=q;if(qc(a,o)){c[o]=true}}$(a,b,q,o);S(b,o,"A",d,e,w,x)}}l=a.className;if(L(l)&&l!==""){while(j=h.exec(l)){o=Mc(j[2]);if(S(b,o,"C",d,e)){c[o]=X(j[3])}l=l.substr(j.index+j[0].length)}}break;case 3:Y(b,a.nodeValue);break;case 8:try{j=g.exec(a.nodeValue);if(j){o=Mc(j[1]);if(S(b,o,"M",d,e)){c[o]=X(j[2])}}}catch(z){}break}b.sort(V);return b}function M(a,b,c){var d=[];var e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){var f=a;do{if(!a){throw Jc("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c)}if(a.nodeType==1){if(a.hasAttribute(b))e++;if(a.hasAttribute(c))e--}d.push(a);a=a.nextSibling}while(e>0)}else{d.push(a)}return l(d)}function N(a,b,c){return function(d,e,f,g,h){e=M(e[0],b,c);return a(d,e,f,g,h)}}function Q(a,e,f,g,h,i,k,m,n){n=n||{};var q=-Number.MAX_VALUE,r,s=n.controllerDirectives,t=n.newIsolateScopeDirective,u=n.templateDirective,v=n.nonTlbTranscludeDirective,y=false,z=false,B=n.hasElementTranscludeDirective,C=f.$$element=l(e),E,G,H,I=i,Q=g,S,V;for(var Y=0,Z=a.length;Y<Z;Y++){E=a[Y];var $=E.$$start;var bb=E.$$end;if($){C=M(e,$,bb)}H=c;if(q>E.priority){break}if(V=E.scope){r=r||E;if(!E.templateUrl){W("new/isolated scope",t,E,C);if(K(V)){t=E}}}G=E.name;if(!E.templateUrl&&E.controller){V=E.controller;s=s||{};W("'"+G+"' controller",s[G],E,C);s[G]=E}if(V=E.transclude){y=true;if(!E.$$tlb){W("transclusion",v,E,C);v=E}if(V=="element"){B=true;q=E.priority;H=C;C=f.$$element=l(b.createComment(" "+G+": "+f[G]+" "));e=C[0];_(h,jb(H),e);Q=D(H,g,q,I&&I.name,{nonTlbTranscludeDirective:v})}else{H=l(ac(e)).contents();C.empty();Q=D(H,g)}}if(E.template){z=true;W("template",u,E,C);u=E;V=P(E.template)?E.template(C,f):E.template;V=A(V);if(E.replace){I=E;if(Yb(V)){H=[]}else{H=l(X(V))}e=H[0];if(H.length!=1||e.nodeType!==1){throw Jc("tplrt","Template for directive '{0}' must have exactly one root element. {1}",G,"")}_(h,C,e);var cb={$attr:{}};var db=J(e,[],cb);var eb=a.splice(Y+1,a.length-(Y+1));if(t){R(db)}a=a.concat(db).concat(eb);T(f,cb);Z=a.length}else{C.html(V)}}if(E.templateUrl){z=true;W("template",u,E,C);u=E;if(E.replace){I=E}lb=U(a.splice(Y,a.length-Y),C,f,h,y&&Q,k,m,{controllerDirectives:s,newIsolateScopeDirective:t,templateDirective:u,nonTlbTranscludeDirective:v});Z=a.length}else if(E.compile){try{S=E.compile(C,f,Q);if(P(S)){ib(null,S,$,bb)}else if(S){ib(S.pre,S.post,$,bb)}}catch(hb){j(hb,pb(C))}}if(E.terminal){lb.terminal=true;q=Math.max(q,E.priority)}}lb.scope=r&&r.scope===true;lb.transcludeOnThisElement=y;lb.templateOnThisElement=z;lb.transclude=Q;n.hasElementTranscludeDirective=B;return lb;function ib(a,b,c,d){if(a){if(c)a=N(a,c,d);a.require=E.require;a.directiveName=G;if(t===E||E.$$isolateScope){a=ab(a,{isolateScope:true})}k.push(a)}if(b){if(c)b=N(b,c,d);b.require=E.require;b.directiveName=G;if(t===E||E.$$isolateScope){b=ab(b,{isolateScope:true})}m.push(b)}}function kb(a,b,c,d){var e,f="data",g=false;if(L(b)){while((e=b.charAt(0))=="^"||e=="?"){b=b.substr(1);if(e=="^"){f="inheritedData"}g=g||e=="?"}e=null;if(d&&f==="data"){e=d[b]}e=e||c[f]("$"+b+"Controller");if(!e&&!g){throw Jc("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a)}return e}else if(O(b)){e=[];w(b,function(b){e.push(kb(a,b,c,d))})}return e}function lb(a,b,g,h,i){var n,q,r,v,y,z,A,C={},D;n=e===g?f:fb(f,new x(l(g),f.$attr));q=n.$$element;if(t){var E=/^\s*([@=&])(\??)\s*(\w*)\s*$/;A=b.$new(true);if(u&&(u===t||u===t.$$originalDirective)){q.data("$isolateScope",A)}else{q.data("$isolateScopeNoTemplate",A)}F(q,"ng-isolate-scope");w(t.scope,function(a,c){var e=a.match(E)||[],f=e[3]||c,g=e[2]=="?",h=e[1],i,j,k,l;A.$$isolateBindings[c]=h+f;switch(h){case"@":n.$observe(f,function(a){A[c]=a});n.$$observers[f].$$scope=b;if(n[f]){A[c]=d(n[f])(b)}break;case"=":if(g&&!n[f]){return}j=o(n[f]);if(j.literal){l=gb}else{l=function(a,b){return a===b||a!==a&&b!==b}}k=j.assign||function(){i=A[c]=j(b);throw Jc("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",n[f],t.name)};i=A[c]=j(b);A.$watch(function m(){var a=j(b);if(!l(a,A[c])){if(!l(a,i)){A[c]=a}else{k(b,a=A[c])}}return i=a},null,j.literal);break;case"&":j=o(n[f]);A[c]=function(a){return j(b,a)};break;default:throw Jc("iscp","Invalid isolate scope definition for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",t.name,c,a)}})}D=i&&I;if(s){w(s,function(a){var c={$scope:a===t||a.$$isolateScope?A:b,$element:q,$attrs:n,$transclude:D},d;z=a.controller;if(z=="@"){z=n[a.name]}d=p(z,c);C[a.name]=d;if(!B){q.data("$"+a.name+"Controller",d)}if(a.controllerAs){c.$scope[a.controllerAs]=d}})}for(r=0,v=k.length;r<v;r++){try{y=k[r];y(y.isolateScope?A:b,q,n,y.require&&kb(y.directiveName,y.require,q,C),D)}catch(G){j(G,pb(q))}}var H=b;if(t&&(t.template||t.templateUrl===null)){H=A}a&&a(H,g.childNodes,c,i);for(r=m.length-1;r>=0;r--){try{y=m[r];y(y.isolateScope?A:b,q,n,y.require&&kb(y.directiveName,y.require,q,C),D)}catch(G){j(G,pb(q))}}function I(a,b){var d;if(arguments.length<2){b=a;a=c}if(B){d=C}return i(a,b,d)}}}function R(a){for(var b=0,c=a.length;b<c;b++){a[b]=E(a[b],{$$isolateScope:true})}}function S(b,d,g,h,i,k,l){if(d===i)return null;var m=null;if(e.hasOwnProperty(d)){for(var n,o=a.get(d+f),p=0,q=o.length;p<q;p++){try{n=o[p];if((h===c||h>n.priority)&&n.restrict.indexOf(g)!=-1){if(k){n=E(n,{$$start:k,$$end:l})}b.push(n);m=n}}catch(r){j(r)}}}return m}function T(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;w(a,function(d,e){if(e.charAt(0)!="$"){if(b[e]&&b[e]!==d){d+=(e==="style"?";":" ")+b[e]}a.$set(e,d,true,c[e])}});w(b,function(b,f){if(f=="class"){F(e,b);a["class"]=(a["class"]?a["class"]+" ":"")+b}else if(f=="style"){e.attr("style",e.attr("style")+";"+b);a["style"]=(a["style"]?a["style"]+";":"")+b}else if(f.charAt(0)!="$"&&!a.hasOwnProperty(f)){a[f]=b;d[f]=c[f]}})}function U(a,b,c,d,e,f,g,h){var i=[],j,k,o=b[0],p=a.shift(),q=C({},p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=P(p.templateUrl)?p.templateUrl(b,c):p.templateUrl;b.empty();m.get(s.getTrustedResourceUrl(r),{cache:n}).success(function(m){var n,s,t,u;m=A(m);if(p.replace){if(Yb(m)){t=[]}else{t=l(X(m))}n=t[0];if(t.length!=1||n.nodeType!==1){throw Jc("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r)}s={$attr:{}};_(d,b,n);var v=J(n,[],s);if(K(p.scope)){R(v)}a=v.concat(a);T(c,s)}else{n=o;b.html(m)}a.unshift(q);j=Q(a,n,c,e,b,p,f,g,h);w(d,function(a,c){if(a==n){d[c]=b[0]}});k=H(b[0].childNodes,e);while(i.length){var x=i.shift(),y=i.shift(),z=i.shift(),B=i.shift(),C=b[0];if(y!==o){var D=y.className;if(!(h.hasElementTranscludeDirective&&p.replace)){C=ac(n)}_(z,l(y),C);F(l(C),D)}if(j.transcludeOnThisElement){u=I(x,j.transclude,B)}else{u=B}j(k,x,C,d,u)}i=null}).error(function(a,b,c,d){throw Jc("tpload","Failed to load template: {0}",d.url)});return function t(a,b,c,d,e){var f=e;if(i){i.push(b);i.push(c);i.push(d);i.push(f)}else{if(j.transcludeOnThisElement){f=I(b,j.transclude,e)}j(k,b,c,d,f)}}}function V(a,b){var c=b.priority-a.priority;if(c!==0)return c;if(a.name!==b.name)return a.name<b.name?-1:1;return a.index-b.index}function W(a,b,c,d){if(b){throw Jc("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,pb(d))}}function Y(a,b){var c=d(b,true);if(c){a.push({priority:0,compile:function e(a){var b=a.parent(),d=b.length;if(d)F(a.parent(),"ng-binding");return function e(a,b){var e=b.parent(),f=e.data("$binding")||[];f.push(c);e.data("$binding",f);if(!d)F(e,"ng-binding");a.$watch(c,function g(a){b[0].nodeValue=a})}}})}}function Z(a,b){if(b=="srcdoc"){return s.HTML}var c=t(a);if(b=="xlinkHref"||c=="FORM"&&b=="action"||c!="IMG"&&(b=="src"||b=="ngSrc")){return s.RESOURCE_URL}}function $(a,b,c,e){var f=d(c,true);if(!f)return;if(e==="multiple"&&t(a)==="SELECT"){throw Jc("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",pb(a))}b.push({priority:100,compile:function(){return{pre:function b(c,g,h){var j=h.$$observers||(h.$$observers={});if(i.test(e)){throw Jc("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the "+"ng- versions (such as ng-click instead of onclick) instead.")}f=d(h[e],true,Z(a,e));if(!f)return;h[e]=f(c);(j[e]||(j[e]=[])).$$inter=true;(h.$$observers&&h.$$observers[e].$$scope||c).$watch(f,function k(a,b){if(e==="class"&&a!=b){h.$updateClass(a,b)}else{h.$set(e,a)}})}}}})}function _(a,c,d){var e=c[0],f=c.length,g=e.parentNode,h,i;if(a){for(h=0,i=a.length;h<i;h++){if(a[h]==e){a[h++]=d;for(var j=h,k=j+f-1,m=a.length;j<m;j++,k++){if(k<m){a[j]=a[k]}else{delete a[j]}}a.length-=f-1;break}}}if(g){g.replaceChild(d,e)}var n=b.createDocumentFragment();n.appendChild(e);d[l.expando]=e[l.expando];for(var o=1,p=c.length;o<p;o++){var q=c[o];
l(q).remove();n.appendChild(q);delete c[o]}c[0]=d;c.length=1}function ab(a,b){return C(function(){return a.apply(null,arguments)},a,b)}}]}var Lc=/^(x[\:\-_]|data[\:\-_])/i;function Mc(a){return Rb(a.replace(Lc,""))}function Nc(a,b,c,d){}function Oc(a,b,c,d,e){}function Pc(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){var g=d[f];for(var h=0;h<e.length;h++){if(g==e[h])continue a}c+=(c.length>0?" ":"")+g}return c}function Qc(){var a={},b=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){Cb(b,"controller");if(K(b)){C(a,b)}else{a[b]=c}};this.$get=["$injector","$window",function(c,e){return function(f,g){var h,i,j,k;if(L(f)){i=f.match(b),j=i[1],k=i[3];f=a.hasOwnProperty(j)?a[j]:Db(g.$scope,j,true)||Db(e,j,true);Bb(f,j,true)}h=c.instantiate(f,g);if(k){if(!(g&&typeof g.$scope==="object")){throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",j||f.name,k)}g.$scope[k]=h}return h}}]}function Rc(){this.$get=["$window",function(a){return l(a.document)}]}function Sc(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function Tc(a){var b={},c,d,e;if(!a)return b;w(a.split("\n"),function(a){e=a.indexOf(":");c=f(X(a.substr(0,e)));d=X(a.substr(e+1));if(c){b[c]=b[c]?b[c]+", "+d:d}});return b}function Uc(a){var b=K(a)?a:c;return function(c){if(!b)b=Tc(a);if(c){return b[f(c)]||null}return b}}function Vc(a,b,c){if(P(c))return c(a,b);w(c,function(c){a=c(a,b)});return a}function Wc(a){return 200<=a&&a<300}function Xc(){var a=/^\s*(\[|\{[^\{])/,b=/[\}\]]\s*$/,d=/^\)\]\}',?\n/,e={"Content-Type":"application/json;charset=utf-8"};var g=this.defaults={transformResponse:[function(c){if(L(c)){c=c.replace(d,"");if(a.test(c)&&b.test(c))c=nb(c)}return c}],transformRequest:[function(a){return K(a)&&!T(a)&&!U(a)?mb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:fb(e),put:fb(e),patch:fb(e)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"};var i=this.interceptors=[];var j=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,d,e,k,l){var m=d("$http");var n=[];w(i,function(a){n.unshift(L(a)?l.get(a):l.invoke(a))});w(j,function(a,b){var c=L(a)?l.get(a):l.invoke(a);n.splice(b,0,{response:function(a){return c(k.when(a))},responseError:function(a){return c(k.reject(a))}})});function o(a){var b={method:"get",transformRequest:g.transformRequest,transformResponse:g.transformResponse};var d=p(a);C(b,a);b.headers=d;b.method=h(b.method);var e=function(a){d=a.headers;var b=Vc(a.data,Uc(d),a.transformRequest);if(I(b)){w(d,function(a,b){if(f(b)==="content-type"){delete d[b]}})}if(I(a.withCredentials)&&!I(g.withCredentials)){a.withCredentials=g.withCredentials}return r(a,b,d).then(o,o)};var i=[e,c];var j=k.when(b);w(n,function(a){if(a.request||a.requestError){i.unshift(a.request,a.requestError)}if(a.response||a.responseError){i.push(a.response,a.responseError)}});while(i.length){var l=i.shift();var m=i.shift();j=j.then(l,m)}j.success=function(a){j.then(function(c){a(c.data,c.status,c.headers,b)});return j};j.error=function(a){j.then(null,function(c){a(c.data,c.status,c.headers,b)});return j};return j;function o(a){var c=C({},a,{data:Vc(a.data,a.headers,b.transformResponse)});return Wc(a.status)?c:k.reject(c)}function p(a){var b=g.headers,c=C({},a.headers),d,e,h;b=C({},b.common,b[f(a.method)]);a:for(d in b){e=f(d);for(h in c){if(f(h)===e){continue a}}c[d]=b[d]}i(c);return c;function i(a){var b;w(a,function(c,d){if(P(c)){b=c();if(b!=null){a[d]=b}else{delete a[d]}}})}}}o.pendingRequests=[];p("get","delete","head","jsonp");q("post","put");o.defaults=g;return o;function p(a){w(arguments,function(a){o[a]=function(b,c){return o(C(c||{},{method:a,url:b}))}})}function q(a){w(arguments,function(a){o[a]=function(b,c,d){return o(C(d||{},{method:a,url:b,data:c}))}})}function r(d,f,h){var i=k.defer(),j=i.promise,l,n,p=s(d.url,d.params);o.pendingRequests.push(d);j.then(u,u);if((d.cache||g.cache)&&d.cache!==false&&(d.method==="GET"||d.method==="JSONP")){l=K(d.cache)?d.cache:K(g.cache)?g.cache:m}if(l){n=l.get(p);if(J(n)){if(W(n)){n.then(u,u);return n}else{if(O(n)){t(n[1],n[0],fb(n[2]),n[3])}else{t(n,200,{},"OK")}}}else{l.put(p,j)}}if(I(n)){var q=be(d.url)?b.cookies()[d.xsrfCookieName||g.xsrfCookieName]:c;if(q){h[d.xsrfHeaderName||g.xsrfHeaderName]=q}a(d.method,p,f,r,h,d.timeout,d.withCredentials,d.responseType)}return j;function r(a,b,c,d){if(l){if(Wc(a)){l.put(p,[a,b,Tc(c),d])}else{l.remove(p)}}t(b,a,c,d);if(!e.$$phase)e.$apply()}function t(a,b,c,e){b=Math.max(b,0);(Wc(b)?i.resolve:i.reject)({data:a,status:b,headers:Uc(c),config:d,statusText:e})}function u(){var a=bb(o.pendingRequests,d);if(a!==-1)o.pendingRequests.splice(a,1)}}function s(a,b){if(!b)return a;var c=[];y(b,function(a,b){if(a===null||I(a))return;if(!O(a))a=[a];w(a,function(a){if(K(a)){if(N(a)){a=a.toISOString()}else{a=mb(a)}}c.push(ub(b)+"="+ub(a))})});if(c.length>0){a+=(a.indexOf("?")==-1?"?":"&")+c.join("&")}return a}}]}function Yc(b){if(k<=8&&(!b.match(/^(get|post|head|put|delete|options)$/i)||!a.XMLHttpRequest)){return new a.ActiveXObject("Microsoft.XMLHTTP")}else if(a.XMLHttpRequest){return new a.XMLHttpRequest}throw d("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Zc(){this.$get=["$browser","$window","$document",function(a,b,c){return $c(a,Yc,a.defer,b.angular.callbacks,c[0])}]}function $c(a,b,c,d,e){var g=-1;return function(e,i,j,l,m,n,o,p){var q;a.$$incOutstandingRequestCount();i=i||a.url();if(f(e)=="jsonp"){var r="_"+(d.counter++).toString(36);d[r]=function(a){d[r].data=a;d[r].called=true};var s=h(i.replace("JSON_CALLBACK","angular.callbacks."+r),r,function(a,b){y(l,a,d[r].data,"",b);d[r]=F})}else{var t=b(e);t.open(e,i,true);w(m,function(a,b){if(J(a)){t.setRequestHeader(b,a)}});t.onreadystatechange=function(){if(t&&t.readyState==4){var a=null,b=null,c="";if(q!==g){a=t.getAllResponseHeaders();b="response"in t?t.response:t.responseText}if(!(q===g&&k<10)){c=t.statusText}y(l,q||t.status,b,a,c)}};if(o){t.withCredentials=true}if(p){try{t.responseType=p}catch(u){if(p!=="json"){throw u}}}t.send(j||null)}if(n>0){var v=c(x,n)}else if(W(n)){n.then(x)}function x(){q=g;s&&s();t&&t.abort()}function y(b,d,e,f,g){v&&c.cancel(v);s=t=null;if(d===0){d=e?200:ae(i).protocol=="file"?404:0}d=d===1223?204:d;g=g||"";b(d,e,f,g);a.$$completeOutstandingRequest(F)}};function h(a,b,c){var f=e.createElement("script"),g=null;f.type="text/javascript";f.src=a;f.async=true;g=function(a){Lb(f,"load",g);Lb(f,"error",g);e.body.removeChild(f);f=null;var h=-1;var i="unknown";if(a){if(a.type==="load"&&!d[b].called){a={type:"error"}}i=a.type;h=a.type==="error"?404:200}if(c){c(h,i)}};Kb(f,"load",g);Kb(f,"error",g);if(k<=8){f.onreadystatechange=function(){if(L(f.readyState)&&/loaded|complete/.test(f.readyState)){f.onreadystatechange=null;g({type:"load"})}}}e.body.appendChild(f);return g}}var _c=d("$interpolate");function ad(){var a="{{";var b="}}";this.startSymbol=function(b){if(b){a=b;return this}else{return a}};this.endSymbol=function(a){if(a){b=a;return this}else{return b}};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){var f=a.length,g=b.length;function h(h,i,j){var k,l,m=0,n=[],o=h.length,p=false,q,r,s=[];while(m<o){if((k=h.indexOf(a,m))!=-1&&(l=h.indexOf(b,k+f))!=-1){m!=k&&n.push(h.substring(m,k));n.push(q=c(r=h.substring(k+f,l)));q.exp=r;m=l+g;p=true}else{m!=o&&n.push(h.substring(m));m=o}}if(!(o=n.length)){n.push("");o=1}if(j&&n.length>1){throw _c("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",h)}if(!i||p){s.length=o;q=function(a){try{for(var b=0,c=o,f;b<c;b++){if(typeof(f=n[b])=="function"){f=f(a);if(j){f=e.getTrusted(j,f)}else{f=e.valueOf(f)}if(f==null){f=""}else{switch(typeof f){case"string":{break}case"number":{f=""+f;break}default:{f=mb(f)}}}}s[b]=f}return s.join("")}catch(g){var i=_c("interr","Can't interpolate: {0}\n{1}",h,g.toString());d(i)}};q.exp=h;q.parts=n;return q}}h.startSymbol=function(){return a};h.endSymbol=function(){return b};return h}]}function bd(){this.$get=["$rootScope","$window","$q",function(a,b,c){var d={};function e(e,f,g,h){var i=b.setInterval,j=b.clearInterval,k=c.defer(),l=k.promise,m=0,n=J(h)&&!h;g=J(g)?g:0;l.then(null,null,e);l.$$intervalId=i(function o(){k.notify(m++);if(g>0&&m>=g){k.resolve(m);j(l.$$intervalId);delete d[l.$$intervalId]}if(!n)a.$apply()},f);d[l.$$intervalId]=k;return l}e.cancel=function(a){if(a&&a.$$intervalId in d){d[a.$$intervalId].reject("canceled");b.clearInterval(a.$$intervalId);delete d[a.$$intervalId];return true}return false};return e}]}function cd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){if(a===1){return"one"}return"other"}}}}var dd=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ed={http:80,https:443,ftp:21};var fd=d("$location");function gd(a){var b=a.split("/"),c=b.length;while(c--){b[c]=tb(b[c])}return b.join("/")}function hd(a,b,c){var d=ae(a,c);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=D(d.port)||ed[d.protocol]||null}function id(a,b,c){var d=a.charAt(0)!=="/";if(d){a="/"+a}var e=ae(a,c);b.$$path=decodeURIComponent(d&&e.pathname.charAt(0)==="/"?e.pathname.substring(1):e.pathname);b.$$search=rb(e.search);b.$$hash=decodeURIComponent(e.hash);if(b.$$path&&b.$$path.charAt(0)!="/"){b.$$path="/"+b.$$path}}function jd(a,b){if(b.indexOf(a)===0){return b.substr(a.length)}}function kd(a){var b=a.indexOf("#");return b==-1?a:a.substr(0,b)}function ld(a){return a.substr(0,kd(a).lastIndexOf("/")+1)}function md(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function nd(a,b){this.$$html5=true;b=b||"";var d=ld(a);hd(a,this,a);this.$$parse=function(b){var c=jd(d,b);if(!L(c)){throw fd("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',b,d)}id(c,this,a);if(!this.$$path){this.$$path="/"}this.$$compose()};this.$$compose=function(){var a=sb(this.$$search),b=this.$$hash?"#"+tb(this.$$hash):"";this.$$url=gd(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=d+this.$$url.substr(1)};this.$$rewrite=function(e){var f,g;if((f=jd(a,e))!==c){g=f;if((f=jd(b,f))!==c){return d+(jd("/",f)||f)}else{return a+g}}else if((f=jd(d,e))!==c){return d+f}else if(d==e+"/"){return d}}}function od(a,b){var c=ld(a);hd(a,this,a);this.$$parse=function(d){var e=jd(a,d)||jd(c,d);var f=e.charAt(0)=="#"?jd(b,e):this.$$html5?e:"";if(!L(f)){throw fd("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',d,b)}id(f,this,a);this.$$path=g(this.$$path,f,a);this.$$compose();function g(a,b,c){var d=/^\/[A-Z]:(\/.*)/;var e;if(b.indexOf(c)===0){b=b.replace(c,"")}if(d.exec(b)){return a}e=d.exec(a);return e?e[1]:a}};this.$$compose=function(){var c=sb(this.$$search),d=this.$$hash?"#"+tb(this.$$hash):"";this.$$url=gd(this.$$path)+(c?"?"+c:"")+d;this.$$absUrl=a+(this.$$url?b+this.$$url:"")};this.$$rewrite=function(b){if(kd(a)==kd(b)){return b}}}function pd(a,b){this.$$html5=true;od.apply(this,arguments);var c=ld(a);this.$$rewrite=function(d){var e;if(a==kd(d)){return d}else if(e=jd(c,d)){return a+b+e}else if(c===d+"/"){return c}};this.$$compose=function(){var c=sb(this.$$search),d=this.$$hash?"#"+tb(this.$$hash):"";this.$$url=gd(this.$$path)+(c?"?"+c:"")+d;this.$$absUrl=a+b+this.$$url}}pd.prototype=od.prototype=nd.prototype={$$html5:false,$$replace:false,absUrl:qd("$$absUrl"),url:function(a){if(I(a))return this.$$url;var b=dd.exec(a);if(b[1])this.path(decodeURIComponent(b[1]));if(b[2]||b[1])this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:qd("$$protocol"),host:qd("$$host"),port:qd("$$port"),path:rd("$$path",function(a){a=a?a.toString():"";return a.charAt(0)=="/"?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(L(a)||M(a)){a=a.toString();this.$$search=rb(a)}else if(K(a)){w(a,function(b,c){if(b==null)delete a[c]});this.$$search=a}else{throw fd("isrcharg","The first argument of the `$location#search()` call must be a string or an object.")}break;default:if(I(b)||b===null){delete this.$$search[a]}else{this.$$search[a]=b}}this.$$compose();return this},hash:rd("$$hash",function(a){return a?a.toString():""}),replace:function(){this.$$replace=true;return this}};function qd(a){return function(){return this[a]}}function rd(a,b){return function(c){if(I(c))return this[a];this[a]=b(c);this.$$compose();return this}}function sd(){var b="",c=false;this.hashPrefix=function(a){if(J(a)){b=a;return this}else{return b}};this.html5Mode=function(a){if(J(a)){c=a;return this}else{return c}};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(d,e,g,h){var i,j,k=e.baseHref(),m=e.url(),n;if(c){n=md(m)+(k||"/");j=g.history?nd:pd}else{n=kd(m);j=od}i=new j(n,"#"+b);i.$$parse(i.$$rewrite(m));var o=/^\s*(javascript|mailto):/i;h.on("click",function(c){if(c.ctrlKey||c.metaKey||c.which==2)return;var g=l(c.target);while(f(g[0].nodeName)!=="a"){if(g[0]===h[0]||!(g=g.parent())[0])return}var k=g.prop("href");if(K(k)&&k.toString()==="[object SVGAnimatedString]"){k=ae(k.animVal).href}if(o.test(k))return;if(j===pd){var m=g.attr("href")||g.attr("xlink:href");if(m&&m.indexOf("://")<0){var p="#"+b;if(m[0]=="/"){k=n+p+m}else if(m[0]=="#"){k=n+p+(i.path()||"/")+m}else{var q=i.path().split("/"),r=m.split("/");if(q.length===2&&!q[1])q.length=1;for(var s=0;s<r.length;s++){if(r[s]==".")continue;else if(r[s]=="..")q.pop();else if(r[s].length)q.push(r[s])}k=n+p+q.join("/")}}}var t=i.$$rewrite(k);if(k&&!g.attr("target")&&t&&!c.isDefaultPrevented()){c.preventDefault();if(t!=e.url()){i.$$parse(t);d.$apply();a.angular["ff-684208-preventDefault"]=true}}});if(i.absUrl()!=m){e.url(i.absUrl(),true)}e.onUrlChange(function(a){if(i.absUrl()!=a){d.$evalAsync(function(){var b=i.absUrl();i.$$parse(a);if(d.$broadcast("$locationChangeStart",a,b).defaultPrevented){i.$$parse(b);e.url(b)}else{q(b)}});if(!d.$$phase)d.$digest()}});var p=0;d.$watch(function r(){var a=e.url();var b=i.$$replace;if(!p||a!=i.absUrl()){p++;d.$evalAsync(function(){if(d.$broadcast("$locationChangeStart",i.absUrl(),a).defaultPrevented){i.$$parse(a)}else{e.url(i.absUrl(),b);q(a)}})}i.$$replace=false;return p});return i;function q(a){d.$broadcast("$locationChangeSuccess",i.absUrl(),a)}}]}function td(){var a=true,b=this;this.debugEnabled=function(b){if(J(b)){a=b;return this}else{return a}};this.$get=["$window",function(c){return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){if(a){c.apply(b,arguments)}}}()};function d(a){if(a instanceof Error){if(a.stack){a=a.message&&a.stack.indexOf(a.message)===-1?"Error: "+a.message+"\n"+a.stack:a.stack}else if(a.sourceURL){a=a.message+"\n"+a.sourceURL+":"+a.line}}return a}function e(a){var b=c.console||{},e=b[a]||b.log||F,f=false;try{f=!!e.apply}catch(g){}if(f){return function(){var a=[];w(arguments,function(b){a.push(d(b))});return e.apply(b,a)}}return function(a,b){e(a,b==null?"":b)}}}]}var ud=d("$parse");var vd={};var wd;function xd(a,b){if(a==="__defineGetter__"||a==="__defineSetter__"||a==="__lookupGetter__"||a==="__lookupSetter__"||a==="__proto__"){throw ud("isecfld","Attempting to access a disallowed field in Angular expressions! "+"Expression: {0}",b)}return a}function yd(a,b){if(a){if(a.constructor===a){throw ud("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b)}else if(a.document&&a.location&&a.alert&&a.setInterval){throw ud("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b)}else if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find)){throw ud("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b)}else if(a===Object){throw ud("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}}return a}var zd=Function.prototype.call;var Ad=Function.prototype.apply;var Bd=Function.prototype.bind;function Cd(a,b){if(a){if(a.constructor===a){throw ud("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b)}else if(a===zd||a===Ad||Bd&&a===Bd){throw ud("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}}var Dd={"null":function(){return null},"true":function(){return true},"false":function(){return false},undefined:F,"+":function(a,b,d,e){d=d(a,b);e=e(a,b);if(J(d)){if(J(e)){return d+e}return d}return J(e)?e:c},"-":function(a,b,c,d){c=c(a,b);d=d(a,b);return(J(c)?c:0)-(J(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"^":function(a,b,c,d){return c(a,b)^d(a,b)},"=":F,"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"&":function(a,b,c,d){return c(a,b)&d(a,b)},"|":function(a,b,c,d){return d(a,b)(a,b,c(a,b))},"!":function(a,b,c){return!c(a,b)}};var Ed={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'};var Fd=function(a){this.options=a};Fd.prototype={constructor:Fd,lex:function(a){this.text=a;this.index=0;this.ch=c;this.lastCh=":";this.tokens=[];while(this.index<this.text.length){this.ch=this.text.charAt(this.index);if(this.is("\"'")){this.readString(this.ch)}else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek())){this.readNumber()}else if(this.isIdent(this.ch)){this.readIdent()}else if(this.is("(){}[].,;:?")){this.tokens.push({index:this.index,text:this.ch});this.index++}else if(this.isWhitespace(this.ch)){this.index++;continue}else{var b=this.ch+this.peek();var d=b+this.peek(2);var e=Dd[this.ch];var f=Dd[b];var g=Dd[d];if(g){this.tokens.push({index:this.index,text:d,fn:g});this.index+=3}else if(f){this.tokens.push({index:this.index,text:b,fn:f});this.index+=2}else if(e){this.tokens.push({index:this.index,text:this.ch,fn:e});this.index+=1}else{this.throwError("Unexpected next character ",this.index,this.index+1)}}this.lastCh=this.ch}return this.tokens},is:function(a){return a.indexOf(this.ch)!==-1},was:function(a){return a.indexOf(this.lastCh)!==-1},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):false},isNumber:function(a){return"0"<=a&&a<="9"},isWhitespace:function(a){return a===" "||a==="\r"||a==="	"||a==="\n"||a===""||a===" "},isIdent:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||a==="$"},isExpOperator:function(a){return a==="-"||a==="+"||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=J(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw ud("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){var a="";var b=this.index;while(this.index<this.text.length){var c=f(this.text.charAt(this.index));if(c=="."||this.isNumber(c)){a+=c}else{var d=this.peek();if(c=="e"&&this.isExpOperator(d)){a+=c}else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&a.charAt(a.length-1)=="e"){a+=c}else if(this.isExpOperator(c)&&(!d||!this.isNumber(d))&&a.charAt(a.length-1)=="e"){this.throwError("Invalid exponent")}else{break}}this.index++}a=1*a;this.tokens.push({index:b,text:a,literal:true,constant:true,fn:function(){return a}})},readIdent:function(){var a=this;var b="";var c=this.index;var d,e,f,g;while(this.index<this.text.length){g=this.text.charAt(this.index);if(g==="."||this.isIdent(g)||this.isNumber(g)){if(g===".")d=this.index;b+=g}else{break}this.index++}if(d){e=this.index;while(e<this.text.length){g=this.text.charAt(e);if(g==="("){f=b.substr(d-c+1);b=b.substr(0,d-c);this.index=e;break}if(this.isWhitespace(g)){e++}else{break}}}var h={index:c,text:b};if(Dd.hasOwnProperty(b)){h.fn=Dd[b];h.literal=true;h.constant=true}else{var i=Kd(b,this.options,this.text);h.fn=C(function(a,b){return i(a,b)},{assign:function(c,d){return Hd(c,b,d,a.text,a.options)}})}this.tokens.push(h);if(f){this.tokens.push({index:d,text:"."});this.tokens.push({index:d+1,text:f})}},readString:function(a){var b=this.index;this.index++;var c="";var d=a;var e=false;while(this.index<this.text.length){var f=this.text.charAt(this.index);d+=f;if(e){if(f==="u"){var g=this.text.substring(this.index+1,this.index+5);if(!g.match(/[\da-f]{4}/i))this.throwError("Invalid unicode escape [\\u"+g+"]");this.index+=4;c+=String.fromCharCode(parseInt(g,16))}else{var h=Ed[f];c=c+(h||f)}e=false}else if(f==="\\"){e=true}else if(f===a){this.index++;this.tokens.push({index:b,text:d,string:c,literal:true,constant:true,fn:function(){return c}});return}else{c+=f}this.index++}this.throwError("Unterminated quote",b)}};var Gd=function(a,b,c){this.lexer=a;this.$filter=b;this.options=c};Gd.ZERO=C(function(){return 0},{constant:true});Gd.prototype={constructor:Gd,parse:function(a){this.text=a;this.tokens=this.lexer.lex(a);var b=this.statements();if(this.tokens.length!==0){this.throwError("is an unexpected token",this.tokens[0])}b.literal=!!b.literal;b.constant=!!b.constant;return b},primary:function(){var a;if(this.expect("(")){a=this.filterChain();this.consume(")")}else if(this.expect("[")){a=this.arrayDeclaration()}else if(this.expect("{")){a=this.object()}else{var b=this.expect();a=b.fn;if(!a){this.throwError("not a primary expression",b)}a.literal=!!b.literal;a.constant=!!b.constant}var c,d;while(c=this.expect("(","[",".")){if(c.text==="("){a=this.functionCall(a,d);d=null}else if(c.text==="["){d=a;a=this.objectIndex(a)}else if(c.text==="."){d=a;a=this.fieldAccess(a)}else{this.throwError("IMPOSSIBLE")}}return a},throwError:function(a,b){throw ud("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(this.tokens.length===0)throw ud("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){if(this.tokens.length>0){var e=this.tokens[0];var f=e.text;if(f===a||f===b||f===c||f===d||!a&&!b&&!c&&!d){return e}}return false},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);if(e){this.tokens.shift();return e}return false},consume:function(a){if(!this.expect(a)){this.throwError("is unexpected, expecting ["+a+"]",this.peek())}},unaryFn:function(a,b){return C(function(c,d){return a(c,d,b)},{constant:b.constant})},ternaryFn:function(a,b,c){return C(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})},binaryFn:function(a,b,c){return C(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})},statements:function(){var a=[];while(true){if(this.tokens.length>0&&!this.peek("}",")",";","]"))a.push(this.filterChain());if(!this.expect(";")){return a.length===1?a[0]:function(b,c){var d;for(var e=0;e<a.length;e++){var f=a[e];if(f){d=f(b,c)}}return d}}}},filterChain:function(){var a=this.expression();var b;while(true){if(b=this.expect("|")){a=this.binaryFn(a,b.fn,this.filter())}else{return a}}},filter:function(){var a=this.expect();var b=this.$filter(a.text);var c=[];while(true){if(a=this.expect(":")){c.push(this.expression())}else{var d=function(a,d,e){var f=[e];for(var g=0;g<c.length;g++){f.push(c[g](a,d))}return b.apply(a,f)};return function(){return d}}}},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();var b;var c;if(c=this.expect("=")){if(!a.assign){this.throwError("implies assignment but ["+this.text.substring(0,c.index)+"] can not be assigned to",c)}b=this.ternary();return function(c,d){return a.assign(c,b(c,d),d)}}return a},ternary:function(){var a=this.logicalOR();var b;var c;if(c=this.expect("?")){b=this.assignment();if(c=this.expect(":")){return this.ternaryFn(a,b,this.assignment())}else{this.throwError("expected :",c)}}else{return a}},logicalOR:function(){var a=this.logicalAND();var b;while(true){if(b=this.expect("||")){a=this.binaryFn(a,b.fn,this.logicalAND())}else{return a}}},logicalAND:function(){var a=this.equality();var b;if(b=this.expect("&&")){a=this.binaryFn(a,b.fn,this.logicalAND())}return a},equality:function(){var a=this.relational();var b;if(b=this.expect("==","!=","===","!==")){a=this.binaryFn(a,b.fn,this.equality())}return a},relational:function(){var a=this.additive();var b;if(b=this.expect("<",">","<=",">=")){a=this.binaryFn(a,b.fn,this.relational())}return a},additive:function(){var a=this.multiplicative();var b;while(b=this.expect("+","-")){a=this.binaryFn(a,b.fn,this.multiplicative())}return a},multiplicative:function(){var a=this.unary();var b;while(b=this.expect("*","/","%")){a=this.binaryFn(a,b.fn,this.unary())}return a},unary:function(){var a;if(this.expect("+")){return this.primary()}else if(a=this.expect("-")){return this.binaryFn(Gd.ZERO,a.fn,this.unary())}else if(a=this.expect("!")){return this.unaryFn(a.fn,this.unary())}else{return this.primary()}},fieldAccess:function(a){var b=this;var c=this.expect().text;var d=Kd(c,this.options,this.text);return C(function(b,c,e){return d(e||a(b,c))},{assign:function(d,e,f){var g=a(d,f);if(!g)a.assign(d,g={});return Hd(g,c,e,b.text,b.options)}})},objectIndex:function(a){var b=this;var d=this.expression();this.consume("]");return C(function(e,f){var g=a(e,f),h=d(e,f),i,j;xd(h,b.text);if(!g)return c;i=yd(g[h],b.text);if(i&&i.then&&b.options.unwrapPromises){j=i;if(!("$$v"in i)){j.$$v=c;j.then(function(a){j.$$v=a})}i=i.$$v}return i},{assign:function(c,e,f){var g=xd(d(c,f),b.text);var h=yd(a(c,f),b.text);if(!h)a.assign(c,h={});return h[g]=e}})},functionCall:function(a,b){var c=[];if(this.peekToken().text!==")"){do{c.push(this.expression())}while(this.expect(","))}this.consume(")");var d=this;return function(e,f){var g=[];var h=b?b(e,f):e;for(var i=0;i<c.length;i++){g.push(yd(c[i](e,f),d.text))}var j=a(e,f,h)||F;yd(h,d.text);Cd(j,d.text);var k=j.apply?j.apply(h,g):j(g[0],g[1],g[2],g[3],g[4]);return yd(k,d.text)}},arrayDeclaration:function(){var a=[];var b=true;if(this.peekToken().text!=="]"){do{if(this.peek("]")){break}var c=this.expression();a.push(c);if(!c.constant){b=false}}while(this.expect(","))}this.consume("]");return C(function(b,c){var d=[];for(var e=0;e<a.length;e++){d.push(a[e](b,c))}return d},{literal:true,constant:b})},object:function(){var a=[];var b=true;if(this.peekToken().text!=="}"){do{if(this.peek("}")){break}var c=this.expect(),d=c.string||c.text;this.consume(":");var e=this.expression();a.push({key:d,value:e});if(!e.constant){b=false}}while(this.expect(","))}this.consume("}");return C(function(b,c){var d={};for(var e=0;e<a.length;e++){var f=a[e];d[f.key]=f.value(b,c)}return d},{literal:true,constant:b})}};function Hd(a,b,d,e,f){yd(a,e);f=f||{};var g=b.split("."),h;for(var i=0;g.length>1;i++){h=xd(g.shift(),e);var j=yd(a[h],e);if(!j){j={};a[h]=j}a=j;if(a.then&&f.unwrapPromises){wd(e);if(!("$$v"in a)){(function(a){a.then(function(b){a.$$v=b})})(a)}if(a.$$v===c){a.$$v={}}a=a.$$v}}h=xd(g.shift(),e);yd(a[h],e);a[h]=d;return d}var Id={};function Jd(a,b,d,e,f,g,h){xd(a,g);xd(b,g);xd(d,g);xd(e,g);xd(f,g);return!h.unwrapPromises?function i(g,h){var i=h&&h.hasOwnProperty(a)?h:g;if(i==null)return i;i=i[a];if(!b)return i;if(i==null)return c;i=i[b];if(!d)return i;if(i==null)return c;i=i[d];if(!e)return i;if(i==null)return c;i=i[e];if(!f)return i;if(i==null)return c;i=i[f];return i}:function j(h,i){var j=i&&i.hasOwnProperty(a)?i:h,k;if(j==null)return j;j=j[a];if(j&&j.then){wd(g);if(!("$$v"in j)){k=j;k.$$v=c;k.then(function(a){k.$$v=a})}j=j.$$v}if(!b)return j;if(j==null)return c;j=j[b];if(j&&j.then){wd(g);if(!("$$v"in j)){k=j;k.$$v=c;k.then(function(a){k.$$v=a})}j=j.$$v}if(!d)return j;if(j==null)return c;j=j[d];if(j&&j.then){wd(g);if(!("$$v"in j)){k=j;k.$$v=c;k.then(function(a){k.$$v=a})}j=j.$$v}if(!e)return j;if(j==null)return c;j=j[e];if(j&&j.then){wd(g);if(!("$$v"in j)){k=j;k.$$v=c;k.then(function(a){k.$$v=a})}j=j.$$v}if(!f)return j;if(j==null)return c;j=j[f];if(j&&j.then){wd(g);if(!("$$v"in j)){k=j;k.$$v=c;k.then(function(a){k.$$v=a})}j=j.$$v}return j}}function Kd(a,b,d){if(Id.hasOwnProperty(a)){return Id[a]}var e=a.split("."),f=e.length,g;if(b.csp){if(f<6){g=Jd(e[0],e[1],e[2],e[3],e[4],d,b)}else{g=function(a,g){var h=0,i;do{i=Jd(e[h++],e[h++],e[h++],e[h++],e[h++],d,b)(a,g);g=c;a=i}while(h<f);return i}}}else{var h="var p;\n";w(e,function(a,c){xd(a,d);h+="if(s == null) return undefined;\n"+"s="+(c?"s":'((k&&k.hasOwnProperty("'+a+'"))?k:s)')+'["'+a+'"]'+";\n"+(b.unwrapPromises?"if (s && s.then) {\n"+' pw("'+d.replace(/(["\r\n])/g,"\\$1")+'");\n'+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n":"")});h+="return s;";var i=new Function("s","k","pw",h);i.toString=H(h);g=b.unwrapPromises?function(a,b){return i(a,b,wd)}:i}if(a!=="hasOwnProperty"){Id[a]=g}return g}function Ld(){var a={};var b={csp:false,unwrapPromises:false,logPromiseWarnings:true};this.unwrapPromises=function(a){if(J(a)){b.unwrapPromises=!!a;return this}else{return b.unwrapPromises}};this.logPromiseWarnings=function(a){if(J(a)){b.logPromiseWarnings=a;return this}else{return b.logPromiseWarnings}};this.$get=["$filter","$sniffer","$log",function(c,d,e){b.csp=d.csp;wd=function f(a){if(!b.logPromiseWarnings||vd.hasOwnProperty(a))return;vd[a]=true;e.warn("[$parse] Promise found in the expression `"+a+"`. "+"Automatic unwrapping of promises in Angular expressions is deprecated.")};return function(d){var e;switch(typeof d){case"string":if(a.hasOwnProperty(d)){return a[d]}var f=new Fd(b);var g=new Gd(f,c,b);e=g.parse(d);if(d!=="hasOwnProperty"){a[d]=e}return e;case"function":return d;default:return F}}}]}function Md(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return Nd(function(b){a.$evalAsync(b)},b)}]}function Nd(a,b){var d=function(){var f=[],h,k;k={resolve:function(b){if(f){var d=f;f=c;h=e(b);if(d.length){a(function(){var a;for(var b=0,c=d.length;b<c;b++){a=d[b];h.then(a[0],a[1],a[2])}})}}},reject:function(a){k.resolve(g(a))},notify:function(b){if(f){var c=f;if(f.length){a(function(){var a;for(var d=0,e=c.length;d<e;d++){a=c[d];a[2](b)}})}}},promise:{then:function(a,c,e){var g=d();var k=function(c){try{g.resolve((P(a)?a:i)(c))}catch(d){g.reject(d);b(d)}};var l=function(a){try{g.resolve((P(c)?c:j)(a))}catch(d){g.reject(d);b(d)}};var m=function(a){try{g.notify((P(e)?e:i)(a))}catch(c){b(c)}};if(f){f.push([k,l,m])}else{h.then(k,l,m)}return g.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,b){var c=d();if(b){c.resolve(a)}else{c.reject(a)}return c.promise}function c(c,d){var e=null;try{e=(a||i)()}catch(f){return b(f,false)}if(W(e)){return e.then(function(){return b(c,d)},function(a){return b(a,false)})}else{return b(c,d)}}return this.then(function(a){return c(a,true)},function(a){return c(a,false)})}}};return k};var e=function(b){if(W(b))return b;return{then:function(c){var e=d();a(function(){e.resolve(c(b))});return e.promise}}};var f=function(a){var b=d();b.reject(a);return b.promise};var g=function(c){return{then:function(e,f){var g=d();
a(function(){try{g.resolve((P(f)?f:j)(c))}catch(a){g.reject(a);b(a)}});return g.promise}}};var h=function(c,g,h,k){var l=d(),m;var n=function(a){try{return(P(g)?g:i)(a)}catch(c){b(c);return f(c)}};var o=function(a){try{return(P(h)?h:j)(a)}catch(c){b(c);return f(c)}};var p=function(a){try{return(P(k)?k:i)(a)}catch(c){b(c)}};a(function(){e(c).then(function(a){if(m)return;m=true;l.resolve(e(a).then(n,o,p))},function(a){if(m)return;m=true;l.resolve(o(a))},function(a){if(m)return;l.notify(p(a))})});return l.promise};function i(a){return a}function j(a){return f(a)}function k(a){var b=d(),c=0,f=O(a)?[]:{};w(a,function(a,d){c++;e(a).then(function(a){if(f.hasOwnProperty(d))return;f[d]=a;if(!--c)b.resolve(f)},function(a){if(f.hasOwnProperty(d))return;b.reject(a)})});if(c===0){b.resolve(f)}return b.promise}return{defer:d,reject:f,when:h,all:k}}function Od(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame;var d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame;var e=!!c;var f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,false);return function(){b.cancel(c)}};f.supported=e;return f}]}function Pd(){var a=10;var b=d("$rootScope");var c=null;this.digestTtl=function(b){if(arguments.length){a=b}return a};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,e,f,h){function i(){this.$id=A();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this["this"]=this.$root=this;this.$$destroyed=false;this.$$asyncQueue=[];this.$$postDigestQueue=[];this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings={}}i.prototype={constructor:i,$new:function(a){var b,c;if(a){c=new i;c.$root=this.$root;c.$$asyncQueue=this.$$asyncQueue;c.$$postDigestQueue=this.$$postDigestQueue}else{if(!this.$$childScopeClass){this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$id=A();this.$$childScopeClass=null};this.$$childScopeClass.prototype=this}c=new this.$$childScopeClass}c["this"]=c;c.$parent=this;c.$$prevSibling=this.$$childTail;if(this.$$childHead){this.$$childTail.$$nextSibling=c;this.$$childTail=c}else{this.$$childHead=this.$$childTail=c}return c},$watch:function(a,b,d){var e=this,f=m(a,"watch"),g=e.$$watchers,h={fn:b,last:o,get:f,exp:a,eq:!!d};c=null;if(!P(b)){var i=m(b||F,"listener");h.fn=function(a,b,c){i(c)}}if(typeof a=="string"&&f.constant){var j=h.fn;h.fn=function(a,b,c){j.call(this,a,b,c);cb(g,h)}}if(!g){g=e.$$watchers=[]}g.unshift(h);return function k(){cb(g,h);c=null}},$watchCollection:function(a,b){var c=this;var d;var e;var h;var i=b.length>1;var j=0;var k=f(a);var l=[];var m={};var n=true;var o=0;function p(){d=k(c);var a,b,f;if(!K(d)){if(e!==d){e=d;j++}}else if(v(d)){if(e!==l){e=l;o=e.length=0;j++}a=d.length;if(o!==a){j++;e.length=o=a}for(var g=0;g<a;g++){f=e[g]!==e[g]&&d[g]!==d[g];if(!f&&e[g]!==d[g]){j++;e[g]=d[g]}}}else{if(e!==m){e=m={};o=0;j++}a=0;for(b in d){if(d.hasOwnProperty(b)){a++;if(e.hasOwnProperty(b)){f=e[b]!==e[b]&&d[b]!==d[b];if(!f&&e[b]!==d[b]){j++;e[b]=d[b]}}else{o++;e[b]=d[b];j++}}}if(o>a){j++;for(b in e){if(e.hasOwnProperty(b)&&!d.hasOwnProperty(b)){o--;delete e[b]}}}}return j}function q(){if(n){n=false;b(d,d,c)}else{b(d,h,c)}if(i){if(!K(d)){h=d}else if(v(d)){h=new Array(d.length);for(var a=0;a<d.length;a++){h[a]=d[a]}}else{h={};for(var e in d){if(g.call(d,e)){h[e]=d[e]}}}}}return this.$watch(p,q)},$digest:function(){var d,f,g,i,j=this.$$asyncQueue,m=this.$$postDigestQueue,n,p,q=a,r,s,t=this,u=[],v,w,x;k("$digest");h.$$checkUrlChange();c=null;do{p=false;s=t;while(j.length){try{x=j.shift();x.scope.$eval(x.expression)}catch(y){l();e(y)}c=null}a:do{if(i=s.$$watchers){n=i.length;while(n--){try{d=i[n];if(d){if((f=d.get(s))!==(g=d.last)&&!(d.eq?gb(f,g):typeof f==="number"&&typeof g==="number"&&isNaN(f)&&isNaN(g))){p=true;c=d;d.last=d.eq?eb(f,null):f;d.fn(f,g===o?f:g,s);if(q<5){v=4-q;if(!u[v])u[v]=[];w=P(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp;w+="; newVal: "+mb(f)+"; oldVal: "+mb(g);u[v].push(w)}}else if(d===c){p=false;break a}}}catch(y){l();e(y)}}}if(!(r=s.$$childHead||s!==t&&s.$$nextSibling)){while(s!==t&&!(r=s.$$nextSibling)){s=s.$parent}}}while(s=r);if((p||j.length)&&!q--){l();throw b("infdig","{0} $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: {1}",a,mb(u))}}while(p||j.length);l();while(m.length){try{m.shift()()}catch(y){e(y)}}},$destroy:function(){if(this.$$destroyed)return;var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(this===j)return;w(this.$$listenerCount,kb(null,n,this));if(a.$$childHead==this)a.$$childHead=this.$$nextSibling;if(a.$$childTail==this)a.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null;this.$$listeners={};this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[];this.$destroy=this.$digest=this.$apply=F;this.$on=this.$watch=function(){return F}},$eval:function(a,b){return f(a)(this,b)},$evalAsync:function(a){if(!j.$$phase&&!j.$$asyncQueue.length){h.defer(function(){if(j.$$asyncQueue.length){j.$digest()}})}this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{k("$apply");return this.$eval(a)}catch(b){e(b)}finally{l();try{j.$digest()}catch(b){e(b);throw b}}},$on:function(a,b){var c=this.$$listeners[a];if(!c){this.$$listeners[a]=c=[]}c.push(b);var d=this;do{if(!d.$$listenerCount[a]){d.$$listenerCount[a]=0}d.$$listenerCount[a]++}while(d=d.$parent);var e=this;return function(){c[bb(c,b)]=null;n(e,1,a)}},$emit:function(a,b){var c=[],d,f=this,g=false,h={name:a,targetScope:f,stopPropagation:function(){g=true},preventDefault:function(){h.defaultPrevented=true},defaultPrevented:false},i=ib([h],arguments,1),j,k;do{d=f.$$listeners[a]||c;h.currentScope=f;for(j=0,k=d.length;j<k;j++){if(!d[j]){d.splice(j,1);j--;k--;continue}try{d[j].apply(null,i)}catch(l){e(l)}}if(g)return h;f=f.$parent}while(f);return h},$broadcast:function(a,b){var c=this,d=c,f=c,g={name:a,targetScope:c,preventDefault:function(){g.defaultPrevented=true},defaultPrevented:false},h=ib([g],arguments,1),i,j,k;while(d=f){g.currentScope=d;i=d.$$listeners[a]||[];for(j=0,k=i.length;j<k;j++){if(!i[j]){i.splice(j,1);j--;k--;continue}try{i[j].apply(null,h)}catch(l){e(l)}}if(!(f=d.$$listenerCount[a]&&d.$$childHead||d!==c&&d.$$nextSibling)){while(d!==c&&!(f=d.$$nextSibling)){d=d.$parent}}}return g}};var j=new i;return j;function k(a){if(j.$$phase){throw b("inprog","{0} already in progress",j.$$phase)}j.$$phase=a}function l(){j.$$phase=null}function m(a,b){var c=f(a);Bb(c,b);return c}function n(a,b,c){do{a.$$listenerCount[c]-=b;if(a.$$listenerCount[c]===0){delete a.$$listenerCount[c]}}while(a=a.$parent)}function o(){}}]}function Qd(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){if(J(b)){a=b;return this}return a};this.imgSrcSanitizationWhitelist=function(a){if(J(a)){b=a;return this}return b};this.$get=function(){return function c(d,e){var f=e?b:a;var g;if(!k||k>=8){g=ae(d).href;if(g!==""&&!g.match(f)){return"unsafe:"+g}}return d}}}var Rd=d("$sce");var Sd={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function Td(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ud(a){if(a==="self"){return a}else if(L(a)){if(a.indexOf("***")>-1){throw Rd("iwcard","Illegal sequence *** in string matcher.  String: {0}",a)}a=Td(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+a+"$")}else if(Q(a)){return new RegExp("^"+a.source+"$")}else{throw Rd("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function Vd(a){var b=[];if(J(a)){w(a,function(a){b.push(Ud(a))})}return b}function Wd(){this.SCE_CONTEXTS=Sd;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){if(arguments.length){a=Vd(b)}return a};this.resourceUrlBlacklist=function(a){if(arguments.length){b=Vd(a)}return b};this.$get=["$injector",function(d){var e=function n(a){throw Rd("unsafe","Attempting to use an unsafe value in a safe context.")};if(d.has("$sanitize")){e=d.get("$sanitize")}function f(a,b){if(a==="self"){return be(b)}else{return!!a.exec(b.href)}}function g(c){var d=ae(c.toString());var e,g,h=false;for(e=0,g=a.length;e<g;e++){if(f(a[e],d)){h=true;break}}if(h){for(e=0,g=b.length;e<g;e++){if(f(b[e],d)){h=false;break}}}return h}function h(a){var b=function c(a){this.$$unwrapTrustedValue=function(){return a}};if(a){b.prototype=new a}b.prototype.valueOf=function d(){return this.$$unwrapTrustedValue()};b.prototype.toString=function e(){return this.$$unwrapTrustedValue().toString()};return b}var i=h(),j={};j[Sd.HTML]=h(i);j[Sd.CSS]=h(i);j[Sd.URL]=h(i);j[Sd.JS]=h(i);j[Sd.RESOURCE_URL]=h(j[Sd.URL]);function k(a,b){var d=j.hasOwnProperty(a)?j[a]:null;if(!d){throw Rd("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b)}if(b===null||b===c||b===""){return b}if(typeof b!=="string"){throw Rd("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a)}return new d(b)}function l(a){if(a instanceof i){return a.$$unwrapTrustedValue()}else{return a}}function m(a,b){if(b===null||b===c||b===""){return b}var d=j.hasOwnProperty(a)?j[a]:null;if(d&&b instanceof d){return b.$$unwrapTrustedValue()}if(a===Sd.RESOURCE_URL){if(g(b)){return b}else{throw Rd("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}}else if(a===Sd.HTML){return e(b)}throw Rd("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:k,getTrusted:m,valueOf:l}}]}function Xd(){var a=true;this.enabled=function(b){if(arguments.length){a=!!b}return a};this.$get=["$parse","$sniffer","$sceDelegate",function(b,c,d){if(a&&c.msie&&c.msieDocumentMode<8){throw Rd("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks "+"mode.  You can fix this by adding the text <!doctype html> to the top of your HTML "+"document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var e=fb(Sd);e.isEnabled=function(){return a};e.trustAs=d.trustAs;e.getTrusted=d.getTrusted;e.valueOf=d.valueOf;if(!a){e.trustAs=e.getTrusted=function(a,b){return b};e.valueOf=G}e.parseAs=function j(a,c){var d=b(c);if(d.literal&&d.constant){return d}else{return function f(b,c){return e.getTrusted(a,d(b,c))}}};var g=e.parseAs,h=e.getTrusted,i=e.trustAs;w(Sd,function(a,b){var c=f(b);e[Rb("parse_as_"+c)]=function(b){return g(a,b)};e[Rb("get_trusted_"+c)]=function(b){return h(a,b)};e[Rb("trust_as_"+c)]=function(b){return i(a,b)}});return e}]}function Yd(){this.$get=["$window","$document",function(a,b){var c={},d=D((/android (\d+)/.exec(f((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},h=g.documentMode,i,j=/^(Moz|webkit|O|ms)(?=[A-Z])/,l=g.body&&g.body.style,m=false,n=false,o;if(l){for(var p in l){if(o=j.exec(p)){i=o[0];i=i.substr(0,1).toUpperCase()+i.substr(1);break}}if(!i){i="WebkitOpacity"in l&&"webkit"}m=!!("transition"in l||i+"Transition"in l);n=!!("animation"in l||i+"Animation"in l);if(d&&(!m||!n)){m=L(g.body.style.webkitTransition);n=L(g.body.style.webkitAnimation)}}return{history:!!(a.history&&a.history.pushState&&!(d<4)&&!e),hashchange:"onhashchange"in a&&(!h||h>7),hasEvent:function(a){if(a=="input"&&k==9)return false;if(I(c[a])){var b=g.createElement("div");c[a]="on"+a in b}return c[a]},csp:hb(),vendorPrefix:i,transitions:m,animations:n,android:d,msie:k,msieDocumentMode:h}}]}function Zd(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,b,c,d){var e={};function f(f,g,h){var i=c.defer(),j=i.promise,k=J(h)&&!h,l;l=b.defer(function(){try{i.resolve(f())}catch(b){i.reject(b);d(b)}finally{delete e[j.$$timeoutId]}if(!k)a.$apply()},g);j.$$timeoutId=l;e[l]=i;return j}f.cancel=function(a){if(a&&a.$$timeoutId in e){e[a.$$timeoutId].reject("canceled");delete e[a.$$timeoutId];return b.defer.cancel(a.$$timeoutId)}return false};return f}]}var $d=b.createElement("a");var _d=ae(a.location.href,true);function ae(a,b){var c=a;if(k){$d.setAttribute("href",c);c=$d.href}$d.setAttribute("href",c);return{href:$d.href,protocol:$d.protocol?$d.protocol.replace(/:$/,""):"",host:$d.host,search:$d.search?$d.search.replace(/^\?/,""):"",hash:$d.hash?$d.hash.replace(/^#/,""):"",hostname:$d.hostname,port:$d.port,pathname:$d.pathname.charAt(0)==="/"?$d.pathname:"/"+$d.pathname}}function be(a){var b=L(a)?ae(a):a;return b.protocol===_d.protocol&&b.host===_d.host}function ce(){this.$get=H(a)}de.$inject=["$provide"];function de(a){var b="Filter";function c(d,e){if(K(d)){var f={};w(d,function(a,b){f[b]=c(b,a)});return f}else{return a.factory(d+b,e)}}this.register=c;this.$get=["$injector",function(a){return function(c){return a.get(c+b)}}];c("currency",fe);c("date",re);c("filter",ee);c("json",se);c("limitTo",ve);c("lowercase",te);c("number",ge);c("orderBy",we);c("uppercase",ue)}function ee(){return function(a,b,c){if(!O(a))return a;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++){if(!e[b](a)){return false}}return true};if(d!=="function"){if(d==="boolean"&&c){c=function(a,b){return r.equals(a,b)}}else{c=function(a,b){if(a&&b&&typeof a==="object"&&typeof b==="object"){for(var d in a){if(d.charAt(0)!=="$"&&g.call(a,d)&&c(a[d],b[d])){return true}}return false}b=(""+b).toLowerCase();return(""+a).toLowerCase().indexOf(b)>-1}}}var f=function(a,b){if(typeof b=="string"&&b.charAt(0)==="!"){return!f(a,b.substr(1))}switch(typeof a){case"boolean":case"number":case"string":return c(a,b);case"object":switch(typeof b){case"object":return c(a,b);default:for(var d in a){if(d.charAt(0)!=="$"&&f(a[d],b)){return true}}break}return false;case"array":for(var e=0;e<a.length;e++){if(f(a[e],b)){return true}}return false;default:return false}};switch(typeof b){case"boolean":case"number":case"string":b={$:b};case"object":for(var h in b){(function(a){if(typeof b[a]==="undefined")return;e.push(function(c){return f(a=="$"?c:c&&c[a],b[a])})})(h)}break;case"function":e.push(b);break;default:return a}var i=[];for(var j=0;j<a.length;j++){var k=a[j];if(e.check(k)){i.push(k)}}return i}}fe.$inject=["$locale"];function fe(a){var b=a.NUMBER_FORMATS;return function(a,c){if(I(c))c=b.CURRENCY_SYM;return ie(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,2).replace(/\u00A4/g,c)}}ge.$inject=["$locale"];function ge(a){var b=a.NUMBER_FORMATS;return function(a,c){return ie(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}var he=".";function ie(a,b,c,d,e){if(a==null||!isFinite(a)||K(a))return"";var f=a<0;a=Math.abs(a);var g=a+"",h="",i=[];var j=false;if(g.indexOf("e")!==-1){var k=g.match(/([\d\.]+)e(-?)(\d+)/);if(k&&k[2]=="-"&&k[3]>e+1){g="0";a=0}else{h=g;j=true}}if(!j){var l=(g.split(he)[1]||"").length;if(I(e)){e=Math.min(Math.max(b.minFrac,l),b.maxFrac)}a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);if(a===0){f=false}var m=(""+a).split(he);var n=m[0];m=m[1]||"";var o,p=0,q=b.lgSize,r=b.gSize;if(n.length>=q+r){p=n.length-q;for(o=0;o<p;o++){if((p-o)%r===0&&o!==0){h+=c}h+=n.charAt(o)}}for(o=p;o<n.length;o++){if((n.length-o)%q===0&&o!==0){h+=c}h+=n.charAt(o)}while(m.length<e){m+="0"}if(e&&e!=="0")h+=d+m.substr(0,e)}else{if(e>0&&a>-1&&a<1){h=a.toFixed(e)}}i.push(f?b.negPre:b.posPre);i.push(h);i.push(f?b.negSuf:b.posSuf);return i.join("")}function je(a,b,c){var d="";if(a<0){d="-";a=-a}a=""+a;while(a.length<b)a="0"+a;if(c)a=a.substr(a.length-b);return d+a}function ke(a,b,c,d){c=c||0;return function(e){var f=e["get"+a]();if(c>0||f>-c)f+=c;if(f===0&&c==-12)f=12;return je(f,b,d)}}function le(a,b){return function(c,d){var e=c["get"+a]();var f=h(b?"SHORT"+a:a);return d[f][e]}}function me(a){var b=-1*a.getTimezoneOffset();var c=b>=0?"+":"";c+=je(Math[b>0?"floor":"ceil"](b/60),2)+je(Math.abs(b%60),2);return c}function ne(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}var oe={yyyy:ke("FullYear",4),yy:ke("FullYear",2,0,true),y:ke("FullYear",1),MMMM:le("Month"),MMM:le("Month",true),MM:ke("Month",2,1),M:ke("Month",1,1),dd:ke("Date",2),d:ke("Date",1),HH:ke("Hours",2),H:ke("Hours",1),hh:ke("Hours",2,-12),h:ke("Hours",1,-12),mm:ke("Minutes",2),m:ke("Minutes",1),ss:ke("Seconds",2),s:ke("Seconds",1),sss:ke("Milliseconds",3),EEEE:le("Day"),EEE:le("Day",true),a:ne,Z:me};var pe=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,qe=/^\-?\d+$/;re.$inject=["$locale"];function re(a){var b=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function c(a){var c;if(c=a.match(b)){var d=new Date(0),e=0,f=0,g=c[8]?d.setUTCFullYear:d.setFullYear,h=c[8]?d.setUTCHours:d.setHours;if(c[9]){e=D(c[9]+c[10]);f=D(c[9]+c[11])}g.call(d,D(c[1]),D(c[2])-1,D(c[3]));var i=D(c[4]||0)-e;var j=D(c[5]||0)-f;var k=D(c[6]||0);var l=Math.round(parseFloat("0."+(c[7]||0))*1e3);h.call(d,i,j,k,l);return d}return a}return function(b,d){var e="",f=[],g,h;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;if(L(b)){b=qe.test(b)?D(b):c(b)}if(M(b)){b=new Date(b)}if(!N(b)){return b}while(d){h=pe.exec(d);if(h){f=ib(f,h,1);d=f.pop()}else{f.push(d);d=null}}w(f,function(c){g=oe[c];e+=g?g(b,a.DATETIME_FORMATS):c.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return e}}function se(){return function(a){return mb(a,true)}}var te=H(f);var ue=H(h);function ve(){return function(a,b){if(!O(a)&&!L(a))return a;if(Math.abs(Number(b))===Infinity){b=Number(b)}else{b=D(b)}if(L(a)){if(b){return b>=0?a.slice(0,b):a.slice(b,a.length)}else{return""}}var c=[],d,e;if(b>a.length)b=a.length;else if(b<-a.length)b=-a.length;if(b>0){d=0;e=b}else{d=a.length+b;e=a.length}for(;d<e;d++){c.push(a[d])}return c}}we.$inject=["$parse"];function we(a){return function(b,c,d){if(!v(b))return b;if(!c)return b;c=O(c)?c:[c];c=$(c,function(b){var c=false,d=b||G;if(L(b)){if(b.charAt(0)=="+"||b.charAt(0)=="-"){c=b.charAt(0)=="-";b=b.substring(1)}d=a(b);if(d.constant){var e=d();return h(function(a,b){return i(a[e],b[e])},c)}}return h(function(a,b){return i(d(a),d(b))},c)});var e=[];for(var f=0;f<b.length;f++){e.push(b[f])}return e.sort(h(g,d));function g(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(e!==0)return e}return 0}function h(a,b){return ob(b)?function(b,c){return a(c,b)}:a}function i(a,b){var c=typeof a;var d=typeof b;if(c==d){if(N(a)&&N(b)){a=a.valueOf();b=b.valueOf()}if(c=="string"){a=a.toLowerCase();b=b.toLowerCase()}if(a===b)return 0;return a<b?-1:1}else{return c<d?-1:1}}}}function xe(a){if(P(a)){a={link:a}}a.restrict=a.restrict||"AC";return H(a)}var ye=H({restrict:"E",compile:function(a,c){if(k<=8){if(!c.href&&!c.name){c.$set("href","")}a.append(b.createComment("IE fix"))}if(!c.href&&!c.xlinkHref&&!c.name){return function(a,b){var c=p.call(b.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";b.on("click",function(a){if(!b.attr(c)){a.preventDefault()}})}}}});var ze={};w(oc,function(a,b){if(a=="multiple")return;var c=Mc("ng-"+b);ze[c]=function(){return{priority:100,link:function(a,d,e){a.$watch(e[c],function f(a){e.$set(b,!!a)})}}}});w(["src","srcset","href"],function(a){var b=Mc("ng-"+a);ze[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;if(a==="href"&&p.call(d.prop("href"))==="[object SVGAnimatedString]"){g="xlinkHref";e.$attr[g]="xlink:href";f=null}e.$observe(b,function(b){if(!b){if(a==="href"){e.$set(g,null)}return}e.$set(g,b);if(k&&f)d.prop(f,e[g])})}}}});var Ae={$addControl:F,$removeControl:F,$setValidity:F,$setDirty:F,$setPristine:F};Be.$inject=["$element","$attrs","$scope","$animate"];function Be(a,b,c,d){var e=this,f=a.parent().controller("form")||Ae,g=0,h=e.$error={},i=[];e.$name=b.name||b.ngForm;e.$dirty=false;e.$pristine=true;e.$valid=true;e.$invalid=false;f.$addControl(e);a.addClass(We);j(true);function j(b,c){c=c?"-"+yb(c,"-"):"";d.setClass(a,(b?Ue:Ve)+c,(b?Ve:Ue)+c)}e.$addControl=function(a){Cb(a.$name,"input");i.push(a);if(a.$name){e[a.$name]=a}};e.$removeControl=function(a){if(a.$name&&e[a.$name]===a){delete e[a.$name]}w(h,function(b,c){e.$setValidity(c,true,a)});cb(i,a)};e.$setValidity=function(a,b,c){var d=h[a];if(b){if(d){cb(d,c);if(!d.length){g--;if(!g){j(b);e.$valid=true;e.$invalid=false}h[a]=false;j(true,a);f.$setValidity(a,true,e)}}}else{if(!g){j(b)}if(d){if(ab(d,c))return}else{h[a]=d=[];g++;j(false,a);f.$setValidity(a,false,e)}d.push(c);e.$valid=false;e.$invalid=true}};e.$setDirty=function(){d.removeClass(a,We);d.addClass(a,Xe);e.$dirty=true;e.$pristine=false;f.$setDirty()};e.$setPristine=function(){d.removeClass(a,Xe);d.addClass(a,We);e.$dirty=false;e.$pristine=true;w(i,function(a){a.$setPristine()})}}var Ce=function(a){return["$timeout",function(b){var d={name:"form",restrict:a?"EAC":"E",controller:Be,compile:function(){return{pre:function(a,d,e,f){if(!e.action){var g=function(a){a.preventDefault?a.preventDefault():a.returnValue=false};Kb(d[0],"submit",g);d.on("$destroy",function(){b(function(){Lb(d[0],"submit",g)},0,false)})}var h=d.parent().controller("form"),i=e.name||e.ngForm;if(i){Hd(a,i,f,i)}if(h){d.on("$destroy",function(){h.$removeControl(f);if(i){Hd(a,i,c,i)}C(f,Ae)})}}}}};return d}]};var De=Ce();var Ee=Ce(true);var Fe=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;var Ge=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;var He=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/;var Ie={text:Me,number:Oe,url:Pe,email:Qe,radio:Re,checkbox:Se,hidden:F,button:F,submit:F,reset:F,file:F};function Je(a,b,d,e){a.$setValidity(b,d);return d?e:c}function Ke(a,b){var c,d;if(b){for(c=0;c<b.length;++c){d=b[c];if(a[d]){return true}}}return false}function Le(a,b,c,d,e){if(K(e)){a.$$hasNativeValidators=true;var f=function(f){if(!a.$error[b]&&!Ke(e,d)&&Ke(e,c)){a.$setValidity(b,false);return}return f};a.$parsers.push(f)}}function Me(a,b,c,g,h,i){var j=b.prop(e);var l=b[0].placeholder,m={};var n=f(b[0].type);g.$$validityState=j;if(!h.android){var o=false;b.on("compositionstart",function(a){o=true});b.on("compositionend",function(){o=false;p()})}var p=function(d){if(o)return;var e=b.val();if(k&&(d||m).type==="input"&&b[0].placeholder!==l){l=b[0].placeholder;return}if(n!=="password"&&ob(c.ngTrim||"T")){e=X(e)}var f=j&&g.$$hasNativeValidators;if(g.$viewValue!==e||e===""&&f){if(a.$root.$$phase){g.$setViewValue(e)}else{a.$apply(function(){g.$setViewValue(e)})}}};if(h.hasEvent("input")){b.on("input",p)}else{var q;var r=function(){if(!q){q=i.defer(function(){p();q=null})}};b.on("keydown",function(a){var b=a.keyCode;if(b===91||15<b&&b<19||37<=b&&b<=40)return;r()});if(h.hasEvent("paste")){b.on("paste cut",r)}}b.on("change",p);g.$render=function(){b.val(g.$isEmpty(g.$viewValue)?"":g.$viewValue)};var s=c.ngPattern,t,u;if(s){var v=function(a,b){return Je(g,"pattern",g.$isEmpty(b)||a.test(b),b)};u=s.match(/^\/(.*)\/([gim]*)$/);if(u){s=new RegExp(u[1],u[2]);t=function(a){return v(s,a)}}else{t=function(c){var e=a.$eval(s);if(!e||!e.test){throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,pb(b))}return v(e,c)}}g.$formatters.push(t);g.$parsers.push(t)}if(c.ngMinlength){var w=D(c.ngMinlength);var x=function(a){return Je(g,"minlength",g.$isEmpty(a)||a.length>=w,a)};g.$parsers.push(x);g.$formatters.push(x)}if(c.ngMaxlength){var y=D(c.ngMaxlength);var z=function(a){return Je(g,"maxlength",g.$isEmpty(a)||a.length<=y,a)};g.$parsers.push(z);g.$formatters.push(z)}}var Ne=["badInput"];function Oe(a,b,d,e,f,g){Me(a,b,d,e,f,g);e.$parsers.push(function(a){var b=e.$isEmpty(a);if(b||He.test(a)){e.$setValidity("number",true);return a===""?null:b?a:parseFloat(a)}else{e.$setValidity("number",false);return c}});Le(e,"number",Ne,null,e.$$validityState);e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a});if(d.min){var h=function(a){var b=parseFloat(d.min);return Je(e,"min",e.$isEmpty(a)||a>=b,a)};e.$parsers.push(h);e.$formatters.push(h)}if(d.max){var i=function(a){var b=parseFloat(d.max);return Je(e,"max",e.$isEmpty(a)||a<=b,a)};e.$parsers.push(i);e.$formatters.push(i)}e.$formatters.push(function(a){return Je(e,"number",e.$isEmpty(a)||M(a),a)})}function Pe(a,b,c,d,e,f){Me(a,b,c,d,e,f);var g=function(a){return Je(d,"url",d.$isEmpty(a)||Fe.test(a),a)};d.$formatters.push(g);d.$parsers.push(g)}function Qe(a,b,c,d,e,f){Me(a,b,c,d,e,f);var g=function(a){return Je(d,"email",d.$isEmpty(a)||Ge.test(a),a)};d.$formatters.push(g);d.$parsers.push(g)}function Re(a,b,c,d){if(I(c.name)){b.attr("name",A())}b.on("click",function(){if(b[0].checked){a.$apply(function(){d.$setViewValue(c.value)})}});d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue};c.$observe("value",d.$render)}function Se(a,b,c,d){var e=c.ngTrueValue,f=c.ngFalseValue;if(!L(e))e=true;if(!L(f))f=false;b.on("click",function(){a.$apply(function(){d.$setViewValue(b[0].checked)})});d.$render=function(){b[0].checked=d.$viewValue};d.$isEmpty=function(a){return a!==e};d.$formatters.push(function(a){return a===e});d.$parsers.push(function(a){return a?e:f})}var Te=["$browser","$sniffer",function(a,b){return{restrict:"E",require:"?ngModel",link:function(c,d,e,g){if(g){(Ie[f(e.type)]||Ie.text)(c,d,e,g,b,a)}}}}];var Ue="ng-valid",Ve="ng-invalid",We="ng-pristine",Xe="ng-dirty";var Ye=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,b,c,e,f,g){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$name=c.name;var h=f(c.ngModel),i=h.assign;if(!i){throw d("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,pb(e))}this.$render=F;this.$isEmpty=function(a){return I(a)||a===""||a===null||a!==a};var j=e.inheritedData("$formController")||Ae,k=0,l=this.$error={};e.addClass(We);m(true);function m(a,b){b=b?"-"+yb(b,"-"):"";g.removeClass(e,(a?Ve:Ue)+b);g.addClass(e,(a?Ue:Ve)+b)}this.$setValidity=function(a,b){if(l[a]===!b)return;if(b){if(l[a])k--;if(!k){m(true);this.$valid=true;this.$invalid=false}}else{m(false);this.$invalid=true;this.$valid=false;k++}l[a]=!b;m(b,a);j.$setValidity(a,b,this)};this.$setPristine=function(){this.$dirty=false;this.$pristine=true;g.removeClass(e,Xe);g.addClass(e,We)};this.$setViewValue=function(c){this.$viewValue=c;if(this.$pristine){this.$dirty=true;this.$pristine=false;g.removeClass(e,We);g.addClass(e,Xe);j.$setDirty()}w(this.$parsers,function(a){c=a(c)});if(this.$modelValue!==c){this.$modelValue=c;i(a,c);w(this.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})}};var n=this;a.$watch(function o(){var b=h(a);if(n.$modelValue!==b){var c=n.$formatters,d=c.length;n.$modelValue=b;while(d--){b=c[d](b)}if(n.$viewValue!==b){n.$viewValue=b;n.$render()}}return b})}];var Ze=function(){return{require:["ngModel","^?form"],controller:Ye,link:function(a,b,c,d){var e=d[0],f=d[1]||Ae;f.$addControl(e);a.$on("$destroy",function(){f.$removeControl(e)})}}};var $e=H({require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}});var _e=function(){return{require:"?ngModel",link:function(a,b,c,d){if(!d)return;c.required=true;var e=function(a){if(c.required&&d.$isEmpty(a)){d.$setValidity("required",false);return}else{d.$setValidity("required",true);return a}};d.$formatters.push(e);d.$parsers.unshift(e);c.$observe("required",function(){e(d.$viewValue)})}}};var af=function(){return{require:"ngModel",link:function(a,b,d,e){var f=/\/(.*)\//.exec(d.ngList),g=f&&new RegExp(f[1])||d.ngList||",";var h=function(a){if(I(a))return;var b=[];if(a){w(a.split(g),function(a){if(a)b.push(X(a))})}return b};e.$parsers.push(h);e.$formatters.push(function(a){if(O(a)){return a.join(", ")}return c});e.$isEmpty=function(a){return!a||!a.length}}}};var bf=/^(true|false|\d+)$/;var cf=function(){return{priority:100,compile:function(a,b){if(bf.test(b.ngValue)){return function c(a,b,d){d.$set("value",a.$eval(d.ngValue))}}else{return function d(a,b,c){a.$watch(c.ngValue,function d(a){c.$set("value",a)})}}}}};var df=xe({compile:function(a){a.addClass("ng-binding");return function(a,b,d){b.data("$binding",d.ngBind);a.$watch(d.ngBind,function e(a){b.text(a==c?"":a)})}}});var ef=["$interpolate",function(a){return function(b,c,d){var e=a(c.attr(d.$attr.ngBindTemplate));c.addClass("ng-binding").data("$binding",e);d.$observe("ngBindTemplate",function(a){c.text(a)})}}];var ff=["$sce","$parse",function(a,b){return{compile:function(c){c.addClass("ng-binding");return function(c,d,e){d.data("$binding",e.ngBindHtml);var f=b(e.ngBindHtml);function g(){return(f(c)||"").toString()}c.$watch(g,function h(b){d.html(a.getTrustedHtml(f(c))||"")})}}}}];function gf(a,b){a="ngClass"+a;return["$animate",function(c){return{restrict:"AC",link:function(f,g,h){var i;f.$watch(h[a],n,true);h.$observe("class",function(b){n(f.$eval(h[a]))});if(a!=="ngClass"){f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var i=e(f.$eval(h[a]));g===b?j(i):k(i)}})}function j(a){var b=l(a,1);h.$addClass(b)}function k(a){var b=l(a,-1);h.$removeClass(b)}function l(a,b){var c=g.data("$classCounts")||{};var d=[];w(a,function(a){if(b>0||c[a]){c[a]=(c[a]||0)+b;if(c[a]===+(b>0)){d.push(a)}}});g.data("$classCounts",c);return d.join(" ")}function m(a,b){var e=d(b,a);var f=d(a,b);f=l(f,-1);e=l(e,1);if(e.length===0){c.removeClass(g,f)}else if(f.length===0){c.addClass(g,e)}else{c.setClass(g,e,f)}}function n(a){if(b===true||f.$index%2===b){var c=e(a||[]);if(!i){j(c)}else if(!gb(a,i)){var d=e(i);m(d,c)}}i=fb(a)}}};function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){var e=a[d];for(var f=0;f<b.length;f++){if(e==b[f])continue a}c.push(e)}return c}function e(a){if(O(a)){return a}else if(L(a)){return a.split(" ")}else if(K(a)){var b=[],c=0;w(a,function(a,c){if(a){b=b.concat(c.split(" "))}});return b}return a}}]}var hf=gf("",true);var jf=gf("Odd",0);var kf=gf("Even",1);var lf=xe({compile:function(a,b){b.$set("ngCloak",c);a.removeClass("ng-cloak")}});var mf=[function(){return{scope:true,controller:"@",priority:500}}];var nf={};var of={blur:true,focus:true};w("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Mc("ng-"+a);nf[b]=["$parse","$rootScope",function(c,d){return{compile:function(e,f){var g=c(f[b]);return function h(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};if(of[a]&&d.$$phase){b.$evalAsync(e)}else{b.$apply(e)}})}}}}]});var pf=["$animate",function(a){return{transclude:"element",priority:600,terminal:true,restrict:"A",$$tlb:true,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function k(f){if(ob(f)){if(!i){i=c.$new();g(i,function(c){c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" ");h={clone:c};a.enter(c,d.parent(),d)})}}else{if(j){j.remove();j=null}if(i){i.$destroy();i=null}if(h){j=Eb(h.clone);a.leave(j,function(){j=null});h=null}}})}}}];var qf=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,b,c,d,e){return{restrict:"ECA",priority:400,terminal:true,transclude:"element",controller:r.noop,compile:function(f,g){var h=g.ngInclude||g.src,i=g.onload||"",j=g.autoscroll;return function(f,g,k,l,m){var n=0,o,p,q;var r=function(){if(p){p.remove();p=null}if(o){o.$destroy();o=null}if(q){d.leave(q,function(){p=null});p=q;q=null}};f.$watch(e.parseAsResourceUrl(h),function s(e){var h=function(){if(J(j)&&(!j||f.$eval(j))){c()}};var k=++n;if(e){a.get(e,{cache:b}).success(function(a){if(k!==n)return;var b=f.$new();l.template=a;var c=m(b,function(a){r();d.enter(a,null,g,h)});o=b;q=c;o.$emit("$includeContentLoaded");f.$eval(i)}).error(function(){if(k===n)r()});f.$emit("$includeContentRequested")
}else{r();l.template=null}})}}}}];var rf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,c,d,e){c.html(e.template);a(c.contents())(b)}}}];var sf=xe({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}});var tf=xe({terminal:true,priority:1e3});var uf=["$locale","$interpolate",function(a,b){var c=/{}/g;return{restrict:"EA",link:function(d,e,g){var h=g.count,i=g.$attr.when&&e.attr(g.$attr.when),j=g.offset||0,k=d.$eval(i)||{},l={},m=b.startSymbol(),n=b.endSymbol(),o=/^when(Minus)?(.+)$/;w(g,function(a,b){if(o.test(b)){k[f(b.replace("when","").replace("Minus","-"))]=e.attr(g.$attr[b])}});w(k,function(a,d){l[d]=b(a.replace(c,m+h+"-"+j+n))});d.$watch(function p(){var b=parseFloat(d.$eval(h));if(!isNaN(b)){if(!(b in k))b=a.pluralCat(b-j);return l[b](d,e,true)}else{return""}},function q(a){e.text(a)})}}}];var vf=["$parse","$animate",function(a,c){var e="$$NG_REMOVED";var f=d("ngRepeat");return{transclude:"element",priority:1e3,terminal:true,$$tlb:true,link:function(d,i,j,k,m){var n=j.ngRepeat;var o=n.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),p,q,r,s,t,u,x,y,z,A={$id:sc};if(!o){throw f("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n)}u=o[1];x=o[2];p=o[3];if(p){q=a(p);r=function(a,b,c){if(z)A[z]=a;A[y]=b;A.$index=c;return q(d,A)}}else{s=function(a,b){return sc(b)};t=function(a){return a}}o=u.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!o){throw f("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",u)}y=o[3]||o[1];z=o[2];var B={};d.$watchCollection(x,function C(a){var j,k,o=i[0],p,q={},u,x,A,C,D,E,F,G,H=[],I;if(v(a)){F=a;E=r||s}else{E=r||t;F=[];for(A in a){if(a.hasOwnProperty(A)&&A.charAt(0)!="$"){F.push(A)}}F.sort()}u=F.length;k=H.length=F.length;for(j=0;j<k;j++){A=a===F?j:F[j];C=a[A];D=E(A,C,j);Cb(D,"`track by` id");if(B.hasOwnProperty(D)){G=B[D];delete B[D];q[D]=G;H[j]=G}else if(q.hasOwnProperty(D)){w(H,function(a){if(a&&a.scope)B[a.id]=a});throw f("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",n,D,mb(C))}else{H[j]={id:D};q[D]=false}}for(A in B){if(B.hasOwnProperty(A)){G=B[A];I=Eb(G.clone);c.leave(I);w(I,function(a){a[e]=true});G.scope.$destroy()}}for(j=0,k=F.length;j<k;j++){A=a===F?j:F[j];C=a[A];G=H[j];if(H[j-1])o=h(H[j-1]);if(G.scope){x=G.scope;p=o;do{p=p.nextSibling}while(p&&p[e]);if(g(G)!=p){c.move(Eb(G.clone),null,l(o))}o=h(G)}else{x=d.$new()}x[y]=C;if(z)x[z]=A;x.$index=j;x.$first=j===0;x.$last=j===u-1;x.$middle=!(x.$first||x.$last);x.$odd=!(x.$even=(j&1)===0);if(!G.scope){m(x,function(a){a[a.length++]=b.createComment(" end ngRepeat: "+n+" ");c.enter(a,null,l(o));o=a;G.scope=x;G.clone=a;q[G.id]=G})}}B=q})}};function g(a){return a.clone[0]}function h(a){return a.clone[a.clone.length-1]}}];var wf=["$animate",function(a){return function(b,c,d){b.$watch(d.ngShow,function e(b){a[ob(b)?"removeClass":"addClass"](c,"ng-hide")})}}];var xf=["$animate",function(a){return function(b,c,d){b.$watch(d.ngHide,function e(b){a[ob(b)?"addClass":"removeClass"](c,"ng-hide")})}}];var yf=xe(function(a,b,c){a.$watch(c.ngStyle,function d(a,c){if(c&&a!==c){w(c,function(a,c){b.css(c,"")})}if(a)b.css(a)},true)});var zf=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function b(){this.cases={}}],link:function(b,c,d,e){var f=d.ngSwitch||d.on,g=[],h=[],i=[],j=[];b.$watch(f,function k(c){var f,k;for(f=0,k=i.length;f<k;++f){i[f].remove()}i.length=0;for(f=0,k=j.length;f<k;++f){var l=h[f];j[f].$destroy();i[f]=l;a.leave(l,function(){i.splice(f,1)})}h.length=0;j.length=0;if(g=e.cases["!"+c]||e.cases["?"]){b.$eval(d.change);w(g,function(c){var d=b.$new();j.push(d);c.transclude(d,function(b){var d=c.element;h.push(b);a.enter(b,d.parent(),d)})})}})}}}];var Af=xe({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[];d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}});var Bf=xe({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[];d.cases["?"].push({transclude:e,element:b})}});var Cf=xe({link:function(a,b,c,e,f){if(!f){throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! "+"No parent directive that requires a transclusion found. "+"Element: {0}",pb(b))}f(function(a){b.empty();b.append(a)})}});var Df=["$templateCache",function(a){return{restrict:"E",terminal:true,compile:function(b,c){if(c.type=="text/ng-template"){var d=c.id,e=b[0].text;a.put(d,e)}}}}];var Ef=d("ngOptions");var Ff=H({terminal:true});var Gf=["$compile","$parse",function(a,d){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,f={$setViewValue:F};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d=this,e={},g=f,h,i;d.databound=c.ngModel;d.init=function(a,b,c){g=a;h=b;i=c};d.addOption=function(b){Cb(b,'"option value"');e[b]=true;if(g.$viewValue==b){a.val(b);if(i.parent())i.remove()}};d.removeOption=function(a){if(this.hasOption(a)){delete e[a];if(g.$viewValue==a){this.renderUnknownOption(a)}}};d.renderUnknownOption=function(b){var c="? "+sc(b)+" ?";i.val(c);a.prepend(i);a.val(c);i.prop("selected",true)};d.hasOption=function(a){return e.hasOwnProperty(a)};b.$on("$destroy",function(){d.renderUnknownOption=F})}],link:function(f,g,h,i){if(!i[1])return;var j=i[0],m=i[1],n=h.multiple,o=h.ngOptions,p=false,q,r=l(b.createElement("option")),s=l(b.createElement("optgroup")),t=r.clone();for(var u=0,v=g.children(),y=v.length;u<y;u++){if(v[u].value===""){q=p=v.eq(u);break}}j.init(m,p,t);if(n){m.$isEmpty=function(a){return!a||a.length===0}}if(o)B(f,g,m);else if(n)A(f,g,m);else z(f,g,m,j);function z(a,b,c,d){c.$render=function(){var a=c.$viewValue;if(d.hasOption(a)){if(t.parent())t.remove();b.val(a);if(a==="")q.prop("selected",true)}else{if(I(a)&&q){b.val("")}else{d.renderUnknownOption(a)}}};b.on("change",function(){a.$apply(function(){if(t.parent())t.remove();c.$setViewValue(b.val())})})}function A(a,b,c){var d;c.$render=function(){var a=new tc(c.$viewValue);w(b.find("option"),function(b){b.selected=J(a.get(b.value))})};a.$watch(function e(){if(!gb(d,c.$viewValue)){d=fb(c.$viewValue);c.$render()}});b.on("change",function(){a.$apply(function(){var a=[];w(b.find("option"),function(b){if(b.selected){a.push(b.value)}});c.$setViewValue(a)})})}function B(b,f,g){var h;if(!(h=o.match(e))){throw Ef("iexp","Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",o,pb(f))}var i=d(h[2]||h[1]),l=h[4]||h[6],m=h[5],q=d(h[3]||""),t=d(h[2]?h[1]:l),u=d(h[7]),v=h[8],w=v?d(h[8]):null,y=[[{element:f,label:""}]];if(p){a(p)(b);p.removeClass("ng-scope");p.remove()}f.empty();f.on("change",function(){b.$apply(function(){var a,d=u(b)||[],e={},h,i,j,k,o,p,q,r;if(n){i=[];for(o=0,q=y.length;o<q;o++){a=y[o];for(k=1,p=a.length;k<p;k++){if((j=a[k].element)[0].selected){h=j.val();if(m)e[m]=h;if(w){for(r=0;r<d.length;r++){e[l]=d[r];if(w(b,e)==h)break}}else{e[l]=d[h]}i.push(t(b,e))}}}}else{h=f.val();if(h=="?"){i=c}else if(h===""){i=null}else{if(w){for(r=0;r<d.length;r++){e[l]=d[r];if(w(b,e)==h){i=t(b,e);break}}}else{e[l]=d[h];if(m)e[m]=h;i=t(b,e)}}}g.$setViewValue(i);A()})});g.$render=A;b.$watchCollection(u,A);b.$watchCollection(function(){var a={},c=u(b);if(c){var d=new Array(c.length);for(var e=0,f=c.length;e<f;e++){a[l]=c[e];d[e]=i(b,a)}return d}},A);if(n){b.$watchCollection(function(){return g.$modelValue},A)}function z(){var a=false;if(n){var c=g.$modelValue;if(w&&O(c)){a=new tc([]);var d={};for(var e=0;e<c.length;e++){d[l]=c[e];a.put(w(b,d),c[e])}}else{a=new tc(c)}}return a}function A(){var a={"":[]},c=[""],d,e,h,o,v,A,B=g.$modelValue,C=u(b)||[],D=m?x(C):C,E,F,G,H,I,K={},L,M=z(),N,O,P;for(I=0;G=D.length,I<G;I++){E=I;if(m){E=D[I];if(E.charAt(0)==="$")continue;K[m]=E}K[l]=C[E];d=q(b,K)||"";if(!(e=a[d])){e=a[d]=[];c.push(d)}if(n){L=J(M.remove(w?w(b,K):t(b,K)))}else{if(w){var Q={};Q[l]=B;L=w(b,Q)===w(b,K)}else{L=B===t(b,K)}M=M||L}P=i(b,K);P=J(P)?P:"";e.push({id:w?w(b,K):m?D[I]:I,label:P,selected:L})}if(!n){if(p||B===null){a[""].unshift({id:"",label:"",selected:!M})}else if(!M){a[""].unshift({id:"?",label:"",selected:true})}}for(H=0,F=c.length;H<F;H++){d=c[H];e=a[d];if(y.length<=H){o={element:s.clone().attr("label",d),label:e.label};v=[o];y.push(v);f.append(o.element)}else{v=y[H];o=v[0];if(o.label!=d){o.element.attr("label",o.label=d)}}N=null;for(I=0,G=e.length;I<G;I++){h=e[I];if(A=v[I+1]){N=A.element;if(A.label!==h.label){N.text(A.label=h.label)}if(A.id!==h.id){N.val(A.id=h.id)}if(N[0].selected!==h.selected){N.prop("selected",A.selected=h.selected);if(k){N.prop("selected",A.selected)}}}else{if(h.id===""&&p){O=p}else{(O=r.clone()).val(h.id).prop("selected",h.selected).attr("selected",h.selected).text(h.label)}v.push(A={element:O,label:h.label,id:h.id,selected:h.selected});j.addOption(h.label,O);if(N){N.after(O)}else{o.element.append(O)}N=O}}I++;while(v.length>I){h=v.pop();j.removeOption(h.label);h.element.remove()}}while(y.length>H){y.pop()[0].element.remove()}}}}}}];var Hf=["$interpolate",function(a){var b={addOption:F,removeOption:F};return{restrict:"E",priority:100,compile:function(c,d){if(I(d.value)){var e=a(c.text(),true);if(!e){d.$set("value",c.text())}}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);if(h&&h.databound){c.prop("selected",false)}else{h=b}if(e){a.$watch(e,function i(a,b){d.$set("value",a);if(a!==b)h.removeOption(b);h.addOption(a)})}else{h.addOption(d.value)}c.on("$destroy",function(){h.removeOption(d.value)})}}}}];var If=H({restrict:"E",terminal:true});if(a.angular.bootstrap){console.log("WARNING: Tried to load angular more than once.");return}zb();Hb(r);l(b).ready(function(){vb(b,wb)})})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>');!function(){var a=function(){try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a)return!0}catch(b){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1},b=function(a,b){window.XMLHttpRequest.prototype[a]=b(window.XMLHttpRequest.prototype[a])};if(window.XMLHttpRequest){if(!window.FormData||window.FileAPI&&FileAPI.forceLoad){var c=function(a){if(!a.__listeners){a.upload||(a.upload={}),a.__listeners=[];var b=a.upload.addEventListener;a.upload.addEventListener=function(c,d){a.__listeners[c]=d,b&&b.apply(this,arguments)}}};b("open",function(a){return function(b,d,e){c(this),this.__url=d;try{a.apply(this,[b,d,e])}catch(f){f.message.indexOf("Access is denied")>-1&&a.apply(this,[b,"_fix_for_ie_crossdomain__",e])}}}),b("getResponseHeader",function(a){return function(b){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(b):null==a?null:a.apply(this,[b])}}),b("getAllResponseHeaders",function(a){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==a?null:a.apply(this)}}),b("abort",function(a){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==a?null:a.apply(this)}}),b("setRequestHeader",function(a){return function(b,d){if("__setXHR_"===b){c(this);var e=d(this);e instanceof Function&&e(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[b]=d,a.apply(this,arguments)}}),b("send",function(b){return function(){var c=this;if(arguments[0]&&arguments[0].__isShim){var d=arguments[0],e={url:c.__url,jsonp:!1,cache:!0,complete:function(a,b){c.__completed=!0,!a&&c.__listeners.load&&c.__listeners.load({type:"load",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),!a&&c.__listeners.loadend&&c.__listeners.loadend({type:"loadend",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),"abort"===a&&c.__listeners.abort&&c.__listeners.abort({type:"abort",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),void 0!==b.status&&Object.defineProperty(c,"status",{get:function(){return 0==b.status&&a&&"abort"!==a?500:b.status}}),void 0!==b.statusText&&Object.defineProperty(c,"statusText",{get:function(){return b.statusText}}),Object.defineProperty(c,"readyState",{get:function(){return 4}}),void 0!==b.response&&Object.defineProperty(c,"response",{get:function(){return b.response}});var d=b.responseText||(a&&0==b.status&&"abort"!==a?a:void 0);Object.defineProperty(c,"responseText",{get:function(){return d}}),Object.defineProperty(c,"response",{get:function(){return d}}),a&&Object.defineProperty(c,"err",{get:function(){return a}}),c.__fileApiXHR=b,c.onreadystatechange&&c.onreadystatechange()},fileprogress:function(a){if(a.target=c,c.__listeners.progress&&c.__listeners.progress(a),c.__total=a.total,c.__loaded=a.loaded,a.total===a.loaded){var b=this;setTimeout(function(){c.__completed||(c.getAllResponseHeaders=function(){},b.complete(null,{status:204,statusText:"No Content"}))},1e4)}},headers:c.__requestHeaders};e.data={},e.files={};for(var f=0;f<d.data.length;f++){var g=d.data[f];null!=g.val&&null!=g.val.name&&null!=g.val.size&&null!=g.val.type?e.files[g.key]=g.val:e.data[g.key]=g.val}setTimeout(function(){if(!a())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';c.__fileApiXHR=FileAPI.upload(e)},1)}else b.apply(c,arguments)}})}else b("setRequestHeader",function(a){return function(b,c){if("__setXHR_"===b){var d=c(this);d instanceof Function&&d(this)}else a.apply(this,arguments)}});window.XMLHttpRequest.__isShim=!0}if(!window.FormData||window.FileAPI&&FileAPI.forceLoad){var d=function(b){if(!a())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var c=angular.element(b);if(!(c.attr("disabled")||c.hasClass("js-fileapi-wrapper")||null==b.getAttribute("ng-file-select")&&null==b.getAttribute("data-ng-file-select")))if(FileAPI.wrapInsideDiv){var d=document.createElement("div");d.innerHTML='<div class="js-fileapi-wrapper" style="position:relative; overflow:hidden"></div>',d=d.firstChild;var e=b.parentNode;e.insertBefore(d,b),e.removeChild(b),d.appendChild(b)}else c.addClass("js-fileapi-wrapper"),c.parent()[0].__file_click_fn_delegate_&&((""===c.parent().css("position")||"static"===c.parent().css("position"))&&c.parent().css("position","relative"),c.css("top",0).css("bottom",0).css("left",0).css("right",0).css("width","100%").css("height","100%").css("padding",0).css("margin",0),c.parent().unbind("click",c.parent()[0].__file_click_fn_delegate_))},e=function(a){return function(b){for(var c=FileAPI.getFiles(b),d=0;d<c.length;d++)void 0===c[d].size&&(c[d].size=0),void 0===c[d].name&&(c[d].name="file"),void 0===c[d].type&&(c[d].type="undefined");b.target||(b.target={}),b.target.files=c,b.target.files!=c&&(b.__files_=c),(b.__files_||b.target.files).item=function(a){return(b.__files_||b.target.files)[a]||null},a&&a.apply(this,[b])}},f=function(a,b){return("change"===b.toLowerCase()||"onchange"===b.toLowerCase())&&"file"==a.getAttribute("type")};HTMLInputElement.prototype.addEventListener&&(HTMLInputElement.prototype.addEventListener=function(a){return function(b,c,g,h){f(this,b)?(d(this),a.apply(this,[b,e(c),g,h])):a.apply(this,[b,c,g,h])}}(HTMLInputElement.prototype.addEventListener)),HTMLInputElement.prototype.attachEvent&&(HTMLInputElement.prototype.attachEvent=function(a){return function(b,c){f(this,b)?(d(this),window.jQuery?angular.element(this).bind("change",e(null)):a.apply(this,[b,e(c)])):a.apply(this,[b,c])}}(HTMLInputElement.prototype.attachEvent)),window.FormData=FormData=function(){return{append:function(a,b,c){this.data.push({key:a,val:b,name:c})},data:[],__isShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var b,c,d,e,f,g=document.createElement("script"),h=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)b=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)c=window.FileAPI.jsPath;else for(d=0;d<h.length;d++)if(f=h[d].src,e=f.indexOf("angular-file-upload-shim.js"),-1==e&&(e=f.indexOf("angular-file-upload-shim.min.js")),e>-1){c=f.substring(0,e);break}null==FileAPI.staticPath&&(FileAPI.staticPath=c),g.setAttribute("src",b||c+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(g),FileAPI.hasFlash=a()}}(),FileAPI.disableFileInput=function(a,b){b?a.removeClass("js-fileapi-wrapper"):a.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){var a=this,b=!1;this.listeners={},this.addEventListener=function(b,c){a.listeners[b]=a.listeners[b]||[],a.listeners[b].push(c)},this.removeEventListener=function(b,c){a.listeners[b]&&a.listeners[b].splice(a.listeners[b].indexOf(c),1)},this.dispatchEvent=function(b){var c=a.listeners[b.type];if(c)for(var d=0;d<c.length;d++)c[d].call(a,b)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var c=function(b,c){var d={type:b,target:a,loaded:c.loaded,total:c.total,error:c.error};return null!=c.result&&(d.target.result=c.result),d},d=function(d){if(b||(b=!0,a.onloadstart&&this.onloadstart(c("loadstart",d))),"load"===d.type){a.onloadend&&a.onloadend(c("loadend",d));var e=c("load",d);a.onload&&a.onload(e),a.dispatchEvent(e)}else if("progress"===d.type){var e=c("progress",d);a.onprogress&&a.onprogress(e),a.dispatchEvent(e)}else{var e=c("error",d);a.onerror&&a.onerror(e),a.dispatchEvent(e)}};this.readAsArrayBuffer=function(a){FileAPI.readAsBinaryString(a,d)},this.readAsBinaryString=function(a){FileAPI.readAsBinaryString(a,d)},this.readAsDataURL=function(a){FileAPI.readAsDataURL(a,d)},this.readAsText=function(a){FileAPI.readAsText(a,d)}})}();!function(){var a=angular.module("angularFileUpload",[]);a.service("$upload",["$http","$q","$timeout",function(a,b,c){function d(d){d.method=d.method||"POST",d.headers=d.headers||{},d.transformRequest=d.transformRequest||function(b,c){return window.ArrayBuffer&&b instanceof window.ArrayBuffer?b:a.defaults.transformRequest[0](b,c)};var e=b.defer();window.XMLHttpRequest.__isShim&&(d.headers.__setXHR_=function(){return function(a){a&&(d.__XHR=a,d.xhrFn&&d.xhrFn(a),a.upload.addEventListener("progress",function(a){e.notify(a)},!1),a.upload.addEventListener("load",function(a){a.lengthComputable&&e.notify(a)},!1))}}),a(d).then(function(a){e.resolve(a)},function(a){e.reject(a)},function(a){e.notify(a)});var f=e.promise;return f.success=function(a){return f.then(function(b){a(b.data,b.status,b.headers,d)}),f},f.error=function(a){return f.then(null,function(b){a(b.data,b.status,b.headers,d)}),f},f.progress=function(a){return f.then(null,null,function(b){a(b)}),f},f.abort=function(){return d.__XHR&&c(function(){d.__XHR.abort()}),f},f.xhr=function(a){return d.xhrFn=function(b){return function(){b&&b.apply(f,arguments),a.apply(f,arguments)}}(d.xhrFn),f},f}this.upload=function(b){b.headers=b.headers||{},b.headers["Content-Type"]=void 0,b.transformRequest=b.transformRequest||a.defaults.transformRequest;var c=new FormData,e=b.transformRequest,f=b.data;return b.transformRequest=function(a,c){if(f)if(b.formDataAppender)for(var d in f){var g=f[d];b.formDataAppender(a,d,g)}else for(var d in f){var g=f[d];if("function"==typeof e)g=e(g,c);else for(var h=0;h<e.length;h++){var i=e[h];"function"==typeof i&&(g=i(g,c))}a.append(d,g)}if(null!=b.file){var j=b.fileFormDataName||"file";if("[object Array]"===Object.prototype.toString.call(b.file))for(var k="[object String]"===Object.prototype.toString.call(j),h=0;h<b.file.length;h++)a.append(k?j:j[h],b.file[h],b.fileName&&b.fileName[h]||b.file[h].name);else a.append(j,b.file,b.fileName||b.file.name)}return a},b.data=c,d(b)},this.http=function(a){return d(a)}}]),a.directive("ngFileSelect",["$parse","$timeout",function(a,b){return function(c,d,e){var f=a(e.ngFileSelect);if("input"!==d[0].tagName.toLowerCase()||"file"!==(d.attr("type")&&d.attr("type").toLowerCase())){for(var g=angular.element('<input type="file">'),h=d[0].attributes,i=0;i<h.length;i++)"type"!==h[i].name.toLowerCase()&&g.attr(h[i].name,h[i].value);e.multiple&&g.attr("multiple","true"),g.css("width","1px").css("height","1px").css("opacity",0).css("position","absolute").css("filter","alpha(opacity=0)").css("padding",0).css("margin",0).css("overflow","hidden"),g.attr("__wrapper_for_parent_",!0),d.append(g),d[0].__file_click_fn_delegate_=function(){g[0].click()},d.bind("click",d[0].__file_click_fn_delegate_),d.css("overflow","hidden"),d=g}d.bind("change",function(a){var d,e,g=[];if(d=a.__files_||a.target.files,null!=d)for(e=0;e<d.length;e++)g.push(d.item(e));b(function(){f(c,{$files:g,$event:a})})})}}]),a.directive("ngFileDropAvailable",["$parse","$timeout",function(a,b){return function(c,d,e){if("draggable"in document.createElement("span")){var f=a(e.ngFileDropAvailable);b(function(){f(c)})}}}]),a.directive("ngFileDrop",["$parse","$timeout","$location",function(a,b,c){return function(d,e,f){function g(a){return/^[\000-\177]*$/.test(a)}function h(a,d){var e=[],f=a.dataTransfer.items;if(f&&f.length>0&&f[0].webkitGetAsEntry&&"file"!=c.protocol()&&f[0].webkitGetAsEntry().isDirectory)for(var h=0;h<f.length;h++){var j=f[h].webkitGetAsEntry();null!=j&&(g(j.name)?i(e,j):f[h].webkitGetAsEntry().isDirectory||e.push(f[h].getAsFile()))}else{var k=a.dataTransfer.files;if(null!=k)for(var h=0;h<k.length;h++)e.push(k.item(h))}!function m(a){b(function(){l?m(10):d(e)},a||0)}()}function i(a,b,c){if(null!=b)if(b.isDirectory){var d=b.createReader();l++,d.readEntries(function(d){for(var e=0;e<d.length;e++)i(a,d[e],(c?c:"")+b.name+"/");l--})}else l++,b.file(function(b){l--,b._relativePath=(c?c:"")+b.name,a.push(b)})}if("draggable"in document.createElement("span")){var j=null;e[0].addEventListener("dragover",function(c){if(c.preventDefault(),b.cancel(j),!e[0].__drag_over_class_)if(f.ngFileDragOverClass&&f.ngFileDragOverClass.search(/\) *$/)>-1){var g=a(f.ngFileDragOverClass)(d,{$event:c});e[0].__drag_over_class_=g}else e[0].__drag_over_class_=f.ngFileDragOverClass||"dragover";e.addClass(e[0].__drag_over_class_)},!1),e[0].addEventListener("dragenter",function(a){a.preventDefault()},!1),e[0].addEventListener("dragleave",function(){j=b(function(){e.removeClass(e[0].__drag_over_class_),e[0].__drag_over_class_=null},f.ngFileDragOverDelay||1)},!1);var k=a(f.ngFileDrop);e[0].addEventListener("drop",function(a){a.preventDefault(),e.removeClass(e[0].__drag_over_class_),e[0].__drag_over_class_=null,h(a,function(b){k(d,{$files:b,$event:a})})},!1);var l=0}}}])}();(function(a,b,c){"use strict";var d=b.module("ngRoute",["ng"]).provider("$route",e);function e(){function a(a,c){return b.extend(new(b.extend(function(){},{prototype:a})),c)}var c={};this.when=function(a,e){c[a]=b.extend({reloadOnSearch:true},e,a&&d(a,e));if(a){var f=a[a.length-1]=="/"?a.substr(0,a.length-1):a+"/";c[f]=b.extend({redirectTo:a},d(f,e))}return this};function d(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){var f=d==="?"?d:null;var g=d==="*"?d:null;e.push({name:c,optional:!!f});b=b||"";return""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1");d.regexp=new RegExp("^"+a+"$",c?"i":"");return d}this.otherwise=function(a){this.when(null,a);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(d,e,f,g,h,i,j,k){var l=false,m={routes:c,reload:function(){l=true;d.$evalAsync(o)}};d.$on("$locationChangeSuccess",o);return m;function n(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;f<g;++f){var h=c[f-1];var i=e[f];if(h&&i){d[h.name]=i}}return d}function o(){var a=p(),c=m.current;if(a&&c&&a.$$route===c.$$route&&b.equals(a.pathParams,c.pathParams)&&!a.reloadOnSearch&&!l){c.params=a.params;b.copy(c.params,f);d.$broadcast("$routeUpdate",c)}else if(a||c){l=false;d.$broadcast("$routeChangeStart",a,c);m.current=a;if(a){if(a.redirectTo){if(b.isString(a.redirectTo)){e.path(q(a.redirectTo,a.params)).search(a.params).replace()}else{e.url(a.redirectTo(a.pathParams,e.path(),e.search())).replace()}}}g.when(a).then(function(){if(a){var c=b.extend({},a.resolve),d,e;b.forEach(c,function(a,d){c[d]=b.isString(a)?h.get(a):h.invoke(a)});if(b.isDefined(d=a.template)){if(b.isFunction(d)){d=d(a.params)}}else if(b.isDefined(e=a.templateUrl)){if(b.isFunction(e)){e=e(a.params)}e=k.getTrustedResourceUrl(e);if(b.isDefined(e)){a.loadedTemplateUrl=e;d=i.get(e,{cache:j}).then(function(a){return a.data})}}if(b.isDefined(d)){c["$template"]=d}return g.all(c)}}).then(function(e){if(a==m.current){if(a){a.locals=e;b.copy(a.params,f)}d.$broadcast("$routeChangeSuccess",a,c)}},function(b){if(a==m.current){d.$broadcast("$routeChangeError",a,c,b)}})}}function p(){var d,f;b.forEach(c,function(c,g){if(!f&&(d=n(e.path(),c))){f=a(c,{params:b.extend({},e.search(),d),pathParams:d});f.$$route=c}});return f||c[null]&&a(c[null],{params:{},pathParams:{}})}function q(a,c){var d=[];b.forEach((a||"").split(":"),function(a,b){if(b===0){d.push(a)}else{var e=a.match(/(\w+)(.*)/);var f=e[1];d.push(c[f]);d.push(e[2]||"");delete c[f]}});return d.join("")}}]}d.provider("$routeParams",f);function f(){this.$get=function(){return{}}}d.directive("ngView",g);d.directive("ngView",h);g.$inject=["$route","$anchorScroll","$animate"];function g(a,c,d){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(e,f,g,h,i){var j,k,l,m=g.autoscroll,n=g.onload||"";e.$on("$routeChangeSuccess",p);p();function o(){if(l){l.remove();l=null}if(j){j.$destroy();j=null}if(k){d.leave(k,function(){l=null});l=k;k=null}}function p(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var l=e.$new();var p=a.current;var q=i(l,function(a){d.enter(a,null,k||f,function g(){if(b.isDefined(m)&&(!m||e.$eval(m))){c()}});o()});k=q;j=p.scope=l;j.$emit("$viewContentLoaded");j.$eval(n)}else{o()}}}}}h.$inject=["$compile","$controller","$route"];function h(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);if(f.controllerAs){d[f.controllerAs]=i}e.data("$ngControllerController",i);e.children().data("$ngControllerController",i)}h(d)}}}})(window,window.angular);angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});{c[0].offsetWidth}c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()
})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(a,b,c){function d(){e();var c=+a.interval;!isNaN(c)&&c>=0&&(g=b(f,c))}function e(){g&&(b.cancel(g),g=null)}function f(){h?(a.next(),d()):a.pause()}var g,h,i=this,j=i.slides=a.slides=[],k=-1;i.currentSlide=null;var l=!1;i.select=a.select=function(e,f){function g(){if(!l){if(i.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element){e.$element.addClass(f);{e.$element[0].offsetWidth}angular.forEach(j,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(i.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(e,i.currentSlide)}else h(e,i.currentSlide);i.currentSlide=e,k=m,d()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var m=j.indexOf(e);void 0===f&&(f=m>k?"next":"prev"),e&&e!==i.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){l=!0}),i.indexOfSlide=function(a){return j.indexOf(a)},a.next=function(){var b=(k+1)%j.length;return a.$currentTransition?void 0:i.select(j[b],"next")},a.prev=function(){var b=0>k-1?j.length-1:k-1;return a.$currentTransition?void 0:i.select(j[b],"prev")},a.isActive=function(a){return i.currentSlide===a},a.$watch("interval",d),a.$on("$destroy",e),a.play=function(){h||(h=!0,d())},a.pause=function(){a.noPause||(h=!1,e())},i.addSlide=function(b,c){b.$element=c,j.push(b),1===j.length||b.active?(i.select(j[j.length-1]),1==j.length&&a.play()):b.active=!1},i.removeSlide=function(a){var b=j.indexOf(a);j.splice(b,1),j.length>0&&a.active?i.select(b>=j.length?j[b-1]:j[b]):k>b&&k--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}this.parsers={};var e={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;m>l;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if("left"===a)b-=1;else if("up"===a)b-=7;else if("right"===a)b+=1;else if("down"===a)b+=7;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else"home"===a?b=1:"end"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;12>f;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if("left"===a)b-=1;else if("up"===a)b-=3;else if("right"===a)b+=1;else if("down"===a)b+=3;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(c)}else"home"===a?b=0:"end"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());f>c;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();"left"===a?b-=1:"up"===a?b-=5:"right"===a?b+=1:"down"===a?b+=5:"pageup"===a||"pagedown"===a?b+=("pageup"===a?-1:1)*d.step.years:"home"===a?b=e(d.activeDate.getFullYear()):"end"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]},j.$observe("datepickerPopup",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");q.attr({"ng-model":"date","ng-change":"dateSelection()"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind("input change keyup",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):"";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a){h.keydown(a)};i.bind("keydown",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",s)):c.unbind("click",s)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find("body").append(u):i.after(u),h.$on("$destroy",function(){u.remove(),i.unbind("keydown",t),c.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(a){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch("isOpen",function(b,c){f[b?"addClass":"removeClass"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){i.isOpen=!1}),a.$on("$destroy",function(){i.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b,c,d){b.backdropClass=d.backdropClass||"",b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll("[autofocus]").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(m,n.length()>0),i()})}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m="modal-open",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=n.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){o.dismiss(b.key,"escape key press")})))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element("<div modal-backdrop></div>");i.attr("backdrop-class",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element("<div modal-window></div>");j.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:n.length()-1,animate:"animate"}).html(b.content);var o=d(j)(b.scope);n.top().value.modalDomEl=o,f.append(o),f.addClass(m)},o.close=function(a,b){var c=n.get(a);c&&(c.value.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a);c&&(c.value.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<div "+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var a=f(s);return function(b,c,d){function f(){b.tt_isOpen?m():k()}function k(){(!y||b.$eval(d[l+"Enable"]))&&(b.tt_popupDelay?v||(v=g(p,b.tt_popupDelay,!1),v.then(function(a){a()})):p()())}function m(){b.$apply(function(){q()})}function p(){return v=null,u&&(g.cancel(u),u=null),b.tt_content?(r(),t.css({top:0,left:0,display:"block"}),w?i.find("body").append(t):c.after(t),z(),b.tt_isOpen=!0,b.$digest(),z):angular.noop}function q(){b.tt_isOpen=!1,g.cancel(v),v=null,b.tt_animation?u||(u=g(s,500)):s()}function r(){t&&s(),t=a(b,function(){}),b.$digest()}function s(){u=null,t&&(t.remove(),t=null)}var t,u,v,w=angular.isDefined(o.appendToBody)?o.appendToBody:!1,x=n(void 0),y=angular.isDefined(d[l+"Enable"]),z=function(){var a=j.positionElements(c,t,b.tt_placement,w);a.top+="px",a.left+="px",t.css(a)};b.tt_isOpen=!1,d.$observe(e,function(a){b.tt_content=a,!a&&b.tt_isOpen&&q()}),d.$observe(l+"Title",function(a){b.tt_title=a}),d.$observe(l+"Placement",function(a){b.tt_placement=angular.isDefined(a)?a:o.placement}),d.$observe(l+"PopupDelay",function(a){var c=parseInt(a,10);b.tt_popupDelay=isNaN(c)?o.popupDelay:c});var A=function(){c.unbind(x.show,k),c.unbind(x.hide,m)};d.$observe(l+"Trigger",function(a){A(),x=n(a),x.show===x.hide?c.bind(x.show,f):(c.bind(x.show,k),c.bind(x.hide,m))});var B=b.$eval(d[l+"Animation"]);b.tt_animation=angular.isDefined(B)?!!B:o.animation,d.$observe(l+"AppendToBody",function(a){w=angular.isDefined(a)?h(a)(b):w}),w&&b.$on("$locationChangeSuccess",function(){b.tt_isOpen&&q()}),b.$on("$destroy",function(){g.cancel(u),g.cancel(v),A(),s()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);
return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),a.minutes="m"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?i.$eval(k.typeaheadAppendToBody):!1,u=b(k.ngModel).assign,v=g.parse(k.typeahead),w=i.$new();i.$on("$destroy",function(){w.$destroy()});var x="typeahead-"+w.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":x});var y=angular.element("<div typeahead-popup></div>");y.attr({id:x,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&y.attr("template-url",k.typeaheadTemplateUrl);var z=function(){w.matches=[],w.activeIdx=-1,j.attr("aria-expanded",!1)},A=function(a){return x+"-option-"+a};w.$watch("activeIdx",function(a){0>a?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",A(a))});var B=function(a){var b={$viewValue:a};q(i,!0),c.when(v.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){w.activeIdx=0,w.matches.length=0;for(var e=0;e<c.length;e++)b[v.itemName]=c[e],w.matches.push({id:A(e),label:v.viewMapper(w,b),model:c[e]});w.query=a,w.position=t?f.offset(j):f.position(j),w.position.top=w.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else z();d&&q(i,!1)},function(){z(),q(i,!1)})};z(),w.query=void 0;var C,D=function(a){C=d(function(){B(a)},o)},E=function(){C&&d.cancel(C)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(E(),D(a)):B(a):(q(i,!1),E(),z()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[v.itemName]=a,b=v.viewMapper(i,d),d[v.itemName]=void 0,c=v.viewMapper(i,d),b!==c?b:a)}),w.select=function(a){var b,c,e={};e[v.itemName]=c=w.matches[a].model,b=v.modelMapper(i,e),u(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:v.viewMapper(i,e)}),z(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==w.matches.length&&-1!==h.indexOf(a.which)&&(a.preventDefault(),40===a.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===a.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===a.which||9===a.which?w.$apply(function(){w.select(w.activeIdx)}):27===a.which&&(a.stopPropagation(),z(),w.$digest()))}),j.bind("blur",function(){m=!1});var F=function(a){j[0]!==a.target&&(z(),w.$digest())};e.bind("click",F),i.$on("$destroy",function(){e.unbind("click",F)});var G=a(y)(w);t?e.find("body").append(G):j.after(G)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}});angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});{c[0].offsetWidth}c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(a,b,c){function d(){e();var c=+a.interval;!isNaN(c)&&c>=0&&(g=b(f,c))}function e(){g&&(b.cancel(g),g=null)}function f(){h?(a.next(),d()):a.pause()}var g,h,i=this,j=i.slides=a.slides=[],k=-1;i.currentSlide=null;var l=!1;i.select=a.select=function(e,f){function g(){if(!l){if(i.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element){e.$element.addClass(f);{e.$element[0].offsetWidth}angular.forEach(j,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(i.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(e,i.currentSlide)}else h(e,i.currentSlide);i.currentSlide=e,k=m,d()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var m=j.indexOf(e);void 0===f&&(f=m>k?"next":"prev"),e&&e!==i.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){l=!0}),i.indexOfSlide=function(a){return j.indexOf(a)},a.next=function(){var b=(k+1)%j.length;return a.$currentTransition?void 0:i.select(j[b],"next")},a.prev=function(){var b=0>k-1?j.length-1:k-1;return a.$currentTransition?void 0:i.select(j[b],"prev")},a.isActive=function(a){return i.currentSlide===a},a.$watch("interval",d),a.$on("$destroy",e),a.play=function(){h||(h=!0,d())},a.pause=function(){a.noPause||(h=!1,e())},i.addSlide=function(b,c){b.$element=c,j.push(b),1===j.length||b.active?(i.select(j[j.length-1]),1==j.length&&a.play()):b.active=!1},i.removeSlide=function(a){var b=j.indexOf(a);j.splice(b,1),j.length>0&&a.active?i.select(b>=j.length?j[b-1]:j[b]):k>b&&k--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}this.parsers={};var e={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;m>l;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if("left"===a)b-=1;else if("up"===a)b-=7;else if("right"===a)b+=1;else if("down"===a)b+=7;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else"home"===a?b=1:"end"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;12>f;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if("left"===a)b-=1;else if("up"===a)b-=3;else if("right"===a)b+=1;else if("down"===a)b+=3;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(c)}else"home"===a?b=0:"end"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());f>c;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();"left"===a?b-=1:"up"===a?b-=5:"right"===a?b+=1:"down"===a?b+=5:"pageup"===a||"pagedown"===a?b+=("pageup"===a?-1:1)*d.step.years:"home"===a?b=e(d.activeDate.getFullYear()):"end"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]},j.$observe("datepickerPopup",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");q.attr({"ng-model":"date","ng-change":"dateSelection()"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(a){if(j[a]){var c=b(j[a]);
if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind("input change keyup",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):"";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a){h.keydown(a)};i.bind("keydown",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",s)):c.unbind("click",s)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find("body").append(u):i.after(u),h.$on("$destroy",function(){u.remove(),i.unbind("keydown",t),c.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(a){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch("isOpen",function(b,c){f[b?"addClass":"removeClass"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){i.isOpen=!1}),a.$on("$destroy",function(){i.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b,c,d){b.backdropClass=d.backdropClass||"",b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll("[autofocus]").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(m,n.length()>0),i()})}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m="modal-open",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=n.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){o.dismiss(b.key,"escape key press")})))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element("<div modal-backdrop></div>");i.attr("backdrop-class",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element("<div modal-window></div>");j.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:n.length()-1,animate:"animate"}).html(b.content);var o=d(j)(b.scope);n.top().value.modalDomEl=o,f.append(o),f.addClass(m)},o.close=function(a,b){var c=n.get(a);c&&(c.value.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a);c&&(c.value.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<div "+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var a=f(s);return function(b,c,d){function f(){b.tt_isOpen?m():k()}function k(){(!y||b.$eval(d[l+"Enable"]))&&(b.tt_popupDelay?v||(v=g(p,b.tt_popupDelay,!1),v.then(function(a){a()})):p()())}function m(){b.$apply(function(){q()})}function p(){return v=null,u&&(g.cancel(u),u=null),b.tt_content?(r(),t.css({top:0,left:0,display:"block"}),w?i.find("body").append(t):c.after(t),z(),b.tt_isOpen=!0,b.$digest(),z):angular.noop}function q(){b.tt_isOpen=!1,g.cancel(v),v=null,b.tt_animation?u||(u=g(s,500)):s()}function r(){t&&s(),t=a(b,function(){}),b.$digest()}function s(){u=null,t&&(t.remove(),t=null)}var t,u,v,w=angular.isDefined(o.appendToBody)?o.appendToBody:!1,x=n(void 0),y=angular.isDefined(d[l+"Enable"]),z=function(){var a=j.positionElements(c,t,b.tt_placement,w);a.top+="px",a.left+="px",t.css(a)};b.tt_isOpen=!1,d.$observe(e,function(a){b.tt_content=a,!a&&b.tt_isOpen&&q()}),d.$observe(l+"Title",function(a){b.tt_title=a}),d.$observe(l+"Placement",function(a){b.tt_placement=angular.isDefined(a)?a:o.placement}),d.$observe(l+"PopupDelay",function(a){var c=parseInt(a,10);b.tt_popupDelay=isNaN(c)?o.popupDelay:c});var A=function(){c.unbind(x.show,k),c.unbind(x.hide,m)};d.$observe(l+"Trigger",function(a){A(),x=n(a),x.show===x.hide?c.bind(x.show,f):(c.bind(x.show,k),c.bind(x.hide,m))});var B=b.$eval(d[l+"Animation"]);b.tt_animation=angular.isDefined(B)?!!B:o.animation,d.$observe(l+"AppendToBody",function(a){w=angular.isDefined(a)?h(a)(b):w}),w&&b.$on("$locationChangeSuccess",function(){b.tt_isOpen&&q()}),b.$on("$destroy",function(){g.cancel(u),g.cancel(v),A(),s()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),a.minutes="m"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?i.$eval(k.typeaheadAppendToBody):!1,u=b(k.ngModel).assign,v=g.parse(k.typeahead),w=i.$new();i.$on("$destroy",function(){w.$destroy()});var x="typeahead-"+w.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":x});var y=angular.element("<div typeahead-popup></div>");y.attr({id:x,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&y.attr("template-url",k.typeaheadTemplateUrl);var z=function(){w.matches=[],w.activeIdx=-1,j.attr("aria-expanded",!1)},A=function(a){return x+"-option-"+a};w.$watch("activeIdx",function(a){0>a?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",A(a))});var B=function(a){var b={$viewValue:a};q(i,!0),c.when(v.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){w.activeIdx=0,w.matches.length=0;for(var e=0;e<c.length;e++)b[v.itemName]=c[e],w.matches.push({id:A(e),label:v.viewMapper(w,b),model:c[e]});w.query=a,w.position=t?f.offset(j):f.position(j),w.position.top=w.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else z();d&&q(i,!1)},function(){z(),q(i,!1)})};z(),w.query=void 0;var C,D=function(a){C=d(function(){B(a)},o)},E=function(){C&&d.cancel(C)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(E(),D(a)):B(a):(q(i,!1),E(),z()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[v.itemName]=a,b=v.viewMapper(i,d),d[v.itemName]=void 0,c=v.viewMapper(i,d),b!==c?b:a)}),w.select=function(a){var b,c,e={};e[v.itemName]=c=w.matches[a].model,b=v.modelMapper(i,e),u(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:v.viewMapper(i,e)}),z(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==w.matches.length&&-1!==h.indexOf(a.which)&&(a.preventDefault(),40===a.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===a.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===a.which||9===a.which?w.$apply(function(){w.select(w.activeIdx)}):27===a.which&&(a.stopPropagation(),z(),w.$digest()))}),j.bind("blur",function(){m=!1});var F=function(a){j[0]!==a.target&&(z(),w.$digest())};e.bind("click",F),i.$on("$destroy",function(){e.unbind("click",F)});var G=a(y)(w);t?e.find("body").append(G):j.after(G)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]);(function(){function a(a,b,c){c=(c||0)-1;for(var d=a?a.length:0;++c<d;)if(a[c]===b)return c;return-1}function b(b,c){var d=typeof c;if(b=b.l,"boolean"==d||null==c)return b[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:r+c;return b=(b=b[d])&&b[e],"object"==d?b&&-1<a(b,c)?0:-1:b?0:-1}function c(a){var b=this.l,c=typeof a;if("boolean"==c||null==a)b[a]=true;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:r+a,b=b[c]||(b[c]={});"object"==c?(b[d]||(b[d]=[])).push(a):b[d]=true}}function d(a){return a.charCodeAt(0)}function e(a,b){for(var c=a.m,d=b.m,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||typeof g=="undefined")return 1;if(g<h||typeof h=="undefined")return-1}}return a.n-b.n}function f(a){var b=-1,d=a.length,e=a[0],f=a[d/2|0],g=a[d-1];if(e&&typeof e=="object"&&f&&typeof f=="object"&&g&&typeof g=="object")return false;for(e=i(),e["false"]=e["null"]=e["true"]=e.undefined=false,f=i(),f.k=a,f.l=e,f.push=c;++b<d;)f.push(a[b]);return f}function g(a){return"\\"+U[a]}function h(){return o.pop()||[]}function i(){return p.pop()||{k:null,l:null,m:null,"false":false,n:0,"null":false,number:null,object:null,push:null,string:null,"true":false,undefined:false,o:null}}function j(a){a.length=0,o.length<t&&o.push(a)}function k(a){var b=a.l;b&&k(b),a.k=a.l=a.m=a.object=a.number=a.string=a.o=null,p.length<t&&p.push(a)}function l(a,b,c){b||(b=0),typeof c=="undefined"&&(c=a?a.length:0);var d=-1;c=c-b||0;for(var e=Array(0>c?0:c);++d<c;)e[d]=a[b+d];return e}function m(c){function o(a,b,c){if(!a||!T[typeof a])return a;b=b&&typeof c=="undefined"?b:bb(b,c,3);for(var d=-1,e=T[typeof a]&&Kc(a),f=e?e.length:0;++d<f&&(c=e[d],false!==b(a[c],c,a)););return a}function p(a,b,c){var d;if(!a||!T[typeof a])return a;b=b&&typeof c=="undefined"?b:bb(b,c,3);for(d in a)if(false===b(a[d],d,a))break;return a}function t(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i=typeof c=="number"?2:g.length;++h<i;)if((e=g[h])&&T[typeof e])for(var j=-1,k=T[typeof e]&&Kc(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f}function U(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i=typeof c=="number"?2:g.length;if(3<i&&"function"==typeof g[i-2])var j=bb(g[--i-1],g[i--],2);else 2<i&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if((e=g[h])&&T[typeof e])for(var k=-1,l=T[typeof e]&&Kc(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f}function W(a){var b,c=[];if(!a||!T[typeof a])return c;for(b in a)rc.call(a,b)&&c.push(b);return c}function X(a){return a&&typeof a=="object"&&!Jc(a)&&rc.call(a,"__wrapped__")?a:new Y(a)}function Y(a,b){this.__chain__=!!b,this.__wrapped__=a}function Z(a){function b(){if(d){var a=l(d);sc.apply(a,arguments)}if(this instanceof b){var f=ab(c.prototype),a=c.apply(f,a||arguments);return vb(a)?a:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return Ic(b,a),b}function _(a,b,c,d,e){if(c){var f=c(a);if(typeof f!="undefined")return f}if(!vb(a))return a;var g=kc.call(a);if(!Q[g])return a;var i=Gc[g];switch(g){case J:case K:return new i(+a);case M:case P:return new i(a);case O:return f=i(a.source,z.exec(a)),f.lastIndex=a.lastIndex,f}if(g=Jc(a),b){var k=!d;d||(d=h()),e||(e=h());for(var m=d.length;m--;)if(d[m]==a)return e[m];f=g?i(a.length):{}}else f=g?l(a):U({},a);return g&&(rc.call(a,"index")&&(f.index=a.index),rc.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(g?Db:o)(a,function(a,g){f[g]=_(a,b,c,d,e)}),k&&(j(d),j(e)),f):f}function ab(a){return vb(a)?xc(a):{}}function bb(a,b,c){if(typeof a!="function")return Ub;if(typeof b=="undefined"||!("prototype"in a))return a;var d=a.__bindData__;if(typeof d=="undefined"&&(Hc.funcNames&&(d=!a.name),d=d||!Hc.funcDecomp,!d)){var e=pc.call(a);Hc.funcNames||(d=!A.test(e)),d||(d=E.test(e),Ic(a,d))}if(false===d||true!==d&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Sb(a,b)}function cb(a){function b(){var a=i?g:this;if(e){var o=l(e);sc.apply(o,arguments)}return(f||k)&&(o||(o=l(arguments)),f&&sc.apply(o,f),k&&o.length<h)?(d|=16,cb([c,m?d:-4&d,o,null,g,h])):(o||(o=arguments),j&&(c=a[n]),this instanceof b?(a=ab(c.prototype),o=c.apply(a,o),vb(o)?o:a):c.apply(a,o))}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,m=8&d,n=c;return Ic(b,a),b}function db(c,d){var e=-1,g=mb(),h=c?c.length:0,i=h>=s&&g===a,j=[];if(i){var l=f(d);l?(g=b,d=l):i=false}for(;++e<h;)l=c[e],0>g(d,l)&&j.push(l);return i&&k(d),j}function eb(a,b,c,d){d=(d||0)-1;for(var e=a?a.length:0,f=[];++d<e;){var g=a[d];if(g&&typeof g=="object"&&typeof g.length=="number"&&(Jc(g)||qb(g))){b||(g=eb(g,b,c));var h=-1,i=g.length,j=f.length;for(f.length+=i;++h<i;)f[j++]=g[h]}else c||f.push(g)}return f}function fb(a,b,c,d,e,f){if(c){var g=c(a,b);if(typeof g!="undefined")return!!g}if(a===b)return 0!==a||1/a==1/b;if(a===a&&!(a&&T[typeof a]||b&&T[typeof b]))return false;if(null==a||null==b)return a===b;var i=kc.call(a),k=kc.call(b);if(i==H&&(i=N),k==H&&(k=N),i!=k)return false;switch(i){case J:case K:return+a==+b;case M:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case O:case P:return a==fc(b)}if(k=i==I,!k){var l=rc.call(a,"__wrapped__"),m=rc.call(b,"__wrapped__");if(l||m)return fb(l?a.__wrapped__:a,m?b.__wrapped__:b,c,d,e,f);if(i!=N)return false;if(i=a.constructor,l=b.constructor,i!=l&&!(ub(i)&&i instanceof i&&ub(l)&&l instanceof l)&&"constructor"in a&&"constructor"in b)return false}for(i=!e,e||(e=h()),f||(f=h()),l=e.length;l--;)if(e[l]==a)return f[l]==b;var n=0,g=true;if(e.push(a),f.push(b),k){if(l=a.length,n=b.length,(g=n==l)||d)for(;n--;)if(k=l,m=b[n],d)for(;k--&&!(g=fb(a[k],m,c,d,e,f)););else if(!(g=fb(a[n],m,c,d,e,f)))break}else p(b,function(b,h,i){return rc.call(i,h)?(n++,g=rc.call(a,h)&&fb(a[h],b,c,d,e,f)):void 0}),g&&!d&&p(a,function(a,b,c){return rc.call(c,b)?g=-1<--n:void 0});return e.pop(),f.pop(),i&&(j(e),j(f)),g}function gb(a,b,c,d,e){(Jc(b)?Db:o)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=Jc(b))||Pc(b))){for(i=d.length;i--;)if(g=d[i]==b){j=e[i];break}if(!g){var k;c&&(i=c(j,b),k=typeof i!="undefined")&&(j=i),k||(j=h?Jc(j)?j:[]:Pc(j)?j:{}),d.push(b),e.push(j),k||gb(j,b,c,d,e)}}else c&&(i=c(j,b),typeof i=="undefined"&&(i=b)),typeof i!="undefined"&&(j=i);a[f]=j})}function hb(a,b){return a+oc(Fc()*(b-a+1))}function ib(c,d,e){var g=-1,i=mb(),l=c?c.length:0,m=[],n=!d&&l>=s&&i===a,o=e||n?h():m;for(n&&(o=f(o),i=b);++g<l;){var p=c[g],q=e?e(p,g,c):p;(d?!g||o[o.length-1]!==q:0>i(o,q))&&((e||n)&&o.push(q),m.push(p))}return n?(j(o.k),k(o)):e&&j(o),m}function jb(a){return function(b,c,d){var e={};c=X.createCallback(c,d,3),d=-1;var f=b?b.length:0;if(typeof f=="number")for(;++d<f;){var g=b[d];a(e,g,c(g,d,b),b)}else o(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function kb(a,b,c,d,e,f){var g=1&b,h=4&b,i=16&b,j=32&b;if(!(2&b||ub(a)))throw new gc;i&&!c.length&&(b&=-17,i=c=false),j&&!d.length&&(b&=-33,j=d=false);var k=a&&a.__bindData__;return k&&true!==k?(k=l(k),k[2]&&(k[2]=l(k[2])),k[3]&&(k[3]=l(k[3])),!g||1&k[1]||(k[4]=e),!g&&1&k[1]&&(b|=8),!h||4&k[1]||(k[5]=f),i&&sc.apply(k[2]||(k[2]=[]),c),j&&vc.apply(k[3]||(k[3]=[]),d),k[1]|=b,kb.apply(null,k)):(1==b||17===b?Z:cb)([a,b,c,d,e,f])}function lb(a){return Lc[a]}function mb(){var b=(b=X.indexOf)===Mb?a:b;return b}function nb(a){return typeof a=="function"&&lc.test(a)}function ob(a){var b,c;return a&&kc.call(a)==N&&(b=a.constructor,!ub(b)||b instanceof b)?(p(a,function(a,b){c=b}),typeof c=="undefined"||rc.call(a,c)):false}function pb(a){return Mc[a]}function qb(a){return a&&typeof a=="object"&&typeof a.length=="number"&&kc.call(a)==H||false}function rb(a,b,c){var d=Kc(a),e=d.length;for(b=bb(b,c,3);e--&&(c=d[e],false!==b(a[c],c,a)););return a}function sb(a){var b=[];return p(a,function(a,c){ub(a)&&b.push(c)}),b.sort()}function tb(a){for(var b=-1,c=Kc(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function ub(a){return typeof a=="function"}function vb(a){return!(!a||!T[typeof a])}function wb(a){return typeof a=="number"||a&&typeof a=="object"&&kc.call(a)==M||false}function xb(a){return typeof a=="string"||a&&typeof a=="object"&&kc.call(a)==P||false}function yb(a){for(var b=-1,c=Kc(a),d=c.length,e=Zb(d);++b<d;)e[b]=a[c[b]];return e}function zb(a,b,c){var d=-1,e=mb(),f=a?a.length:0,g=false;return c=(0>c?Cc(0,f+c):c)||0,Jc(a)?g=-1<e(a,b,c):typeof f=="number"?g=-1<(xb(a)?a.indexOf(b,c):e(a,b,c)):o(a,function(a){return++d<c?void 0:!(g=a===b)}),g}function Ab(a,b,c){var d=true;b=X.createCallback(b,c,3),c=-1;var e=a?a.length:0;if(typeof e=="number")for(;++c<e&&(d=!!b(a[c],c,a)););else o(a,function(a,c,e){return d=!!b(a,c,e)});return d}function Bb(a,b,c){var d=[];b=X.createCallback(b,c,3),c=-1;var e=a?a.length:0;if(typeof e=="number")for(;++c<e;){var f=a[c];b(f,c,a)&&d.push(f)}else o(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function Cb(a,b,c){b=X.createCallback(b,c,3),c=-1;var d=a?a.length:0;if(typeof d!="number"){var e;return o(a,function(a,c,d){return b(a,c,d)?(e=a,false):void 0}),e}for(;++c<d;){var f=a[c];if(b(f,c,a))return f}}function Db(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&typeof c=="undefined"?b:bb(b,c,3),typeof e=="number")for(;++d<e&&false!==b(a[d],d,a););else o(a,b);return a}function Eb(a,b,c){var d=a?a.length:0;if(b=b&&typeof c=="undefined"?b:bb(b,c,3),typeof d=="number")for(;d--&&false!==b(a[d],d,a););else{var e=Kc(a),d=e.length;o(a,function(a,c,f){return c=e?e[--d]:--d,b(f[c],c,f)})}return a}function Fb(a,b,c){var d=-1,e=a?a.length:0;if(b=X.createCallback(b,c,3),typeof e=="number")for(var f=Zb(e);++d<e;)f[d]=b(a[d],d,a);else f=[],o(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function Gb(a,b,c){var e=-1/0,f=e;if(typeof b!="function"&&c&&c[b]===a&&(b=null),null==b&&Jc(a)){c=-1;for(var g=a.length;++c<g;){var h=a[c];h>f&&(f=h)}}else b=null==b&&xb(a)?d:X.createCallback(b,c,3),Db(a,function(a,c,d){c=b(a,c,d),c>e&&(e=c,f=a)});return f}function Hb(a,b,c,d){if(!a)return c;var e=3>arguments.length;b=X.createCallback(b,d,4);var f=-1,g=a.length;if(typeof g=="number")for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else o(a,function(a,d,f){c=e?(e=false,a):b(c,a,d,f)});return c}function Ib(a,b,c,d){var e=3>arguments.length;return b=X.createCallback(b,d,4),Eb(a,function(a,d,f){c=e?(e=false,a):b(c,a,d,f)}),c}function Jb(a){var b=-1,c=a?a.length:0,d=Zb(typeof c=="number"?c:0);return Db(a,function(a){var c=hb(0,++b);d[b]=d[c],d[c]=a}),d}function Kb(a,b,c){var d;b=X.createCallback(b,c,3),c=-1;var e=a?a.length:0;if(typeof e=="number")for(;++c<e&&!(d=b(a[c],c,a)););else o(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function Lb(a,b,c){var d=0,e=a?a.length:0;if(typeof b!="number"&&null!=b){var f=-1;for(b=X.createCallback(b,c,3);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[0]:n;return l(a,0,Dc(Cc(0,d),e))}function Mb(b,c,d){if(typeof d=="number"){var e=b?b.length:0;d=0>d?Cc(0,e+d):d||0}else if(d)return d=Ob(b,c),b[d]===c?d:-1;return a(b,c,d)}function Nb(a,b,c){if(typeof b!="number"&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=X.createCallback(b,c,3);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:Cc(0,b);return l(a,d)}function Ob(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?X.createCallback(c,d,1):Ub,b=c(b);e<f;)d=e+f>>>1,c(a[d])<b?e=d+1:f=d;return e}function Pb(a,b,c,d){return typeof b!="boolean"&&null!=b&&(d=c,c=typeof b!="function"&&d&&d[b]===a?null:b,b=false),null!=c&&(c=X.createCallback(c,d,3)),ib(a,b,c)}function Qb(){for(var a=1<arguments.length?arguments:arguments[0],b=-1,c=a?Gb(Tc(a,"length")):0,d=Zb(0>c?0:c);++b<c;)d[b]=Tc(a,b);return d}function Rb(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Jc(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Sb(a,b){return 2<arguments.length?kb(a,17,l(arguments,2),null,b):kb(a,1,null,null,b)}function Tb(a,b,c){function d(){k&&nc(k),g=k=l=n,(p||o!==b)&&(m=Uc(),h=a.apply(j,f),k||g||(f=j=null))}function e(){var c=b-(Uc()-i);0<c?k=tc(e,c):(g&&nc(g),c=l,g=k=l=n,c&&(m=Uc(),h=a.apply(j,f),k||g||(f=j=null)))}var f,g,h,i,j,k,l,m=0,o=false,p=true;if(!ub(a))throw new gc;if(b=Cc(0,b)||0,true===c)var q=true,p=false;else vb(c)&&(q=c.leading,o="maxWait"in c&&(Cc(b,c.maxWait)||0),p="trailing"in c?c.trailing:p);return function(){if(f=arguments,i=Uc(),j=this,l=p&&(k||!q),false===o)var c=q&&!k;else{g||q||(m=i);var n=o-(i-m),r=0>=n;r?(g&&(g=nc(g)),m=i,h=a.apply(j,f)):g||(g=tc(d,n))}return r&&k?k=nc(k):k||b===o||(k=tc(e,b)),c&&(r=true,h=a.apply(j,f)),!r||k||g||(f=j=null),h}}function Ub(a){return a}function Vb(a,b,c){var d=true,e=b&&sb(b);b&&(c||e.length)||(null==c&&(c=b),f=Y,b=a,a=X,e=sb(b)),false===c?d=false:vb(c)&&"chain"in c&&(d=c.chain);var f=a,g=ub(f);Db(e,function(c){var e=a[c]=b[c];g&&(f.prototype[c]=function(){var b=this.__chain__,c=this.__wrapped__,g=[c];if(sc.apply(g,arguments),g=e.apply(a,g),d||b){if(c===g&&vb(g))return this;g=new f(g),g.__chain__=b}return g})})}function Wb(){}function Xb(a){return function(b){return b[a]}}function Yb(){return this.__wrapped__}c=c?$.defaults(V.Object(),c,$.pick(V,G)):V;var Zb=c.Array,$b=c.Boolean,_b=c.Date,ac=c.Function,bc=c.Math,cc=c.Number,dc=c.Object,ec=c.RegExp,fc=c.String,gc=c.TypeError,hc=[],ic=dc.prototype,jc=c._,kc=ic.toString,lc=ec("^"+fc(kc).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),mc=bc.ceil,nc=c.clearTimeout,oc=bc.floor,pc=ac.prototype.toString,qc=nb(qc=dc.getPrototypeOf)&&qc,rc=ic.hasOwnProperty,sc=hc.push,tc=c.setTimeout,uc=hc.splice,vc=hc.unshift,wc=function(){try{var a={},b=nb(b=dc.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),xc=nb(xc=dc.create)&&xc,yc=nb(yc=Zb.isArray)&&yc,zc=c.isFinite,Ac=c.isNaN,Bc=nb(Bc=dc.keys)&&Bc,Cc=bc.max,Dc=bc.min,Ec=c.parseInt,Fc=bc.random,Gc={};Gc[I]=Zb,Gc[J]=$b,Gc[K]=_b,Gc[L]=ac,Gc[N]=dc,Gc[M]=cc,Gc[O]=ec,Gc[P]=fc,Y.prototype=X.prototype;var Hc=X.support={};Hc.funcDecomp=!nb(c.a)&&E.test(m),Hc.funcNames=typeof ac.name=="string",X.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:B,variable:"",imports:{_:X}},xc||(ab=function(){function a(){}return function(b){if(vb(b)){a.prototype=b;var d=new a;a.prototype=null}return d||c.Object()}}());var Ic=wc?function(a,b){S.value=b,wc(a,"__bindData__",S)}:Wb,Jc=yc||function(a){return a&&typeof a=="object"&&typeof a.length=="number"&&kc.call(a)==I||false},Kc=Bc?function(a){return vb(a)?Bc(a):[]}:W,Lc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mc=tb(Lc),Nc=ec("("+Kc(Mc).join("|")+")","g"),Oc=ec("["+Kc(Lc).join("")+"]","g"),Pc=qc?function(a){if(!a||kc.call(a)!=N)return false;var b=a.valueOf,c=nb(b)&&(c=qc(b))&&qc(c);return c?a==c||qc(a)==c:ob(a)}:ob,Qc=jb(function(a,b,c){rc.call(a,c)?a[c]++:a[c]=1}),Rc=jb(function(a,b,c){(rc.call(a,c)?a[c]:a[c]=[]).push(b)}),Sc=jb(function(a,b,c){a[c]=b}),Tc=Fb,Uc=nb(Uc=_b.now)&&Uc||function(){return(new _b).getTime()},Vc=8==Ec(u+"08")?Ec:function(a,b){return Ec(xb(a)?a.replace(C,""):a,b||0)};return X.after=function(a,b){if(!ub(b))throw new gc;return function(){return 1>--a?b.apply(this,arguments):void 0}},X.assign=U,X.at=function(a){for(var b=arguments,c=-1,d=eb(b,true,false,1),b=b[2]&&b[2][b[1]]===a?1:d.length,e=Zb(b);++c<b;)e[c]=a[d[c]];return e},X.bind=Sb,X.bindAll=function(a){for(var b=1<arguments.length?eb(arguments,true,false,1):sb(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=kb(a[e],1,null,null,a)}return a},X.bindKey=function(a,b){return 2<arguments.length?kb(b,19,l(arguments,2),null,a):kb(b,3,null,null,a)},X.chain=function(a){return a=new Y(a),a.__chain__=true,a},X.compact=function(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d},X.compose=function(){for(var a=arguments,b=a.length;b--;)if(!ub(a[b]))throw new gc;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}},X.constant=function(a){return function(){return a}},X.countBy=Qc,X.create=function(a,b){var c=ab(a);return b?U(c,b):c},X.createCallback=function(a,b,c){var d=typeof a;if(null==a||"function"==d)return bb(a,b,c);if("object"!=d)return Xb(a);var e=Kc(a),f=e[0],g=a[f];return 1!=e.length||g!==g||vb(g)?function(b){for(var c=e.length,d=false;c--&&(d=fb(b[e[c]],a[e[c]],null,true)););return d}:function(a){return a=a[f],g===a&&(0!==g||1/g==1/a)}},X.curry=function(a,b){return b=typeof b=="number"?b:+b||a.length,kb(a,4,null,null,null,b)},X.debounce=Tb,X.defaults=t,X.defer=function(a){if(!ub(a))throw new gc;var b=l(arguments,1);return tc(function(){a.apply(n,b)},1)},X.delay=function(a,b){if(!ub(a))throw new gc;var c=l(arguments,2);return tc(function(){a.apply(n,c)},b)},X.difference=function(a){return db(a,eb(arguments,true,true,1))},X.filter=Bb,X.flatten=function(a,b,c,d){return typeof b!="boolean"&&null!=b&&(d=c,c=typeof b!="function"&&d&&d[b]===a?null:b,b=false),null!=c&&(a=Fb(a,c,d)),eb(a,b)},X.forEach=Db,X.forEachRight=Eb,X.forIn=p,X.forInRight=function(a,b,c){var d=[];p(a,function(a,b){d.push(b,a)});var e=d.length;for(b=bb(b,c,3);e--&&false!==b(d[e--],d[e],a););return a},X.forOwn=o,X.forOwnRight=rb,X.functions=sb,X.groupBy=Rc,X.indexBy=Sc,X.initial=function(a,b,c){var d=0,e=a?a.length:0;if(typeof b!="number"&&null!=b){var f=e;for(b=X.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return l(a,0,Dc(Cc(0,e-d),e))},X.intersection=function(){for(var c=[],d=-1,e=arguments.length,g=h(),i=mb(),l=i===a,m=h();++d<e;){var n=arguments[d];(Jc(n)||qb(n))&&(c.push(n),g.push(l&&n.length>=s&&f(d?c[d]:m)))}var l=c[0],o=-1,p=l?l.length:0,q=[];a:for(;++o<p;){var r=g[0],n=l[o];if(0>(r?b(r,n):i(m,n))){for(d=e,(r||m).push(n);--d;)if(r=g[d],0>(r?b(r,n):i(c[d],n)))continue a;q.push(n)}}for(;e--;)(r=g[e])&&k(r);return j(g),j(m),q},X.invert=tb,X.invoke=function(a,b){var c=l(arguments,2),d=-1,e=typeof b=="function",f=a?a.length:0,g=Zb(typeof f=="number"?f:0);return Db(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g},X.keys=Kc,X.map=Fb,X.mapValues=function(a,b,c){var d={};return b=X.createCallback(b,c,3),o(a,function(a,c,e){d[c]=b(a,c,e)}),d},X.max=Gb,X.memoize=function(a,b){function c(){var d=c.cache,e=b?b.apply(this,arguments):r+arguments[0];return rc.call(d,e)?d[e]:d[e]=a.apply(this,arguments)}if(!ub(a))throw new gc;return c.cache={},c},X.merge=function(a){var b=arguments,c=2;if(!vb(a))return a;if("number"!=typeof b[2]&&(c=b.length),3<c&&"function"==typeof b[c-2])var d=bb(b[--c-1],b[c--],2);else 2<c&&"function"==typeof b[c-1]&&(d=b[--c]);for(var b=l(arguments,1,c),e=-1,f=h(),g=h();++e<c;)gb(a,b[e],d,f,g);return j(f),j(g),a},X.min=function(a,b,c){var e=1/0,f=e;if(typeof b!="function"&&c&&c[b]===a&&(b=null),null==b&&Jc(a)){c=-1;for(var g=a.length;++c<g;){var h=a[c];h<f&&(f=h)}}else b=null==b&&xb(a)?d:X.createCallback(b,c,3),Db(a,function(a,c,d){c=b(a,c,d),c<e&&(e=c,f=a)});return f},X.omit=function(a,b,c){var d={};if(typeof b!="function"){var e=[];p(a,function(a,b){e.push(b)});for(var e=db(e,eb(arguments,true,false,1)),f=-1,g=e.length;++f<g;){var h=e[f];d[h]=a[h]}}else b=X.createCallback(b,c,3),p(a,function(a,c,e){b(a,c,e)||(d[c]=a)});return d},X.once=function(a){var b,c;if(!ub(a))throw new gc;return function(){return b?c:(b=true,c=a.apply(this,arguments),a=null,c)}},X.pairs=function(a){for(var b=-1,c=Kc(a),d=c.length,e=Zb(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e},X.partial=function(a){return kb(a,16,l(arguments,1))},X.partialRight=function(a){return kb(a,32,null,l(arguments,1))},X.pick=function(a,b,c){var d={};if(typeof b!="function")for(var e=-1,f=eb(arguments,true,false,1),g=vb(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=X.createCallback(b,c,3),p(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d},X.pluck=Tc,X.property=Xb,X.pull=function(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(uc.call(a,f--,1),e--);return a},X.range=function(a,b,c){a=+a||0,c=typeof c=="number"?c:+c||1,null==b&&(b=a,a=0);var d=-1;b=Cc(0,mc((b-a)/(c||1)));for(var e=Zb(b);++d<b;)e[d]=a,a+=c;return e},X.reject=function(a,b,c){return b=X.createCallback(b,c,3),Bb(a,function(a,c,d){return!b(a,c,d)})},X.remove=function(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=X.createCallback(b,c,3);++d<e;)c=a[d],b(c,d,a)&&(f.push(c),uc.call(a,d--,1),e--);return f},X.rest=Nb,X.shuffle=Jb,X.sortBy=function(a,b,c){var d=-1,f=Jc(b),g=a?a.length:0,l=Zb(typeof g=="number"?g:0);for(f||(b=X.createCallback(b,c,3)),Db(a,function(a,c,e){var g=l[++d]=i();f?g.m=Fb(b,function(b){return a[b]}):(g.m=h())[0]=b(a,c,e),g.n=d,g.o=a}),g=l.length,l.sort(e);g--;)a=l[g],l[g]=a.o,f||j(a.m),k(a);return l},X.tap=function(a,b){return b(a),a},X.throttle=function(a,b,c){var d=true,e=true;if(!ub(a))throw new gc;return false===c?d=false:vb(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),R.leading=d,R.maxWait=b,R.trailing=e,Tb(a,b,R)},X.times=function(a,b,c){a=-1<(a=+a)?a:0;var d=-1,e=Zb(a);for(b=bb(b,c,1);++d<a;)e[d]=b(d);return e},X.toArray=function(a){return a&&typeof a.length=="number"?l(a):yb(a)},X.transform=function(a,b,c,d){var e=Jc(a);if(null==c)if(e)c=[];else{var f=a&&a.constructor;c=ab(f&&f.prototype)}return b&&(b=X.createCallback(b,d,4),(e?Db:o)(a,function(a,d,e){return b(c,a,d,e)})),c},X.union=function(){return ib(eb(arguments,true,true))},X.uniq=Pb,X.values=yb,X.where=Bb,X.without=function(a){return db(a,l(arguments,1))},X.wrap=function(a,b){return kb(b,16,[a])},X.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Jc(c)||qb(c))var d=d?ib(db(d,c).concat(db(c,d))):c}return d||[]},X.zip=Qb,X.zipObject=Rb,X.collect=Fb,X.drop=Nb,X.each=Db,X.eachRight=Eb,X.extend=U,X.methods=sb,X.object=Rb,X.select=Bb,X.tail=Nb,X.unique=Pb,X.unzip=Qb,Vb(X),X.clone=function(a,b,c,d){return typeof b!="boolean"&&null!=b&&(d=c,c=b,b=false),_(a,b,typeof c=="function"&&bb(c,d,1))},X.cloneDeep=function(a,b,c){return _(a,true,typeof b=="function"&&bb(b,c,1))},X.contains=zb,X.escape=function(a){return null==a?"":fc(a).replace(Oc,lb)},X.every=Ab,X.find=Cb,X.findIndex=function(a,b,c){var d=-1,e=a?a.length:0;for(b=X.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;
return-1},X.findKey=function(a,b,c){var d;return b=X.createCallback(b,c,3),o(a,function(a,c,e){return b(a,c,e)?(d=c,false):void 0}),d},X.findLast=function(a,b,c){var d;return b=X.createCallback(b,c,3),Eb(a,function(a,c,e){return b(a,c,e)?(d=a,false):void 0}),d},X.findLastIndex=function(a,b,c){var d=a?a.length:0;for(b=X.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1},X.findLastKey=function(a,b,c){var d;return b=X.createCallback(b,c,3),rb(a,function(a,c,e){return b(a,c,e)?(d=c,false):void 0}),d},X.has=function(a,b){return a?rc.call(a,b):false},X.identity=Ub,X.indexOf=Mb,X.isArguments=qb,X.isArray=Jc,X.isBoolean=function(a){return true===a||false===a||a&&typeof a=="object"&&kc.call(a)==J||false},X.isDate=function(a){return a&&typeof a=="object"&&kc.call(a)==K||false},X.isElement=function(a){return a&&1===a.nodeType||false},X.isEmpty=function(a){var b=true;if(!a)return b;var c=kc.call(a),d=a.length;return c==I||c==P||c==H||c==N&&typeof d=="number"&&ub(a.splice)?!d:(o(a,function(){return b=false}),b)},X.isEqual=function(a,b,c,d){return fb(a,b,typeof c=="function"&&bb(c,d,2))},X.isFinite=function(a){return zc(a)&&!Ac(parseFloat(a))},X.isFunction=ub,X.isNaN=function(a){return wb(a)&&a!=+a},X.isNull=function(a){return null===a},X.isNumber=wb,X.isObject=vb,X.isPlainObject=Pc,X.isRegExp=function(a){return a&&typeof a=="object"&&kc.call(a)==O||false},X.isString=xb,X.isUndefined=function(a){return typeof a=="undefined"},X.lastIndexOf=function(a,b,c){var d=a?a.length:0;for(typeof c=="number"&&(d=(0>c?Cc(0,d+c):Dc(c,d-1))+1);d--;)if(a[d]===b)return d;return-1},X.mixin=Vb,X.noConflict=function(){return c._=jc,this},X.noop=Wb,X.now=Uc,X.parseInt=Vc,X.random=function(a,b,c){var d=null==a,e=null==b;return null==c&&(typeof a=="boolean"&&e?(c=a,a=1):e||typeof b!="boolean"||(c=b,e=true)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1?(c=Fc(),Dc(a+c*(b-a+parseFloat("1e-"+((c+"").length-1))),b)):hb(a,b)},X.reduce=Hb,X.reduceRight=Ib,X.result=function(a,b){if(a){var c=a[b];return ub(c)?a[b]():c}},X.runInContext=m,X.size=function(a){var b=a?a.length:0;return typeof b=="number"?b:Kc(a).length},X.some=Kb,X.sortedIndex=Ob,X.template=function(a,b,c){var d=X.templateSettings;a=fc(a||""),c=t({},c,d);var e,f=t({},c.imports,d.imports),d=Kc(f),f=yb(f),h=0,i=c.interpolate||D,j="__p+='",i=ec((c.escape||D).source+"|"+i.source+"|"+(i===B?y:D).source+"|"+(c.evaluate||D).source+"|$","g");a.replace(i,function(b,c,d,f,i,k){return d||(d=f),j+=a.slice(h,k).replace(F,g),c&&(j+="'+__e("+c+")+'"),i&&(e=true,j+="';"+i+";\n__p+='"),d&&(j+="'+((__t=("+d+"))==null?'':__t)+'"),h=k+b.length,b}),j+="';",i=c=c.variable,i||(c="obj",j="with("+c+"){"+j+"}"),j=(e?j.replace(v,""):j).replace(w,"$1").replace(x,"$1;"),j="function("+c+"){"+(i?"":c+"||("+c+"={});")+"var __t,__p='',__e=_.escape"+(e?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+j+"return __p}";try{var k=ac(d,"return "+j).apply(n,f)}catch(l){throw l.source=j,l}return b?k(b):(k.source=j,k)},X.unescape=function(a){return null==a?"":fc(a).replace(Nc,pb)},X.uniqueId=function(a){var b=++q;return fc(null==a?"":a)+b},X.all=Ab,X.any=Kb,X.detect=Cb,X.findWhere=Cb,X.foldl=Hb,X.foldr=Ib,X.include=zb,X.inject=Hb,Vb(function(){var a={};return o(X,function(b,c){X.prototype[c]||(a[c]=b)}),a}(),false),X.first=Lb,X.last=function(a,b,c){var d=0,e=a?a.length:0;if(typeof b!="number"&&null!=b){var f=e;for(b=X.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[e-1]:n;return l(a,Cc(0,e-d))},X.sample=function(a,b,c){return a&&typeof a.length!="number"&&(a=yb(a)),null==b||c?a?a[hb(0,a.length-1)]:n:(a=Jb(a),a.length=Dc(Cc(0,b),a.length),a)},X.take=Lb,X.head=Lb,o(X,function(a,b){var c="sample"!==b;X.prototype[b]||(X.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&typeof b=="function")?new Y(f,e):f})}),X.VERSION="2.4.1",X.prototype.chain=function(){return this.__chain__=true,this},X.prototype.toString=function(){return fc(this.__wrapped__)},X.prototype.value=Yb,X.prototype.valueOf=Yb,Db(["join","pop","shift"],function(a){var b=hc[a];X.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new Y(c,a):c}}),Db(["push","reverse","sort","unshift"],function(a){var b=hc[a];X.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Db(["concat","slice","splice"],function(a){var b=hc[a];X.prototype[a]=function(){return new Y(b.apply(this.__wrapped__,arguments),this.__chain__)}}),X}var n,o=[],p=[],q=0,r=+new Date+"",s=75,t=40,u=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",v=/\b__p\+='';/g,w=/\b(__p\+=)''\+/g,x=/(__e\(.*?\)|\b__t\))\+'';/g,y=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,z=/\w*$/,A=/^\s*function[ \n\r\t]+\w/,B=/<%=([\s\S]+?)%>/g,C=RegExp("^["+u+"]*0+(?=.$)"),D=/($^)/,E=/\bthis\b/,F=/['\n\r\t\u2028\u2029\\]/g,G="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),H="[object Arguments]",I="[object Array]",J="[object Boolean]",K="[object Date]",L="[object Function]",M="[object Number]",N="[object Object]",O="[object RegExp]",P="[object String]",Q={};Q[L]=false,Q[H]=Q[I]=Q[J]=Q[K]=Q[M]=Q[N]=Q[O]=Q[P]=true;var R={leading:false,maxWait:0,trailing:false},S={configurable:false,enumerable:false,value:null,writable:false},T={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false},U={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},V=T[typeof window]&&window||this,W=T[typeof exports]&&exports&&!exports.nodeType&&exports,X=T[typeof module]&&module&&!module.nodeType&&module,Y=X&&X.exports===W&&W,Z=T[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(V=Z);var $=m();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(V._=$,define(function(){return $})):W&&X?Y?(X.exports=$)._=$:W._=$:V._=$}).call(this);(function(){function a(a,b,c){c=(c||0)-1;for(var d=a?a.length:0;++c<d;)if(a[c]===b)return c;return-1}function b(a,b){for(var c=a.m,d=b.m,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||typeof g=="undefined")return 1;if(g<h||typeof h=="undefined")return-1}}return a.n-b.n}function c(a){return"\\"+qb[a]}function d(a,b,c){b||(b=0),typeof c=="undefined"&&(c=a?a.length:0);var d=-1;c=c-b||0;for(var e=Array(0>c?0:c);++d<c;)e[d]=a[b+d];return e}function e(a){return a instanceof e?a:new f(a)}function f(a,b){this.__chain__=!!b,this.__wrapped__=a}function g(a){function b(){if(e){var a=d(e);Eb.apply(a,arguments)}if(this instanceof b){var g=h(c.prototype),a=c.apply(g,a||arguments);return B(a)?a:g}return c.apply(f,a||arguments)}var c=a[0],e=a[2],f=a[4];return b}function h(a){return B(a)?Gb(a):{}}function i(a,b,c){if(typeof a!="function")return $;if(typeof b=="undefined"||!("prototype"in a))return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return X(a,b)}function j(a){function b(){var a=l?i:this;if(f){var q=d(f);Eb.apply(q,arguments)}return(g||n)&&(q||(q=d(arguments)),g&&Eb.apply(q,g),n&&q.length<k)?(e|=16,j([c,o?e:-4&e,q,null,i,k])):(q||(q=arguments),m&&(c=a[p]),this instanceof b?(a=h(c.prototype),q=c.apply(a,q),B(q)?q:a):c.apply(a,q))}var c=a[0],e=a[1],f=a[2],g=a[3],i=a[4],k=a[5],l=1&e,m=2&e,n=4&e,o=8&e,p=c;return b}function k(a,b){for(var c=-1,d=r(),e=a?a.length:0,f=[];++c<e;){var g=a[c];0>d(b,g)&&f.push(g)}return f}function l(a,b,c,d){d=(d||0)-1;for(var e=a?a.length:0,f=[];++d<e;){var g=a[d];if(g&&typeof g=="object"&&typeof g.length=="number"&&(Pb(g)||u(g))){b||(g=l(g,b,c));var h=-1,i=g.length,j=f.length;for(f.length+=i;++h<i;)f[j++]=g[h]}else c||f.push(g)}return f}function m(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(a===a&&!(a&&pb[typeof a]||b&&pb[typeof b]))return false;if(null==a||null==b)return a===b;var f=zb.call(a),g=zb.call(b);if(f!=g)return false;switch(f){case jb:case kb:return+a==+b;case lb:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case nb:case ob:return a==b+""}if(g=f==ib,!g){var h=a instanceof e,i=b instanceof e;if(h||i)return m(h?a.__wrapped__:a,i?b.__wrapped__:b,c,d);if(f!=mb)return false;if(f=a.constructor,h=b.constructor,f!=h&&!(A(f)&&f instanceof f&&A(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return false}for(c||(c=[]),d||(d=[]),f=c.length;f--;)if(c[f]==a)return d[f]==b;var j=true,k=0;if(c.push(a),d.push(b),g){if(k=b.length,j=k==a.length)for(;k--&&(j=m(a[k],b[k],c,d)););}else Wb(b,function(b,e,f){return Db.call(f,e)?(k++,!(j=Db.call(a,e)&&m(a[e],b,c,d))&&db):void 0}),j&&Wb(a,function(a,b,c){return Db.call(c,b)?!(j=-1<--k)&&db:void 0});return c.pop(),d.pop(),j}function n(a,b,c){for(var d=-1,e=r(),f=a?a.length:0,g=[],h=c?[]:g;++d<f;){var i=a[d],j=c?c(i,d,a):i;(b?!d||h[h.length-1]!==j:0>e(h,j))&&(c&&h.push(j),g.push(i))}return g}function o(a){return function(b,c,d){var e={};c=Z(c,d,3),d=-1;var f=b?b.length:0;if(typeof f=="number")for(;++d<f;){var g=b[d];a(e,g,c(g,d,b),b)}else Xb(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function p(a,b,c,d,e,f){var h=16&b,i=32&b;if(!(2&b||A(a)))throw new TypeError;return h&&!c.length&&(b&=-17,c=false),i&&!d.length&&(b&=-33,d=false),(1==b||17===b?g:j)([a,b,c,d,e,f])}function q(a){return Sb[a]}function r(){var b=(b=e.indexOf)===T?a:b;return b}function s(a){return typeof a=="function"&&Ab.test(a)}function t(a){return Tb[a]}function u(a){return a&&typeof a=="object"&&typeof a.length=="number"&&zb.call(a)==hb||false}function v(a){if(!a)return a;for(var b=1,c=arguments.length;b<c;b++){var d=arguments[b];if(d)for(var e in d)a[e]=d[e]}return a}function w(a){if(!a)return a;for(var b=1,c=arguments.length;b<c;b++){var d=arguments[b];if(d)for(var e in d)"undefined"==typeof a[e]&&(a[e]=d[e])}return a}function x(a){var b=[];return Wb(a,function(a,c){A(a)&&b.push(c)}),b.sort()}function y(a){for(var b=-1,c=Rb(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function z(a){if(!a)return true;if(Pb(a)||D(a))return!a.length;for(var b in a)if(Db.call(a,b))return false;return true}function A(a){return typeof a=="function"}function B(a){return!(!a||!pb[typeof a])}function C(a){return typeof a=="number"||a&&typeof a=="object"&&zb.call(a)==lb||false}function D(a){return typeof a=="string"||a&&typeof a=="object"&&zb.call(a)==ob||false}function E(a){for(var b=-1,c=Rb(a),d=c.length,e=Array(d);++b<d;)e[b]=a[c[b]];return e}function F(a,b){var c=r(),d=a?a.length:0,e=false;return d&&typeof d=="number"?e=-1<c(a,b):Xb(a,function(a){return(e=a===b)&&db}),e}function G(a,b,c){var d=true;b=Z(b,c,3),c=-1;var e=a?a.length:0;if(typeof e=="number")for(;++c<e&&(d=!!b(a[c],c,a)););else Xb(a,function(a,c,e){return!(d=!!b(a,c,e))&&db});return d}function H(a,b,c){var d=[];b=Z(b,c,3),c=-1;var e=a?a.length:0;if(typeof e=="number")for(;++c<e;){var f=a[c];b(f,c,a)&&d.push(f)}else Xb(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function I(a,b,c){b=Z(b,c,3),c=-1;var d=a?a.length:0;if(typeof d!="number"){var e;return Xb(a,function(a,c,d){return b(a,c,d)?(e=a,db):void 0}),e}for(;++c<d;){var f=a[c];if(b(f,c,a))return f}}function J(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&typeof c=="undefined"?b:i(b,c,3),typeof e=="number")for(;++d<e&&b(a[d],d,a)!==db;);else Xb(a,b)}function K(a,b){var c=a?a.length:0;if(typeof c=="number")for(;c--&&false!==b(a[c],c,a););else{var d=Rb(a),c=d.length;Xb(a,function(a,e,f){return e=d?d[--c]:--c,false===b(f[e],e,f)&&db})}}function L(a,b,c){var d=-1,e=a?a.length:0;if(b=Z(b,c,3),typeof e=="number")for(var f=Array(e);++d<e;)f[d]=b(a[d],d,a);else f=[],Xb(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function M(a,b,c){var d=-1/0,e=d;typeof b!="function"&&c&&c[b]===a&&(b=null);var f=-1,g=a?a.length:0;if(null==b&&typeof g=="number")for(;++f<g;)c=a[f],c>e&&(e=c);else b=Z(b,c,3),J(a,function(a,c,f){c=b(a,c,f),c>d&&(d=c,e=a)});return e}function N(a,b,c,d){if(!a)return c;var e=3>arguments.length;b=Z(b,d,4);var f=-1,g=a.length;if(typeof g=="number")for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else Xb(a,function(a,d,f){c=e?(e=false,a):b(c,a,d,f)});return c}function O(a,b,c,d){var e=3>arguments.length;return b=Z(b,d,4),K(a,function(a,d,f){c=e?(e=false,a):b(c,a,d,f)}),c}function P(a){var b=-1,c=a?a.length:0,d=Array(typeof c=="number"?c:0);return J(a,function(a){var c;c=++b,c=0+Cb(Nb()*(c-0+1)),d[b]=d[c],d[c]=a}),d}function Q(a,b,c){var d;b=Z(b,c,3),c=-1;var e=a?a.length:0;if(typeof e=="number")for(;++c<e&&!(d=b(a[c],c,a)););else Xb(a,function(a,c,e){return(d=b(a,c,e))&&db});return!!d}function R(a,b,c){return c&&z(b)?bb:(c?I:H)(a,b)}function S(a,b,c){var e=0,f=a?a.length:0;if(typeof b!="number"&&null!=b){var g=-1;for(b=Z(b,c,3);++g<f&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a?a[0]:bb;return d(a,0,Mb(Lb(0,e),f))}function T(b,c,d){if(typeof d=="number"){var e=b?b.length:0;d=0>d?Lb(0,e+d):d||0}else if(d)return d=V(b,c),b[d]===c?d:-1;return a(b,c,d)}function U(a,b,c){if(typeof b!="number"&&null!=b){var e=0,f=-1,g=a?a.length:0;for(b=Z(b,c,3);++f<g&&b(a[f],f,a);)e++}else e=null==b||c?1:Lb(0,b);return d(a,e)}function V(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?Z(c,d,1):$,b=c(b);e<f;)d=e+f>>>1,c(a[d])<b?e=d+1:f=d;return e}function W(a,b,c,d){return typeof b!="boolean"&&null!=b&&(d=c,c=typeof b!="function"&&d&&d[b]===a?null:b,b=false),null!=c&&(c=Z(c,d,3)),n(a,b,c)}function X(a,b){return 2<arguments.length?p(a,17,d(arguments,2),null,b):p(a,1,null,null,b)}function Y(a,b,c){var d,e,f,g,h,i,j,k=0,l=false,m=true;if(!A(a))throw new TypeError;if(b=Lb(0,b)||0,true===c)var n=true,m=false;else B(c)&&(n=c.leading,l="maxWait"in c&&(Lb(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var o=function(){var c=b-(ac()-g);0<c?i=setTimeout(o,c):(e&&clearTimeout(e),c=j,e=i=j=bb,c&&(k=ac(),f=a.apply(h,d),i||e||(d=h=null)))},p=function(){i&&clearTimeout(i),e=i=j=bb,(m||l!==b)&&(k=ac(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=ac(),h=this,j=m&&(i||!n),false===l)var c=n&&!i;else{e||n||(k=g);var q=l-(g-k),r=0>=q;r?(e&&(e=clearTimeout(e)),k=g,f=a.apply(h,d)):e||(e=setTimeout(p,q))}return r&&i?i=clearTimeout(i):i||b===l||(i=setTimeout(o,b)),c&&(r=true,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Z(a,b,c){var d=typeof a;if(null==a||"function"==d)return i(a,b,c);if("object"!=d)return ab(a);var e=Rb(a);return function(b){for(var c=e.length,d=false;c--&&(d=b[e[c]]===a[e[c]]););return d}}function $(a){return a}function _(a){J(x(a),function(b){var c=e[b]=a[b];e.prototype[b]=function(){var a=[this.__wrapped__];return Eb.apply(a,arguments),a=c.apply(e,a),this.__chain__?new f(a,true):a}})}function ab(a){return function(b){return b[a]}}var bb,cb=0,db={},eb=+new Date+"",fb=/($^)/,gb=/['\n\r\t\u2028\u2029\\]/g,hb="[object Arguments]",ib="[object Array]",jb="[object Boolean]",kb="[object Date]",lb="[object Number]",mb="[object Object]",nb="[object RegExp]",ob="[object String]",pb={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false},qb={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},rb=pb[typeof window]&&window||this,sb=pb[typeof exports]&&exports&&!exports.nodeType&&exports,tb=pb[typeof module]&&module&&!module.nodeType&&module,ub=tb&&tb.exports===sb&&sb,vb=pb[typeof global]&&global;!vb||vb.global!==vb&&vb.window!==vb||(rb=vb);var wb=[],xb=Object.prototype,yb=rb._,zb=xb.toString,Ab=RegExp("^"+(zb+"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Bb=Math.ceil,Cb=Math.floor,Db=xb.hasOwnProperty,Eb=wb.push,Fb=xb.propertyIsEnumerable,Gb=s(Gb=Object.create)&&Gb,Hb=s(Hb=Array.isArray)&&Hb,Ib=rb.isFinite,Jb=rb.isNaN,Kb=s(Kb=Object.keys)&&Kb,Lb=Math.max,Mb=Math.min,Nb=Math.random;f.prototype=e.prototype;var Ob={};!function(){var a={0:1,length:1};Ob.spliceObjects=(wb.splice.call(a,0,1),!a[0])}(1),e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:""},Gb||(h=function(){function a(){}return function(b){if(B(b)){a.prototype=b;var c=new a;a.prototype=null}return c||rb.Object()}}()),u(arguments)||(u=function(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Db.call(a,"callee")&&!Fb.call(a,"callee")||false});var Pb=Hb||function(a){return a&&typeof a=="object"&&typeof a.length=="number"&&zb.call(a)==ib||false},Qb=function(a){var b,c=[];if(!a||!pb[typeof a])return c;for(b in a)Db.call(a,b)&&c.push(b);return c},Rb=Kb?function(a){return B(a)?Kb(a):[]}:Qb,Sb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Tb=y(Sb),Ub=RegExp("("+Rb(Tb).join("|")+")","g"),Vb=RegExp("["+Rb(Sb).join("")+"]","g"),Wb=function(a,b){var c;if(!a||!pb[typeof a])return a;for(c in a)if(b(a[c],c,a)===db)break;return a},Xb=function(a,b){var c;if(!a||!pb[typeof a])return a;for(c in a)if(Db.call(a,c)&&b(a[c],c,a)===db)break;return a};A(/x/)&&(A=function(a){return typeof a=="function"&&"[object Function]"==zb.call(a)});var Yb=o(function(a,b,c){Db.call(a,c)?a[c]++:a[c]=1}),Zb=o(function(a,b,c){(Db.call(a,c)?a[c]:a[c]=[]).push(b)}),$b=o(function(a,b,c){a[c]=b}),_b=L,ac=s(ac=Date.now)&&ac||function(){return(new Date).getTime()};e.after=function(a,b){if(!A(b))throw new TypeError;return function(){return 1>--a?b.apply(this,arguments):void 0}},e.bind=X,e.bindAll=function(a){for(var b=1<arguments.length?l(arguments,true,false,1):x(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=p(a[e],1,null,null,a)}return a},e.chain=function(a){return a=new f(a),a.__chain__=true,a},e.compact=function(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d},e.compose=function(){for(var a=arguments,b=a.length;b--;)if(!A(a[b]))throw new TypeError;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}},e.countBy=Yb,e.debounce=Y,e.defaults=w,e.defer=function(a){if(!A(a))throw new TypeError;var b=d(arguments,1);return setTimeout(function(){a.apply(bb,b)},1)},e.delay=function(a,b){if(!A(a))throw new TypeError;var c=d(arguments,2);return setTimeout(function(){a.apply(bb,c)},b)},e.difference=function(a){return k(a,l(arguments,true,true,1))},e.filter=H,e.flatten=function(a,b){return l(a,b)},e.forEach=J,e.functions=x,e.groupBy=Zb,e.indexBy=$b,e.initial=function(a,b,c){var e=0,f=a?a.length:0;if(typeof b!="number"&&null!=b){var g=f;for(b=Z(b,c,3);g--&&b(a[g],g,a);)e++}else e=null==b||c?1:b||e;return d(a,0,Mb(Lb(0,f-e),f))},e.intersection=function(){for(var a=[],b=-1,c=arguments.length;++b<c;){var d=arguments[b];(Pb(d)||u(d))&&a.push(d)}var e=a[0],f=-1,g=r(),h=e?e.length:0,i=[];a:for(;++f<h;)if(d=e[f],0>g(i,d)){for(b=c;--b;)if(0>g(a[b],d))continue a;i.push(d)}return i},e.invert=y,e.invoke=function(a,b){var c=d(arguments,2),e=-1,f=typeof b=="function",g=a?a.length:0,h=Array(typeof g=="number"?g:0);return J(a,function(a){h[++e]=(f?b:a[b]).apply(a,c)}),h},e.keys=Rb,e.map=L,e.max=M,e.memoize=function(a,b){var c={};return function(){var d=b?b.apply(this,arguments):eb+arguments[0];return Db.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}},e.min=function(a,b,c){var d=1/0,e=d;typeof b!="function"&&c&&c[b]===a&&(b=null);var f=-1,g=a?a.length:0;if(null==b&&typeof g=="number")for(;++f<g;)c=a[f],c<e&&(e=c);else b=Z(b,c,3),J(a,function(a,c,f){c=b(a,c,f),c<d&&(d=c,e=a)});return e},e.omit=function(a){var b=[];Wb(a,function(a,c){b.push(c)});for(var b=k(b,l(arguments,true,false,1)),c=-1,d=b.length,e={};++c<d;){var f=b[c];e[f]=a[f]}return e},e.once=function(a){var b,c;if(!A(a))throw new TypeError;return function(){return b?c:(b=true,c=a.apply(this,arguments),a=null,c)}},e.pairs=function(a){for(var b=-1,c=Rb(a),d=c.length,e=Array(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e},e.partial=function(a){return p(a,16,d(arguments,1))},e.pick=function(a){for(var b=-1,c=l(arguments,true,false,1),d=c.length,e={};++b<d;){var f=c[b];f in a&&(e[f]=a[f])}return e},e.pluck=_b,e.range=function(a,b,c){a=+a||0,c=+c||1,null==b&&(b=a,a=0);var d=-1;b=Lb(0,Bb((b-a)/c));for(var e=Array(b);++d<b;)e[d]=a,a+=c;return e},e.reject=function(a,b,c){return b=Z(b,c,3),H(a,function(a,c,d){return!b(a,c,d)})},e.rest=U,e.shuffle=P,e.sortBy=function(a,c,d){var e=-1,f=a?a.length:0,g=Array(typeof f=="number"?f:0);for(c=Z(c,d,3),J(a,function(a,b,d){g[++e]={m:[c(a,b,d)],n:e,o:a}}),f=g.length,g.sort(b);f--;)g[f]=g[f].o;return g},e.tap=function(a,b){return b(a),a},e.throttle=function(a,b,c){var d=true,e=true;if(!A(a))throw new TypeError;return false===c?d=false:B(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),c={},c.leading=d,c.maxWait=b,c.trailing=e,Y(a,b,c)},e.times=function(a,b,c){a=-1<(a=+a)?a:0;var d=-1,e=Array(a);for(b=i(b,c,1);++d<a;)e[d]=b(d);return e},e.toArray=function(a){return Pb(a)?d(a):a&&typeof a.length=="number"?L(a):E(a)},e.union=function(){return n(l(arguments,true,true))},e.uniq=W,e.values=E,e.where=R,e.without=function(a){return k(a,d(arguments,1))},e.wrap=function(a,b){return p(b,16,[a])},e.zip=function(){for(var a=-1,b=M(_b(arguments,"length")),c=Array(0>b?0:b);++a<b;)c[a]=_b(arguments,a);return c},e.collect=L,e.drop=U,e.each=J,e.extend=v,e.methods=x,e.object=function(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Pb(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e},e.select=H,e.tail=U,e.unique=W,e.clone=function(a){return B(a)?Pb(a)?d(a):v({},a):a},e.contains=F,e.escape=function(a){return null==a?"":(a+"").replace(Vb,q)},e.every=G,e.find=I,e.has=function(a,b){return a?Db.call(a,b):false},e.identity=$,e.indexOf=T,e.isArguments=u,e.isArray=Pb,e.isBoolean=function(a){return true===a||false===a||a&&typeof a=="object"&&zb.call(a)==jb||false},e.isDate=function(a){return a&&typeof a=="object"&&zb.call(a)==kb||false},e.isElement=function(a){return a&&1===a.nodeType||false},e.isEmpty=z,e.isEqual=function(a,b){return m(a,b)},e.isFinite=function(a){return Ib(a)&&!Jb(parseFloat(a))},e.isFunction=A,e.isNaN=function(a){return C(a)&&a!=+a},e.isNull=function(a){return null===a},e.isNumber=C,e.isObject=B,e.isRegExp=function(a){return a&&pb[typeof a]&&zb.call(a)==nb||false},e.isString=D,e.isUndefined=function(a){return typeof a=="undefined"},e.lastIndexOf=function(a,b,c){var d=a?a.length:0;for(typeof c=="number"&&(d=(0>c?Lb(0,d+c):Mb(c,d-1))+1);d--;)if(a[d]===b)return d;return-1},e.mixin=_,e.noConflict=function(){return rb._=yb,this},e.random=function(a,b){return null==a&&null==b&&(b=1),a=+a||0,null==b?(b=a,a=0):b=+b||0,a+Cb(Nb()*(b-a+1))},e.reduce=N,e.reduceRight=O,e.result=function(a,b){if(a){var c=a[b];return A(c)?a[b]():c}},e.size=function(a){var b=a?a.length:0;return typeof b=="number"?b:Rb(a).length},e.some=Q,e.sortedIndex=V,e.template=function(a,b,d){var f=e,g=f.templateSettings;a=(a||"")+"",d=w({},d,g);var h=0,i="__p+='",g=d.variable;a.replace(RegExp((d.escape||fb).source+"|"+(d.interpolate||fb).source+"|"+(d.evaluate||fb).source+"|$","g"),function(b,d,e,f,g){return i+=a.slice(h,g).replace(gb,c),d&&(i+="'+_.escape("+d+")+'"),f&&(i+="';"+f+";\n__p+='"),e&&(i+="'+((__t=("+e+"))==null?'':__t)+'"),h=g+b.length,b}),i+="';",g||(g="obj",i="with("+g+"||{}){"+i+"}"),i="function("+g+"){var __t,__p='',__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}"+i+"return __p}";try{var j=Function("_","return "+i)(f)}catch(k){throw k.source=i,k}return b?j(b):(j.source=i,j)},e.unescape=function(a){return null==a?"":(a+"").replace(Ub,t)},e.uniqueId=function(a){var b=++cb+"";return a?a+b:b},e.all=G,e.any=Q,e.detect=I,e.findWhere=function(a,b){return R(a,b,true)},e.foldl=N,e.foldr=O,e.include=F,e.inject=N,e.first=S,e.last=function(a,b,c){var e=0,f=a?a.length:0;if(typeof b!="number"&&null!=b){var g=f;for(b=Z(b,c,3);g--&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a?a[f-1]:bb;return d(a,Lb(0,f-e))},e.sample=function(a,b,c){return a&&typeof a.length!="number"&&(a=E(a)),null==b||c?a?a[0+Cb(Nb()*(a.length-1-0+1))]:bb:(a=P(a),a.length=Mb(Lb(0,b),a.length),a)},e.take=S,e.head=S,_(e),e.VERSION="2.4.1",e.prototype.chain=function(){return this.__chain__=true,this},e.prototype.value=function(){return this.__wrapped__},J("pop push reverse shift sort splice unshift".split(" "),function(a){var b=wb[a];e.prototype[a]=function(){var a=this.__wrapped__;return b.apply(a,arguments),Ob.spliceObjects||0!==a.length||delete a[0],this}}),J(["concat","join","slice"],function(a){var b=wb[a];e.prototype[a]=function(){var a=b.apply(this.__wrapped__,arguments);return this.__chain__&&(a=new f(a),a.__chain__=true),a}}),typeof define=="function"&&typeof define.amd=="object"&&define.amd?(rb._=e,define(function(){return e})):sb&&tb?ub?(tb.exports=e)._=e:sb._=e:rb._=e}).call(this);(function(){var a=angular.module("restangular",[]);a.provider("Restangular",function(){var a={};a.init=function(a,b){a.configuration=b;var c=["get","head","options","trace","getlist"];b.isSafe=function(a){return _.contains(c,a.toLowerCase())};var d=/^https?:\/\//i;b.isAbsoluteUrl=function(a){return _.isUndefined(b.absoluteUrl)||_.isNull(b.absoluteUrl)?a&&d.test(a):b.absoluteUrl};b.absoluteUrl=_.isUndefined(b.absoluteUrl)?true:b.absoluteUrl;a.setSelfLinkAbsoluteUrl=function(a){b.absoluteUrl=a};b.baseUrl=_.isUndefined(b.baseUrl)?"":b.baseUrl;a.setBaseUrl=function(a){b.baseUrl=/\/$/.test(a)?a.substring(0,a.length-1):a;return this};b.extraFields=b.extraFields||[];a.setExtraFields=function(a){b.extraFields=a;return this};b.defaultHttpFields=b.defaultHttpFields||{};a.setDefaultHttpFields=function(a){b.defaultHttpFields=a;return this};b.withHttpValues=function(a,c){return _.defaults(c,a,b.defaultHttpFields)};b.encodeIds=_.isUndefined(b.encodeIds)?true:b.encodeIds;a.setEncodeIds=function(a){b.encodeIds=a};b.defaultRequestParams=b.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}};a.setDefaultRequestParams=function(a,c){var d=[],e=c||a;if(!_.isUndefined(c)){if(_.isArray(a)){d=a}else{d.push(a)}}else{d.push("common")}_.each(d,function(a){b.defaultRequestParams[a]=e});return this};a.requestParams=b.defaultRequestParams;b.defaultHeaders=b.defaultHeaders||{};a.setDefaultHeaders=function(c){b.defaultHeaders=c;a.defaultHeaders=b.defaultHeaders;return this};a.defaultHeaders=b.defaultHeaders;b.methodOverriders=b.methodOverriders||[];a.setMethodOverriders=function(a){var c=_.extend([],a);if(b.isOverridenMethod("delete",c)){c.push("remove")}b.methodOverriders=c;return this};b.jsonp=_.isUndefined(b.jsonp)?false:b.jsonp;a.setJsonp=function(a){b.jsonp=a};b.isOverridenMethod=function(a,c){var d=c||b.methodOverriders;return!_.isUndefined(_.find(d,function(b){return b.toLowerCase()===a.toLowerCase()}))};b.urlCreator=b.urlCreator||"path";a.setUrlCreator=function(a){if(!_.has(b.urlCreatorFactory,a)){throw new Error("URL Path selected isn't valid")}b.urlCreator=a;return this};b.restangularFields=b.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save"};a.setRestangularFields=function(a){b.restangularFields=_.extend(b.restangularFields,a);return this};b.isRestangularized=function(a){return!!a[b.restangularFields.one]||!!a[b.restangularFields.all]};b.setFieldToElem=function(a,b,c){var d=a.split(".");var e=b;_.each(_.initial(d),function(a){e[a]={};e=e[a]});e[_.last(d)]=c;return this};b.getFieldFromElem=function(a,b){var c=a.split(".");var d=b;_.each(c,function(a){if(d){d=d[a]}});return angular.copy(d)};b.setIdToElem=function(a,c){b.setFieldToElem(b.restangularFields.id,a,c);return this};b.getIdFromElem=function(a){return b.getFieldFromElem(b.restangularFields.id,a)};b.isValidId=function(a){return""!==a&&!_.isUndefined(a)&&!_.isNull(a)};b.setUrlToElem=function(a,c,d){b.setFieldToElem(b.restangularFields.selfLink,a,c);return this};b.getUrlFromElem=function(a){return b.getFieldFromElem(b.restangularFields.selfLink,a)};b.useCannonicalId=_.isUndefined(b.useCannonicalId)?false:b.useCannonicalId;a.setUseCannonicalId=function(a){b.useCannonicalId=a;return this};b.getCannonicalIdFromElem=function(a){var c=a[b.restangularFields.cannonicalId];var d=b.isValidId(c)?c:b.getIdFromElem(a);return d};b.responseInterceptors=b.responseInterceptors||[];b.defaultResponseInterceptor=function(a,b,c,d,e,f){return a};b.responseExtractor=function(a,c,d,e,f,g){var h=angular.copy(b.responseInterceptors);h.push(b.defaultResponseInterceptor);var i=a;_.each(h,function(a){i=a(i,c,d,e,f,g)});return i};a.addResponseInterceptor=function(a){b.responseInterceptors.push(a);return this};a.setResponseInterceptor=a.addResponseInterceptor;a.setResponseExtractor=a.addResponseInterceptor;b.requestInterceptors=b.requestInterceptors||[];b.defaultInterceptor=function(a,b,c,d,e,f,g){return{element:a,headers:e,params:f,httpConfig:g}};b.fullRequestInterceptor=function(a,c,d,e,f,g,h){var i=angular.copy(b.requestInterceptors);var j=b.defaultInterceptor(a,c,d,e,f,g,h);return _.reduce(i,function(a,b){return _.extend(a,b(a.element,c,d,e,a.headers,a.params,a.httpConfig))},j)};a.addRequestInterceptor=function(a){b.requestInterceptors.push(function(b,c,d,e,f,g,h){return{headers:f,params:g,element:a(b,c,d,e),httpConfig:h}});return this};a.setRequestInterceptor=a.addRequestInterceptor;a.addFullRequestInterceptor=function(a){b.requestInterceptors.push(a);return this};a.setFullRequestInterceptor=a.addFullRequestInterceptor;b.errorInterceptor=b.errorInterceptor||function(){};a.setErrorInterceptor=function(a){b.errorInterceptor=a;return this};b.onBeforeElemRestangularized=b.onBeforeElemRestangularized||function(a){return a};a.setOnBeforeElemRestangularized=function(a){b.onBeforeElemRestangularized=a;return this};b.onElemRestangularized=b.onElemRestangularized||function(a){return a};a.setOnElemRestangularized=function(a){b.onElemRestangularized=a;return this};b.shouldSaveParent=b.shouldSaveParent||function(){return true};a.setParentless=function(a){if(_.isArray(a)){b.shouldSaveParent=function(b){return!_.contains(a,b)}}else if(_.isBoolean(a)){b.shouldSaveParent=function(){return!a}}return this};b.suffix=_.isUndefined(b.suffix)?null:b.suffix;a.setRequestSuffix=function(a){b.suffix=a;return this};b.transformers=b.transformers||{};a.addElementTransformer=function(c,d,e){var f=null;var g=null;if(arguments.length===2){g=d}else{g=e;f=d}var h=b.transformers[c];if(!h){h=b.transformers[c]=[]}h.push(function(a,b){if(_.isNull(f)||a==f){return g(b)}return b});return a};a.extendCollection=function(b,c){return a.addElementTransformer(b,true,c)};a.extendModel=function(b,c){return a.addElementTransformer(b,false,c)};b.transformElem=function(a,c,d,e,f){if(!f&&!b.transformLocalElements&&!a[b.restangularFields.fromServer]){return a}var g=b.transformers[d];var h=a;if(g){_.each(g,function(a){h=a(c,h)})}return b.onElemRestangularized(h,c,d,e)};b.transformLocalElements=_.isUndefined(b.transformLocalElements)?false:b.transformLocalElements;a.setTransformOnlyServerElements=function(a){b.transformLocalElements=!a};b.fullResponse=_.isUndefined(b.fullResponse)?false:b.fullResponse;a.setFullResponse=function(a){b.fullResponse=a;return this};b.urlCreatorFactory={};var e=function(){};e.prototype.setConfig=function(a){this.config=a;return this};e.prototype.parentsArray=function(a){var b=[];while(a){b.push(a);a=a[this.config.restangularFields.parentResource]}return b.reverse()};function f(a,b,c,d){var e={};_.each(_.keys(d),function(f){var g=d[f];g.params=_.extend({},g.params,a.defaultRequestParams[g.method.toLowerCase()]);
if(_.isEmpty(g.params)){delete g.params}if(a.isSafe(g.method)){e[f]=function(){return b(_.extend(g,{url:c}))}}else{e[f]=function(a){return b(_.extend(g,{url:c,data:a}))}}});return e}e.prototype.resource=function(a,c,d,e,g,h,i,j){var k=_.defaults(g||{},this.config.defaultRequestParams.common);var l=_.defaults(e||{},this.config.defaultHeaders);if(i){if(!b.isSafe(j)){l["If-Match"]=i}else{l["If-None-Match"]=i}}var m=this.base(a);if(h){var n="";if(!/\/$/.test(m)){n+="/"}n+=h;m+=n}if(this.config.suffix&&m.indexOf(this.config.suffix,m.length-this.config.suffix.length)===-1&&!this.config.getUrlFromElem(a)){m+=this.config.suffix}a[this.config.restangularFields.httpConfig]=undefined;return f(this.config,c,m,{getList:this.config.withHttpValues(d,{method:"GET",params:k,headers:l}),get:this.config.withHttpValues(d,{method:"GET",params:k,headers:l}),jsonp:this.config.withHttpValues(d,{method:"jsonp",params:k,headers:l}),put:this.config.withHttpValues(d,{method:"PUT",params:k,headers:l}),post:this.config.withHttpValues(d,{method:"POST",params:k,headers:l}),remove:this.config.withHttpValues(d,{method:"DELETE",params:k,headers:l}),head:this.config.withHttpValues(d,{method:"HEAD",params:k,headers:l}),trace:this.config.withHttpValues(d,{method:"TRACE",params:k,headers:l}),options:this.config.withHttpValues(d,{method:"OPTIONS",params:k,headers:l}),patch:this.config.withHttpValues(d,{method:"PATCH",params:k,headers:l})})};var g=function(){};g.prototype=new e;g.prototype.base=function(a){var c=this;return _.reduce(this.parentsArray(a),function(a,d){var e;var f=c.config.getUrlFromElem(d);if(f){if(c.config.isAbsoluteUrl(f)){return f}else{e=f}}else{e=d[c.config.restangularFields.route];if(d[c.config.restangularFields.restangularCollection]){var g=d[c.config.restangularFields.ids];if(g){e+="/"+g.join(",")}}else{var h;if(c.config.useCannonicalId){h=c.config.getCannonicalIdFromElem(d)}else{h=c.config.getIdFromElem(d)}if(b.isValidId(h)&&!d.singleOne){e+="/"+(c.config.encodeIds?encodeURIComponent(h):h)}}}return a.replace(/\/$/,"")+"/"+e},this.config.baseUrl)};g.prototype.fetchUrl=function(a,b){var c=this.base(a);if(b){c+="/"+b}return c};g.prototype.fetchRequestedUrl=function(a,c){var d=this.fetchUrl(a,c);var e=a[b.restangularFields.reqParams];function f(a){var b=[];for(var c in a){if(a.hasOwnProperty(c)){b.push(c)}}return b.sort()}function g(a,b,c){var d=f(a);for(var e=0;e<d.length;e++){b.call(c,a[d[e]],d[e])}return d}function h(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}if(!e)return d;var i=[];g(e,function(a,b){if(a==null||a==undefined)return;if(!angular.isArray(a))a=[a];angular.forEach(a,function(a){if(angular.isObject(a)){a=angular.toJson(a)}i.push(h(b)+"="+h(a))})});return d+(this.config.suffix||"")+(d.indexOf("?")===-1?"?":"&")+i.join("&")};b.urlCreatorFactory.path=g};var b={};a.init(this,b);this.$get=["$http","$q",function(c,d){function e(b){var f={};var g=new b.urlCreatorFactory[b.urlCreator];g.setConfig(b);function h(a,c,d,e,f){c[b.restangularFields.route]=d;c[b.restangularFields.getRestangularUrl]=_.bind(g.fetchUrl,g,c);c[b.restangularFields.getRequestedUrl]=_.bind(g.fetchRequestedUrl,g,c);c[b.restangularFields.addRestangularMethod]=_.bind(N,c);c[b.restangularFields.clone]=_.bind(t,c,c);c[b.restangularFields.reqParams]=_.isEmpty(e)?null:e;c[b.restangularFields.withHttpConfig]=_.bind(B,c);c[b.restangularFields.plain]=_.bind(r,c,c);c[b.restangularFields.one]=_.bind(i,c,c);c[b.restangularFields.all]=_.bind(j,c,c);c[b.restangularFields.several]=_.bind(k,c,c);c[b.restangularFields.oneUrl]=_.bind(l,c,c);c[b.restangularFields.allUrl]=_.bind(m,c,c);c[b.restangularFields.fromServer]=!!f;if(a&&b.shouldSaveParent(d)){var h=b.getIdFromElem(a);var n=b.getUrlFromElem(a);var o=_.union(_.values(_.pick(b.restangularFields,["route","singleOne","parentResource"])),b.extraFields);var p=_.pick(a,o);if(b.isValidId(h)){b.setIdToElem(p,h)}if(b.isValidId(n)){b.setUrlToElem(p,n)}c[b.restangularFields.parentResource]=p}else{c[b.restangularFields.parentResource]=null}return c}function i(a,c,d,e){if(_.isNumber(c)||_.isNumber(a)){var f="You're creating a Restangular entity with the number ";f+="instead of the route or the parent. You can't call .one(12)";throw new Error(f)}var g={};b.setIdToElem(g,d);b.setFieldToElem(b.restangularFields.singleOne,g,e);return u(a,g,c,false)}function j(a,b){return v(a,[],b,false)}function k(a,c,d){var e=[];e[b.restangularFields.ids]=Array.prototype.splice.call(arguments,2);return v(a,e,c,false)}function l(a,c,d){if(!c){throw new Error("Route is mandatory when creating new Restangular objects.")}var e={};b.setUrlToElem(e,d,c);return u(a,e,c,false)}function m(a,c,d){if(!c){throw new Error("Route is mandatory when creating new Restangular objects.")}var e={};b.setUrlToElem(e,d,c);return v(a,e,c,false)}function n(a,c,d){a.call=_.bind(o,a);a.get=_.bind(p,a);a[b.restangularFields.restangularCollection]=c;if(c){a.push=_.bind(o,a,"push")}a.$object=d;return a}function o(a){var c=d.defer();var e=arguments;var f={};this.then(function(b){var d=Array.prototype.slice.call(e,1);var g=b[a];g.apply(b,d);f=b;c.resolve(b)});return n(c.promise,this[b.restangularFields.restangularCollection],f)}function p(a){var c=d.defer();var e={};this.then(function(b){e=b[a];c.resolve(e)});return n(c.promise,this[b.restangularFields.restangularCollection],e)}function q(a,c,d,e){_.extend(e,d);if(b.fullResponse){return a.resolve(_.extend(c,{data:d}))}else{a.resolve(d)}}function r(a){if(_.isArray(a)){var c=[];_.each(a,function(a){c.push(r(a))});return c}else{return _.omit(a,_.values(_.omit(b.restangularFields,"id")))}}function s(a){a[b.restangularFields.customOperation]=_.bind(M,a);_.each(["put","post","get","delete"],function(b){_.each(["do","custom"],function(c){var d=b==="delete"?"remove":b;var e=c+b.toUpperCase();var f;if(d!=="put"&&d!=="post"){f=M}else{f=function(a,b,c,d,e){return _.bind(M,this)(a,c,d,e,b)}}a[e]=_.bind(f,a,d)})});a[b.restangularFields.customGETLIST]=_.bind(A,a);a[b.restangularFields.doGETLIST]=a[b.restangularFields.customGETLIST]}function t(a,c){var d=angular.copy(a,c);return u(d[b.restangularFields.parentResource],d,d[b.restangularFields.route],true)}function u(a,c,d,e,g,i){var j=b.onBeforeElemRestangularized(c,false,d);var k=h(a,j,d,i,e);if(b.useCannonicalId){k[b.restangularFields.cannonicalId]=b.getIdFromElem(k)}if(g){k[b.restangularFields.getParentList]=function(){return g}}k[b.restangularFields.restangularCollection]=false;k[b.restangularFields.get]=_.bind(E,k);k[b.restangularFields.getList]=_.bind(A,k);k[b.restangularFields.put]=_.bind(G,k);k[b.restangularFields.post]=_.bind(H,k);k[b.restangularFields.remove]=_.bind(F,k);k[b.restangularFields.head]=_.bind(I,k);k[b.restangularFields.trace]=_.bind(J,k);k[b.restangularFields.options]=_.bind(K,k);k[b.restangularFields.patch]=_.bind(L,k);k[b.restangularFields.save]=_.bind(C,k);s(k);return b.transformElem(k,false,d,f,true)}function v(a,c,d,e,g){var i=b.onBeforeElemRestangularized(c,true,d);var j=h(a,i,d,g,e);j[b.restangularFields.restangularCollection]=true;j[b.restangularFields.post]=_.bind(H,j,null);j[b.restangularFields.remove]=_.bind(F,j);j[b.restangularFields.head]=_.bind(I,j);j[b.restangularFields.trace]=_.bind(J,j);j[b.restangularFields.putElement]=_.bind(y,j);j[b.restangularFields.options]=_.bind(K,j);j[b.restangularFields.patch]=_.bind(L,j);j[b.restangularFields.get]=_.bind(x,j);j[b.restangularFields.getList]=_.bind(A,j,null);s(j);return b.transformElem(j,true,d,f,true)}function w(a,b,c){var d=v(a,b,c,false);_.each(d,function(b){u(a,b,c,false)});return d}function x(a,b,c){return this.customGET(a.toString(),b,c)}function y(a,c,e){var g=this;var h=this[a];var i=d.defer();var j=[];j=b.transformElem(j,true,h[b.restangularFields.route],f);h.put(c,e).then(function(b){var c=t(g);c[a]=b;j=c;i.resolve(c)},function(a){i.reject(a)});return n(i.promise,true,j)}function z(a,c,d,e,f,g){var h=b.responseExtractor(a,c,d,e,f,g);var i=f.headers("ETag");if(h&&i){h[b.restangularFields.etag]=i}return h}function A(a,e,h){var i=this;var j=d.defer();var k="getList";var l=g.fetchUrl(this,a);var m=a||i[b.restangularFields.route];var o=b.fullRequestInterceptor(null,k,m,l,h||{},e||{},this[b.restangularFields.httpConfig]||{});var p=[];p=b.transformElem(p,true,m,f);var r="getList";if(b.jsonp){r="jsonp"}g.resource(this,c,o.httpConfig,o.headers,o.params,a,this[b.restangularFields.etag],k)[r]().then(function(c){var d=c.data;var e=c.config.params;var f=z(d,k,m,l,c,j);if(_.isUndefined(f)||""===f){f=[]}if(!_.isArray(f)){throw new Error("Response for getList SHOULD be an array and not an object or something else")}var g=_.map(f,function(c){if(!i[b.restangularFields.restangularCollection]){return u(i,c,a,true,f)}else{return u(i[b.restangularFields.parentResource],c,i[b.restangularFields.route],true,f)}});g=_.extend(f,g);if(!i[b.restangularFields.restangularCollection]){q(j,c,v(i,g,a,true,e),p)}else{q(j,c,v(i[b.restangularFields.parentResource],g,i[b.restangularFields.route],true,e),p)}},function s(a){if(a.status===304&&i[b.restangularFields.restangularCollection]){q(j,a,i,p)}else if(b.errorInterceptor(a,j)!==false){j.reject(a)}});return n(j.promise,true,p)}function B(a){this[b.restangularFields.httpConfig]=a;return this}function C(a,c){if(this[b.restangularFields.fromServer]){return this[b.restangularFields.put](a,c)}else{return _.bind(D,this)("post",undefined,a,undefined,c)}}function D(a,e,h,i,j){var k=this;var l=d.defer();var m=h||{};var o=e||this[b.restangularFields.route];var p=g.fetchUrl(this,e);var s=i||this;var t=s[b.restangularFields.etag]||(a!="post"?this[b.restangularFields.etag]:null);if(_.isObject(s)&&b.isRestangularized(s)){s=r(s)}var v=b.fullRequestInterceptor(s,a,o,p,j||{},m||{},this[b.restangularFields.httpConfig]||{});var w={};w=b.transformElem(w,false,o,f);var x=function(c){var d=c.data;var f=c.config.params;var g=z(d,a,o,p,c,l);if(g){if(a==="post"&&!k[b.restangularFields.restangularCollection]){q(l,c,u(k,g,e,true,null,f),w)}else{data=u(k[b.restangularFields.parentResource],g,k[b.restangularFields.route],true,null,f);data[b.restangularFields.singleOne]=k[b.restangularFields.singleOne];q(l,c,data,w)}}else{q(l,c,undefined,w)}};var y=function(c){if(c.status===304&&b.isSafe(a)){q(l,c,k,w)}else if(b.errorInterceptor(c,l)!==false){l.reject(c)}};var A=a;var B=_.extend({},v.headers);var C=b.isOverridenMethod(a);if(C){A="post";B=_.extend(B,{"X-HTTP-Method-Override":a==="remove"?"DELETE":a})}else if(b.jsonp&&A==="get"){A="jsonp"}if(b.isSafe(a)){if(C){g.resource(this,c,v.httpConfig,B,v.params,e,t,A)[A]({}).then(x,y)}else{g.resource(this,c,v.httpConfig,B,v.params,e,t,A)[A]().then(x,y)}}else{g.resource(this,c,v.httpConfig,B,v.params,e,t,A)[A](v.element).then(x,y)}return n(l.promise,false,w)}function E(a,b){return _.bind(D,this)("get",undefined,a,undefined,b)}function F(a,b){return _.bind(D,this)("remove",undefined,a,undefined,b)}function G(a,b){return _.bind(D,this)("put",undefined,a,undefined,b)}function H(a,b,c,d){return _.bind(D,this)("post",a,c,b,d)}function I(a,b){return _.bind(D,this)("head",undefined,a,undefined,b)}function J(a,b){return _.bind(D,this)("trace",undefined,a,undefined,b)}function K(a,b){return _.bind(D,this)("options",undefined,a,undefined,b)}function L(a,b,c){return _.bind(D,this)("patch",undefined,b,a,c)}function M(a,b,c,d,e){return _.bind(D,this)(a,b,c,e,d)}function N(a,c,d,e,f,g){var h;if(c==="getList"){h=_.bind(A,this,d)}else{h=_.bind(M,this,c,d)}var i=function(a,b,c){var d=_.defaults({params:a,headers:b,elem:c},{params:e,headers:f,elem:g});return h(d.params,d.headers,d.elem)};if(b.isSafe(c)){this[a]=i}else{this[a]=function(a,b,c){return i(b,c,a)}}}function O(c){var d=angular.copy(_.omit(b,"configuration"));a.init(d,d);c(d);return e(d)}function P(a,b){var c={};var d=(b||f).all(a);c.one=_.bind(i,b||f,b,a);c.post=_.bind(d.post,d);c.getList=_.bind(d.getList,d);return c}a.init(f,b);f.copy=_.bind(t,f);f.service=_.bind(P,f);f.withConfig=_.bind(O,f);f.one=_.bind(i,f,null);f.all=_.bind(j,f,null);f.several=_.bind(k,f,null);f.oneUrl=_.bind(l,f,null);f.allUrl=_.bind(m,f,null);f.stripRestangular=_.bind(r,f);f.restangularizeElement=_.bind(u,f);f.restangularizeCollection=_.bind(w,f);return f}return e(b)}]})})();(function(a,b,c){"use strict";var d=b.$$minErr("$resource");var e=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;function f(a){return a!=null&&a!==""&&a!=="hasOwnProperty"&&e.test("."+a)}function g(a,b){if(!f(b)){throw d("badmember",'Dotted member path "@{0}" is invalid.',b)}var e=b.split(".");for(var g=0,h=e.length;g<h&&a!==c;g++){var i=e[g];a=a!==null?a[i]:c}return a}function h(a,c){c=c||{};b.forEach(c,function(a,b){delete c[b]});for(var d in a){if(a.hasOwnProperty(d)&&!(d.charAt(0)==="$"&&d.charAt(1)==="$")){c[d]=a[d]}}return c}b.module("ngResource",["ng"]).factory("$resource",["$http","$q",function(a,e){var f={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:true},remove:{method:"DELETE"},"delete":{method:"DELETE"}};var i=b.noop,j=b.forEach,k=b.extend,l=b.copy,m=b.isFunction;function n(a){return o(a,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function o(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function p(a,b){this.template=a;this.defaults=b||{};this.urlParams={}}p.prototype={setUrlParams:function(a,c,e){var f=this,g=e||f.template,h,i;var k=f.urlParams={};j(g.split(/\W/),function(a){if(a==="hasOwnProperty"){throw d("badname","hasOwnProperty is not a valid parameter name.")}if(!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(g)){k[a]=true}});g=g.replace(/\\:/g,":");c=c||{};j(f.urlParams,function(a,d){h=c.hasOwnProperty(d)?c[d]:f.defaults[d];if(b.isDefined(h)&&h!==null){i=n(h);g=g.replace(new RegExp(":"+d+"(\\W|$)","g"),function(a,b){return i+b})}else{g=g.replace(new RegExp("(/?):"+d+"(\\W|$)","g"),function(a,b,c){if(c.charAt(0)=="/"){return c}else{return b+c}})}});g=g.replace(/\/+$/,"")||"/";g=g.replace(/\/\.(?=\w+($|\?))/,".");a.url=g.replace(/\/\\\./,"/.");j(c,function(b,c){if(!f.urlParams[c]){a.params=a.params||{};a.params[c]=b}})}};function q(n,o,r){var s=new p(n);r=k({},f,r);function t(a,b){var c={};b=k({},o,b);j(b,function(b,d){if(m(b)){b=b()}c[d]=b&&b.charAt&&b.charAt(0)=="@"?g(a,b.substr(1)):b});return c}function u(a){return a.resource}function v(a){h(a||{},this)}j(r,function(f,g){var n=/^(POST|PUT|PATCH)$/i.test(f.method);v[g]=function(g,o,p,q){var r={},w,x,y;switch(arguments.length){case 4:y=q;x=p;case 3:case 2:if(m(o)){if(m(g)){x=g;y=o;break}x=o;y=p}else{r=g;w=o;x=p;break}case 1:if(m(g))x=g;else if(n)w=g;else r=g;break;case 0:break;default:throw d("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var z=this instanceof v;var A=z?w:f.isArray?[]:new v(w);var B={};var C=f.interceptor&&f.interceptor.response||u;var D=f.interceptor&&f.interceptor.responseError||c;j(f,function(a,b){if(b!="params"&&b!="isArray"&&b!="interceptor"){B[b]=l(a)}});if(n)B.data=w;s.setUrlParams(B,k({},t(w,f.params||{}),r),f.url);var E=a(B).then(function(a){var c=a.data,e=A.$promise;if(c){if(b.isArray(c)!==!!f.isArray){throw d("badcfg","Error in resource configuration. Expected "+"response to contain an {0} but got an {1}",f.isArray?"array":"object",b.isArray(c)?"array":"object")}if(f.isArray){A.length=0;j(c,function(a){if(typeof a==="object"){A.push(new v(a))}else{A.push(a)}})}else{h(c,A);A.$promise=e}}A.$resolved=true;a.resource=A;return a},function(a){A.$resolved=true;(y||i)(a);return e.reject(a)});E=E.then(function(a){var b=C(a);(x||i)(b,a.headers);return b},D);if(!z){A.$promise=E;A.$resolved=false;return A}return E};v.prototype["$"+g]=function(a,b,c){if(m(a)){c=b;b=a;a={}}var d=v[g].call(this,a,this,b,c);return d.$promise||d}});v.bind=function(a){return q(n,k({},o,a),r)};return v}return q}])})(window,window.angular);if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.1",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.1",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.1",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c="prev"==a?-1:1,d=this.getItemIndex(b),e=(d+c)%this.$items.length;return this.$items.eq(e)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(!f.length){if(!this.options.wrap)return;f=this.$element.find(".item")[i]()}if(f.hasClass("active"))return this.sliding=!1;var k=f[0],l=a.Event("slide.bs.carousel",{relatedTarget:k,direction:h});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var m=a(this.$indicators.children()[this.getItemIndex(f)]);m&&m.addClass("active")}var n=a.Event("slid.bs.carousel",{relatedTarget:k,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger(n)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(n)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(this.options.trigger).filter('[href="#'+b.id+'"], [data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.1",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":a.extend({},e.data(),{trigger:this});c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.1",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.1",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.options.backdrop&&d.adjustBackdrop(),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$element.find(".modal-dialog").one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")
},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},c.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b,g=f&&f.selector;(e||"destroy"!=b)&&(g?(e||d.data("bs.tooltip",e={}),e[g]||(e[g]=new c(this,f))):e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.1",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=this.tip(),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b,g=f&&f.selector;(e||"destroy"!=b)&&(g?(e||d.data("bs.popover",e={}),e[g]||(e[g]=new c(this,f))):e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.1",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.1",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.1",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.1",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=i?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a("body").height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);(function(){String.prototype.contains=function(a,b){return-1!==this.indexOf(a,b)},String.prototype.flare=function(a){return null==a&&(a="uiGmap"),a+this},String.prototype.ns=String.prototype.flare}).call(this),function(){_.intersectionObjects=function(a,b,c){var d;return null==c&&(c=void 0),d=_.map(a,function(){return function(a){return _.find(b,function(b){return null!=c?c(a,b):_.isEqual(a,b)})}}(this)),_.filter(d,function(a){return null!=a})},_.containsObject=_.includeObject=function(a,b,c){return null==c&&(c=void 0),null===a?!1:_.any(a,function(){return function(a){return null!=c?c(a,b):_.isEqual(a,b)}}(this))},_.differenceObjects=function(a,b,c){return null==c&&(c=void 0),_.filter(a,function(a){return!_.containsObject(b,a,c)})},_.withoutObjects=_.differenceObjects,_.indexOfObject=function(a,b,c,d){var e,f;if(null==a)return-1;if(e=0,f=a.length,d){if("number"!=typeof d)return e=_.sortedIndex(a,b),a[e]===b?e:-1;e=0>d?Math.max(0,f+d):d}for(;f>e;){if(null!=c){if(c(a[e],b))return e}else if(_.isEqual(a[e],b))return e;e++}return-1},_["extends"]=function(a){return _.reduce(a,function(a,b){return _.extend(a,b)},{})},_.isNullOrUndefined=function(a){return _.isNull(a||_.isUndefined(a))}}.call(this),function(){angular.module("uiGmapgoogle-maps.providers",[]),angular.module("uiGmapgoogle-maps.wrapped",[]),angular.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),angular.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),angular.module("uiGmapgoogle-maps.directives.api.managers",[]),angular.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),angular.module("uiGmapgoogle-maps.directives.api.options.builders",[]),angular.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),angular.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),angular.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),angular.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"]).factory("uiGmapdebounce",["$timeout",function(a){return function(b){var c;return c=0,function(){var d,e,f;return f=this,d=arguments,c++,e=function(a){return function(){return a===c?b.apply(f,d):void 0}}(c),a(e,0,!0)}}}])}.call(this),function(){angular.module("google-maps.providers".ns()).factory("MapScriptLoader".ns(),["$q","uuid".ns(),function(a,b){var c,d;return d=void 0,c=function(a){return a.china?"http://maps.google.cn/maps/api/js?":"https://maps.googleapis.com/maps/api/js?"},{load:function(e){var f,g,h,i;return f=a.defer(),angular.isDefined(window.google)&&angular.isDefined(window.google.maps)?(f.resolve(window.google.maps),f.promise):(h=e.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),window[h]=function(){window[h]=null,f.resolve(window.google.maps)},g=_.map(e,function(a,b){return b+"="+a}),d&&document.getElementById(d).remove(),g=g.join("&"),i=document.createElement("script"),d="ui_gmap_map_load_"+b.generate(),i.id=d,i.type="text/javascript",i.src=c(e)+g,document.body.appendChild(i),f.promise)}}}]).provider("GoogleMapApi".ns(),function(){return this.options={china:!1,v:"3.17",libraries:"",language:"en",sensor:"false"},this.configure=function(a){angular.extend(this.options,a)},this.$get=["MapScriptLoader".ns(),function(a){return function(b){return b.load(a.options)}}(this)],this})}.call(this),function(){angular.module("google-maps.extensions".ns()).service("ExtendGWin".ns(),function(){return{init:_.once(function(){return google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow?(google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(a,b,c){null==c&&(this._isOpen=!0,this._open(a,b,!0))},google.maps.InfoWindow.prototype.close=function(a){null==a&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(a){return null==a&&(a=void 0),null==a?this._isOpen:this._isOpen=a},window.InfoBox&&(window.InfoBox.prototype._open=window.InfoBox.prototype.open,window.InfoBox.prototype._close=window.InfoBox.prototype.close,window.InfoBox.prototype._isOpen=!1,window.InfoBox.prototype.open=function(a,b){this._isOpen=!0,this._open(a,b)},window.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},window.InfoBox.prototype.isOpen=function(a){return null==a&&(a=void 0),null==a?this._isOpen:this._isOpen=a}),window.MarkerLabel_?(window.MarkerLabel_.prototype.setContent=function(){var a;a=this.marker_.get("labelContent"),a&&!_.isEqual(this.oldContent,a)&&("undefined"==typeof(null!=a?a.nodeType:void 0)?(this.labelDiv_.innerHTML=a,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=a):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(a),a=a.cloneNode(!0),this.eventDiv_.appendChild(a),this.oldContent=a))},window.MarkerLabel_.prototype.onRemove=function(){null!=this.labelDiv_.parentNode&&this.labelDiv_.parentNode.removeChild(this.labelDiv_),null!=this.eventDiv_.parentNode&&this.eventDiv_.parentNode.removeChild(this.eventDiv_),this.listeners_&&this.listeners_.length&&this.listeners_.forEach(function(a){return google.maps.event.removeListener(a)})}):void 0):void 0})}})}.call(this),function(){angular.module("uiGmapgoogle-maps.directives.api.utils").service("_sync".ns(),[function(){return{fakePromise:function(){var a;return a=void 0,{then:function(b){return a=b},resolve:function(){return a.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise",function(a,b){var c,d,e,f,g;return c=20,g=function(a,b){return a.existingPieces=a.existingPieces?a.existingPieces.then(function(){return b()}):b()},d=function(b,c,e,f,g,h,i){var j,k,l;try{for(j=c&&c<b.length?c:b.length,l=i;j--&&l<(b?b.length:l+1);)f(b[l],l),++l;if(b){if(!(l<b.length))return h.resolve();if(i=l,c)return"function"==typeof g&&g(),a(function(){return d(b,c,e,f,g,h,i)},e,!1)}}catch(m){return k=m,h.reject("error within chunking iterator: "+k)}},e=function(a,e,f,g,h,i){var j,k;return null==g&&(g=c),null==h&&(h=0),null==i&&(i=1),k=void 0,j=b.defer(),k=j.promise,i?void 0===a||(null!=a?a.length:void 0)<=0?(j.resolve(),k):(d(a,g,i,e,f,j,h),k):(j.reject("pause (delay) must be set from _async!"),k)},f=function(a,c,d,f,g,h){var i;return i=[],null!=a&&(null!=a?a.length:void 0)>0?e(a,function(a){return i.push(c(a))},d,f,g,h).then(function(){return i}):b.resolve(i)},{each:e,map:f,waitOrGo:g,defaultChunkSize:c}}])}.call(this),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};angular.module("google-maps.directives.api.utils".ns()).factory("BaseObject".ns(),function(){var b,c;return c=["extended","included"],b=function(){function b(){}return b.extend=function(b){var d,e,f;for(d in b)e=b[d],a.call(c,d)<0&&(this[d]=e);return null!=(f=b.extended)&&f.apply(this),this},b.include=function(b){var d,e,f;for(d in b)e=b[d],a.call(c,d)<0&&(this.prototype[d]=e);return null!=(f=b.included)&&f.apply(this),this},b}()})}.call(this),function(){angular.module("google-maps.directives.api.utils".ns()).factory("ChildEvents".ns(),function(){return{onChildCreation:function(){}}})}.call(this),function(){angular.module("google-maps.directives.api.utils".ns()).service("CtrlHandle".ns(),["$q",function(a){var b;return b={handle:function(c){return c.$on("$destroy",function(){return b.handle(c)}),c.deferred=a.defer(),{getScope:function(){return c}}},mapPromise:function(a,b){var c;return c=b.getScope(),c.deferred.promise.then(function(b){return a.map=b}),c.deferred.promise}}}])}.call(this),function(){angular.module("google-maps.directives.api.utils".ns()).service("EventsHelper".ns(),["Logger".ns(),function(){return{setEvents:function(a,b,c,d){return angular.isDefined(b.events)&&null!=b.events&&angular.isObject(b.events)?_.compact(_.map(b.events,function(e,f){var g;return d&&(g=_(d).contains(f)),b.events.hasOwnProperty(f)&&angular.isFunction(b.events[f])&&!g?google.maps.event.addListener(a,f,function(){return b.$evalAsync(e.apply(b,[a,f,c,arguments]))}):void 0})):void 0},removeEvents:function(a){return null!=a?a.forEach(function(a){return google.maps.event.removeListener(a)}):void 0}}}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("google-maps.directives.api.utils".ns()).factory("FitHelper".ns(),["BaseObject".ns(),"Logger".ns(),"_async".ns(),function(a,c,d){var e;return e=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.fit=function(a,b){var c,e;return b&&a&&a.length>0?(c=new google.maps.LatLngBounds,e=!1,d.each(a,function(){return function(a){return a?(e||(e=!0),c.extend(a.getPosition())):void 0}}(this)).then(function(){return e?b.fitBounds(c):void 0})):void 0},c}(a)}])}.call(this),function(){angular.module("google-maps.directives.api.utils".ns()).service("GmapUtil".ns(),["Logger".ns(),"$compile",function(a,b){var c,d,e,f;return d=function(a){return Array.isArray(a)&&2===a.length?a[1]:angular.isDefined(a.type)&&"Point"===a.type?a.coordinates[1]:a.latitude},e=function(a){return Array.isArray(a)&&2===a.length?a[0]:angular.isDefined(a.type)&&"Point"===a.type?a.coordinates[0]:a.longitude},c=function(a){return a?Array.isArray(a)&&2===a.length?new google.maps.LatLng(a[1],a[0]):angular.isDefined(a.type)&&"Point"===a.type?new google.maps.LatLng(a.coordinates[1],a.coordinates[0]):new google.maps.LatLng(a.latitude,a.longitude):void 0},f=function(a){if(angular.isUndefined(a))return!1;if(_.isArray(a)){if(2===a.length)return!0}else if(null!=a&&(null!=a?a.type:void 0)&&"Point"===a.type&&_.isArray(a.coordinates)&&2===a.coordinates.length)return!0;return a&&angular.isDefined((null!=a?a.latitude:void 0)&&angular.isDefined(null!=a?a.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(a,b){return a?(Array.isArray(a)&&2===a.length?(a[1]=b.lat(),a[0]=b.lng()):angular.isDefined(a.type)&&"Point"===a.type?(a.coordinates[1]=b.lat(),a.coordinates[0]=b.lng()):(a.latitude=b.lat(),a.longitude=b.lng()),a):void 0},getLabelPositionPoint:function(a){var b,c;return void 0===a?void 0:(a=/^([-\d\.]+)\s([-\d\.]+)$/.exec(a),b=parseFloat(a[1]),c=parseFloat(a[2]),null!=b&&null!=c?new google.maps.Point(b,c):void 0)},createWindowOptions:function(d,e,f,g){var h;return null!=f&&null!=g&&null!=b?(h=angular.extend({},g,{content:this.buildContent(e,g,f),position:null!=g.position?g.position:angular.isObject(d)?d.getPosition():c(e.coords)}),null!=d&&null==(null!=h?h.pixelOffset:void 0)&&(null==h.boxClass||(h.pixelOffset={height:0,width:-2})),h):g?g:(a.error("infoWindow defaults not defined"),f?void 0:a.error("infoWindow content not defined"))},buildContent:function(a,c,d){var e,f;return null!=c.content?f=c.content:null!=b?(d=d.replace(/^\s+|\s+$/g,""),e=""===d?"":b(d)(a),e.length>0&&(f=e[0])):f=d,f},defaultDelay:50,isTrue:function(a){return angular.isDefined(a)&&null!==a&&a===!0||"1"===a||"y"===a||"true"===a},isFalse:function(a){return-1!==["false","FALSE",0,"n","N","no","NO"].indexOf(a)},getCoords:c,validateCoords:f,equalCoords:function(a,b){return d(a)===d(b)&&e(a)===e(b)},validatePath:function(a){var b,c,d,e;if(c=0,angular.isUndefined(a.type)){if(!Array.isArray(a)||a.length<2)return!1;for(;c<a.length;){if(!(angular.isDefined(a[c].latitude)&&angular.isDefined(a[c].longitude)||"function"==typeof a[c].lat&&"function"==typeof a[c].lng))return!1;c++}return!0}if(angular.isUndefined(a.coordinates))return!1;if("Polygon"===a.type){if(a.coordinates[0].length<4)return!1;b=a.coordinates[0]}else if("MultiPolygon"===a.type){if(e={max:0,index:0},_.forEach(a.coordinates,function(a,b){return a[0].length>this.max?(this.max=a[0].length,this.index=b):void 0},e),d=a.coordinates[e.index],b=d[0],b.length<4)return!1}else{if("LineString"!==a.type)return!1;if(a.coordinates.length<2)return!1;b=a.coordinates}for(;c<b.length;){if(2!==b[c].length)return!1;c++}return!0},convertPathPoints:function(a){var b,c,d,e,f;if(c=0,e=new google.maps.MVCArray,angular.isUndefined(a.type))for(;c<a.length;)angular.isDefined(a[c].latitude)&&angular.isDefined(a[c].longitude)?d=new google.maps.LatLng(a[c].latitude,a[c].longitude):"function"==typeof a[c].lat&&"function"==typeof a[c].lng&&(d=a[c]),e.push(d),c++;
else for("Polygon"===a.type?b=a.coordinates[0]:"MultiPolygon"===a.type?(f={max:0,index:0},_.forEach(a.coordinates,function(a,b){return a[0].length>this.max?(this.max=a[0].length,this.index=b):void 0},f),b=a.coordinates[f.index][0]):"LineString"===a.type&&(b=a.coordinates);c<b.length;)e.push(new google.maps.LatLng(b[c][1],b[c][0])),c++;return e},extendMapBounds:function(a,b){var c,d;for(c=new google.maps.LatLngBounds,d=0;d<b.length;)c.extend(b.getAt(d)),d++;return a.fitBounds(c)},getPath:function(a,b){var c;return c=a,_.each(b.split("."),function(a){return c?c=c[a]:void 0}),c},validateBoundPoints:function(a){return angular.isUndefined(a.sw.latitude)||angular.isUndefined(a.sw.longitude)||angular.isUndefined(a.ne.latitude)||angular.isUndefined(a.ne.longitude)?!1:!0},convertBoundPoints:function(a){var b;return b=new google.maps.LatLngBounds(new google.maps.LatLng(a.sw.latitude,a.sw.longitude),new google.maps.LatLng(a.ne.latitude,a.ne.longitude))},fitMapBounds:function(a,b){return a.fitBounds(b)}}}])}.call(this),function(){angular.module("google-maps.directives.api.utils".ns()).service("IsReady".ns(),["$q","$timeout",function(a,b){var c,d,e;return c=0,e=[],d=function(){return a.all(e)},{spawn:function(){var b;return b=a.defer(),e.push(b.promise),c+=1,{instance:c,deferred:b}},promises:d,instances:function(){return c},promise:function(e){var f,g;return null==e&&(e=1),f=a.defer(),g=function(){return b(function(){return c!==e?g():f.resolve(d())})},g(),f.promise},reset:function(){return c=0,e.length=0}}}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(a){var c;return c=function(a){function c(a,b,c,d){this.scope=a,this.element=b,this.attrs=c,this.ctrls=d}return b(c,a),c}(a)}])}.call(this),function(){angular.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["$log",function(a){return{doLog:!1,info:function(b){return this.doLog?null!=a?a.info(b):console.info(b):void 0},log:function(b){return this.doLog?null!=a?a.log(b):console.log(b):void 0},error:function(b){return this.doLog?null!=a?a.error(b):console.error(b):void 0},debug:function(b){return this.doLog?null!=a?a.debug(b):console.debug(b):void 0},warn:function(b){return this.doLog?null!=a?a.warn(b):console.warn(b):void 0}}}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api.utils".ns()).factory("ModelKey".ns(),["BaseObject".ns(),"GmapUtil".ns(),function(b,d){var e;return e=function(b){function e(b){this.scope=b,this.getChanges=a(this.getChanges,this),this.getProp=a(this.getProp,this),this.setIdKey=a(this.setIdKey,this),this.modelKeyComparison=a(this.modelKeyComparison,this),e.__super__.constructor.call(this),this.defaultIdKey="id",this.idKey=void 0}return c(e,b),e.prototype.evalModelHandle=function(a,b){return void 0===a||void 0===b?void 0:"self"===b?a:d.getPath(a,b)},e.prototype.modelKeyComparison=function(a,b){var c;if(c=null!=this.scope.coords?this.scope:this.parentScope,null==c)throw"No scope or parentScope set!";return d.equalCoords(this.evalModelHandle(a,c.coords),this.evalModelHandle(b,c.coords))},e.prototype.setIdKey=function(a){return this.idKey=null!=a.idKey?a.idKey:this.defaultIdKey},e.prototype.setVal=function(a,b,c){var d;return d=this.modelOrKey(a,b),d=c,a},e.prototype.modelOrKey=function(a,b){return null!=b?"self"!==b?a[b]:a:void 0},e.prototype.getProp=function(a,b){return this.modelOrKey(b,a)},e.prototype.getChanges=function(a,b,c){var d,e,f;c&&(b=_.pick(b,c),a=_.pick(a,c)),e={},f={},d={};for(f in a)b&&b[f]===a[f]||(_.isArray(a[f])?e[f]=a[f]:_.isObject(a[f])?(d=this.getChanges(a[f],b[f]),_.isEmpty(d)||(e[f]=d)):e[f]=a[f]);return e},e}(b)}])}.call(this),function(){angular.module("google-maps.directives.api.utils".ns()).factory("ModelsWatcher".ns(),["Logger".ns(),"_async".ns(),function(a,b){return{figureOutState:function(c,d,e,f,g){var h,i,j,k;return h=[],i={},j=[],k=[],b.each(d.models,function(b){var d;return null==b[c]?a.error(" id missing for model "+b.toString()+",\ncan not use do comparison/insertion"):(i[b[c]]={},null==e[b[c]]?h.push(b):(d=e[b[c]],f(b,d.model)?void 0:k.push({model:b,child:d})))}).then(function(){return function(){return b.each(e.values(),function(b){var d;return null==b?void a.error("child undefined in ModelsWatcher."):null==b.model?void a.error("child.model undefined in ModelsWatcher."):(d=b.model[c],null==i[d]?j.push(b):void 0)})}}(this)).then(function(){return function(){return g({adds:h,removals:j,updates:k})}}(this))}}}])}.call(this),function(){angular.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q",function(a){return{defer:function(){return a.defer()},resolve:function(){var b;return b=a.defer(),b.resolve.apply(void 0,arguments),b.promise}}}])}.call(this),function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=["get","put","remove","values","keys","length","push","didValueStateChange","didKeyStateChange","slice","removeAll","allVals","allKeys","stateChanged"],window.PropMap=function(){function c(){this.removeAll=b(this.removeAll,this),this.slice=b(this.slice,this),this.push=b(this.push,this),this.keys=b(this.keys,this),this.values=b(this.values,this),this.remove=b(this.remove,this),this.put=b(this.put,this),this.stateChanged=b(this.stateChanged,this),this.get=b(this.get,this),this.length=0,this.didValueStateChange=!1,this.didKeyStateChange=!1,this.allVals=[],this.allKeys=[]}return c.prototype.get=function(a){return this[a]},c.prototype.stateChanged=function(){return this.didValueStateChange=!0,this.didKeyStateChange=!0},c.prototype.put=function(a,b){return null==this.get(a)&&this.length++,this.stateChanged(),this[a]=b},c.prototype.remove=function(a,b){var c;return null==b&&(b=!1),b&&!this.get(a)?void 0:(c=this[a],delete this[a],this.length--,this.stateChanged(),c)},c.prototype.values=function(){var b;return this.didValueStateChange?(b=[],this.keys().forEach(function(c){return function(d){return-1===_.indexOf(a,d)?b.push(c[d]):void 0}}(this)),this.didValueStateChange=!1,this.keys(),this.allVals=b):this.allVals},c.prototype.keys=function(){var b,c;return this.didKeyStateChange?(c=_.keys(this),b=[],_.each(c,function(){return function(c){return-1===_.indexOf(a,c)?b.push(c):void 0}}(this)),this.didKeyStateChange=!1,this.values(),this.allKeys=b):this.allKeys},c.prototype.push=function(a,b){return null==b&&(b="key"),this.put(a[b],a)},c.prototype.slice=function(){return this.keys().map(function(a){return function(b){return a.remove(b)}}(this))},c.prototype.removeAll=function(){return this.slice()},c}(),angular.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){return window.PropMap})}.call(this),function(){angular.module("google-maps.directives.api.utils".ns()).factory("PropertyAction".ns(),["Logger".ns(),function(){var a;return a=function(a,b){var c;return c=this,this.setIfChange=function(c,d){var e;return e=this.exp,_.isEqual(d,c||b)?void 0:a(e,c)},this.sic=this.setIfChange,this}}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api.managers".ns()).factory("ClustererMarkerManager".ns(),["Logger".ns(),"FitHelper".ns(),"PropMap".ns(),function(b,d,e){var f;return f=function(d){function f(c,d,g,h){var i;this.opt_events=h,this.checkSync=a(this.checkSync,this),this.getGMarkers=a(this.getGMarkers,this),this.fit=a(this.fit,this),this.destroy=a(this.destroy,this),this.clear=a(this.clear,this),this.draw=a(this.draw,this),this.removeMany=a(this.removeMany,this),this.remove=a(this.remove,this),this.addMany=a(this.addMany,this),this.add=a(this.add,this),f.__super__.constructor.call(this),this.type=f.type,i=this,this.opt_options=g,this.clusterer=null!=g&&void 0===d?new NgMapMarkerClusterer(c,void 0,g):null!=g&&null!=d?new NgMapMarkerClusterer(c,d,g):new NgMapMarkerClusterer(c),this.propMapGMarkers=new e,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,b.info(this)}return c(f,d),f.type="ClustererMarkerManager",f.prototype.checkKey=function(a){var b;return null==a.key?(b="gMarker.key undefined and it is REQUIRED!!",Logger.error(b)):void 0},f.prototype.add=function(a){var b;return this.checkKey(a),b=null!=this.propMapGMarkers.get(a.key),this.clusterer.addMarker(a,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(a.key,a),this.checkSync()},f.prototype.addMany=function(a){return a.forEach(function(a){return function(b){return a.add(b)}}(this))},f.prototype.remove=function(a){var b;return this.checkKey(a),b=this.propMapGMarkers.get(a.key),b&&(this.clusterer.removeMarker(a,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(a.key)),this.checkSync()},f.prototype.removeMany=function(a){return a.forEach(function(a){return function(b){return a.remove(b)}}(this))},f.prototype.draw=function(){return this.clusterer.repaint()},f.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},f.prototype.attachEvents=function(a,c){var d,e,f;if(angular.isDefined(a)&&null!=a&&angular.isObject(a)){f=[];for(e in a)d=a[e],a.hasOwnProperty(e)&&angular.isFunction(a[e])?(b.info(""+c+": Attaching event: "+e+" to clusterer"),f.push(google.maps.event.addListener(this.clusterer,e,a[e]))):f.push(void 0);return f}},f.prototype.clearEvents=function(a){var c,d,e;if(angular.isDefined(a)&&null!=a&&angular.isObject(a)){e=[];for(d in a)c=a[d],a.hasOwnProperty(d)&&angular.isFunction(a[d])?(b.info(""+optionsName+": Clearing event: "+d+" to clusterer"),e.push(google.maps.event.clearListeners(this.clusterer,d))):e.push(void 0);return e}},f.prototype.destroy=function(){return this.clearEvents(this.opt_events),this.clearEvents(this.opt_internal_events),this.clear()},f.prototype.fit=function(){return f.__super__.fit.call(this,this.getGMarkers(),this.clusterer.getMap())},f.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},f.prototype.checkSync=function(){if(this.getGMarkers().length!==this.propMapGMarkers.length)throw"GMarkers out of Sync in MarkerClusterer"},f}(d)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api.managers".ns()).factory("MarkerManager".ns(),["Logger".ns(),"FitHelper".ns(),"PropMap".ns(),function(b,d,e){var f;return f=function(f){function g(c){this.getGMarkers=a(this.getGMarkers,this),this.fit=a(this.fit,this),this.handleOptDraw=a(this.handleOptDraw,this),this.clear=a(this.clear,this),this.draw=a(this.draw,this),this.removeMany=a(this.removeMany,this),this.remove=a(this.remove,this),this.addMany=a(this.addMany,this),this.add=a(this.add,this),g.__super__.constructor.call(this),this.type=g.type,this.gMap=c,this.gMarkers=new e,this.$log=b,this.$log.info(this)}return c(g,f),g.include(d),g.type="MarkerManager",g.prototype.add=function(a,c){var d,e;if(null==c&&(c=!0),null==a.key)throw e="gMarker.key undefined and it is REQUIRED!!",b.error(e),e;return d=null!=this.gMarkers.get(a.key),d?void 0:(this.handleOptDraw(a,c,!0),this.gMarkers.put(a.key,a))},g.prototype.addMany=function(a){return a.forEach(function(a){return function(b){return a.add(b)}}(this))},g.prototype.remove=function(a,b){return null==b&&(b=!0),this.handleOptDraw(a,b,!1),this.gMarkers.get(a.key)?this.gMarkers.remove(a.key):void 0},g.prototype.removeMany=function(){return this.gMarkers.values().forEach(function(a){return function(b){return a.remove(b)}}(this))},g.prototype.draw=function(){var a;return a=[],this.gMarkers.values().forEach(function(b){return function(c){return c.isDrawn?void 0:c.doAdd?(c.setMap(b.gMap),c.isDrawn=!0):a.push(c)}}(this)),a.forEach(function(a){return function(b){return b.isDrawn=!1,a.remove(b,!0)}}(this))},g.prototype.clear=function(){return this.gMarkers.values().forEach(function(a){return a.setMap(null)}),delete this.gMarkers,this.gMarkers=new e},g.prototype.handleOptDraw=function(a,b,c){return b===!0?(a.setMap(c?this.gMap:null),a.isDrawn=!0):(a.isDrawn=!1,a.doAdd=c)},g.prototype.fit=function(){return g.__super__.fit.call(this,this.getGMarkers(),this.gMap)},g.prototype.getGMarkers=function(){return this.gMarkers.values()},g}(d)}])}.call(this),function(){angular.module("google-maps".ns()).factory("add-events".ns(),["$timeout",function(a){var b,c;return b=function(b,c,d){return google.maps.event.addListener(b,c,function(){return d.apply(this,arguments),a(function(){},!0)})},c=function(a,c,d){var e;return d?b(a,c,d):(e=[],angular.forEach(c,function(c,d){return e.push(b(a,d,c))}),function(){return angular.forEach(e,function(a){return google.maps.event.removeListener(a)}),e=null})}}])}.call(this),function(){angular.module("google-maps".ns()).factory("array-sync".ns(),["add-events".ns(),function(a){return function(b,c,d,e){var f,g,h,i,j,k,l,m,n;return i=!1,m=c.$eval(d),c["static"]||(j={set_at:function(a){var c;if(!i&&(c=b.getAt(a)))return c.lng&&c.lat?(m[a].latitude=c.lat(),m[a].longitude=c.lng()):m[a]=c},insert_at:function(a){var c;if(!i&&(c=b.getAt(a)))return c.lng&&c.lat?m.splice(a,0,{latitude:c.lat(),longitude:c.lng()}):m.splice(a,0,c)},remove_at:function(a){return i?void 0:m.splice(a,1)}},"Polygon"===m.type?f=m.coordinates[0]:"LineString"===m.type&&(f=m.coordinates),g={set_at:function(a){var c;if(!i&&(c=b.getAt(a),c&&c.lng&&c.lat))return f[a][1]=c.lat(),f[a][0]=c.lng()},insert_at:function(a){var c;if(!i&&(c=b.getAt(a),c&&c.lng&&c.lat))return f.splice(a,0,[c.lng(),c.lat()])},remove_at:function(a){return i?void 0:f.splice(a,1)}},l=a(b,angular.isUndefined(m.type)?j:g)),k=function(a){var c,d,f,g,h,j,k,l;if(i=!0,j=b,c=!1,a){for(d=0,k=j.getLength(),g=a.length,f=Math.min(k,g),h=void 0;f>d;)l=j.getAt(d),h=a[d],"function"==typeof h.equals?h.equals(l)||(j.setAt(d,h),c=!0):(l.lat()!==h.latitude||l.lng()!==h.longitude)&&(j.setAt(d,new google.maps.LatLng(h.latitude,h.longitude)),c=!0),d++;for(;g>d;)h=a[d],j.push("function"==typeof h.lat&&"function"==typeof h.lng?h:new google.maps.LatLng(h.latitude,h.longitude)),c=!0,d++;for(;k>d;)j.pop(),c=!0,d++}return i=!1,c?e(j):void 0},h=function(a){var c,d,f,g,h,j,k,l,n;if(i=!0,k=b,d=!1,a){for("Polygon"===m.type?c=a.coordinates[0]:"LineString"===m.type&&(c=a.coordinates),f=0,l=k.getLength(),h=c.length,g=Math.min(l,h),j=void 0;g>f;)n=k.getAt(f),j=c[f],(n.lat()!==j[1]||n.lng()!==j[0])&&(k.setAt(f,new google.maps.LatLng(j[1],j[0])),d=!0),f++;for(;h>f;)j=c[f],k.push(new google.maps.LatLng(j[1],j[0])),d=!0,f++;for(;l>f;)k.pop(),d=!0,f++}return i=!1,d?e(k):void 0},c["static"]||(n=angular.isUndefined(m.type)?c.$watchCollection(d,k):c.$watch(d,h,!0)),function(){return l&&(l(),l=null),n?(n(),n=null):void 0}}}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api.options.builders".ns()).service("CommonOptionsBuilder".ns(),["BaseObject".ns(),"Logger".ns(),function(b,d){var e;return e=function(b){function e(){return this.watchProps=a(this.watchProps,this),this.buildOpts=a(this.buildOpts,this),e.__super__.constructor.apply(this,arguments)}return c(e,b),e.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],e.prototype.buildOpts=function(a,b){var c,e,f,g,h,i;return null==a&&(a={}),null==b&&(b={}),this.scope?this.map?(c=_(this.scope).chain().keys().contains("model").value(),e=c?this.scope.model:this.scope,f=angular.extend(a,this.DEFAULTS,{map:this.map,strokeColor:null!=(g=e.stroke)?g.color:void 0,strokeOpacity:null!=(h=e.stroke)?h.opacity:void 0,strokeWeight:null!=(i=e.stroke)?i.weight:void 0}),angular.forEach(angular.extend(b,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0}),function(){return function(a,b){return f[b]=angular.isUndefined(e[b]||null===e[b])?a:e[b]}}(this)),f["static"]&&(f.editable=!1),f):void d.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void d.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},e.prototype.watchProps=function(a){return null==a&&(a=this.props),a.forEach(function(a){return function(b){return null!=a.attrs[b]||null!=a.attrs[null!=b?b.prop:void 0]?(null!=b?b.isColl:void 0)?a.scope.$watchCollection(b.prop,a.setMyOptions):a.scope.$watch(b,a.setMyOptions):void 0}}(this))},e}(b)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("google-maps.directives.api.options.builders".ns()).factory("PolylineOptionsBuilder".ns(),["CommonOptionsBuilder".ns(),function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.buildOpts=function(a){return c.__super__.buildOpts.call(this,{path:a},{geodesic:!1})},c}(a)}]).factory("ShapeOptionsBuilder".ns(),["CommonOptionsBuilder".ns(),function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.buildOpts=function(a,b){var d,e;return a=angular.extend(a,{fillColor:null!=(d=this.scope.fill)?d.color:void 0,fillOpacity:null!=(e=this.scope.fill)?e.opacity:void 0}),c.__super__.buildOpts.call(this,a,b)},c}(a)}]).factory("PolygonOptionsBuilder".ns(),["ShapeOptionsBuilder".ns(),function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.buildOpts=function(a){return c.__super__.buildOpts.call(this,{path:a},{geodesic:!1})},c}(a)}]).factory("RectangleOptionsBuilder".ns(),["ShapeOptionsBuilder".ns(),function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.buildOpts=function(a){return c.__super__.buildOpts.call(this,{bounds:a})},c}(a)}]).factory("CircleOptionsBuilder".ns(),["ShapeOptionsBuilder".ns(),function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.buildOpts=function(a,b){return c.__super__.buildOpts.call(this,{center:a,radius:b})},c}(a)}])}.call(this),function(){angular.module("google-maps.directives.api.options".ns()).service("MarkerOptions".ns(),["Logger".ns(),"GmapUtil".ns(),function(a,b){return _.extend(b,{createOptions:function(a,c,d,e){var f;return null==e&&(e=void 0),null==d&&(d={}),f=angular.extend({},d,{position:null!=d.position?d.position:b.getCoords(a),visible:null!=d.visible?d.visible:b.validateCoords(a)}),(null!=d.icon||null!=c)&&(f=angular.extend(f,{icon:null!=d.icon?d.icon:c})),null!=e&&(f.map=e),f},isLabel:function(a){return null!=a.labelContent||null!=a.labelAnchor||null!=a.labelClass||null!=a.labelStyle||null!=a.labelVisible?!0:!1}})}])}.call(this),function(){angular.module("google-maps.directives.api.models.child".ns()).factory("DrawFreeHandChildModel".ns(),["Logger".ns(),"$q",function(a,b){var c,d;return c=function(a,b,c){var d,e;return this.polys=b,e=new google.maps.Polyline({map:a,clickable:!1}),d=google.maps.event.addListener(a,"mousemove",function(a){return e.getPath().push(a.latLng)}),void google.maps.event.addListenerOnce(a,"mouseup",function(){var f;return google.maps.event.removeListener(d),f=e.getPath(),e.setMap(null),b.push(new google.maps.Polygon({map:a,path:f})),e=null,google.maps.event.clearListeners(a.getDiv(),"mousedown"),c()})},d=function(d){var e,f;return this.map=d,f=function(a){return function(){var b;return null!=(b=a.deferred)&&b.resolve(),a.map.setOptions(a.oldOptions)}}(this),e=function(b){return function(){return a.info("disabling map move"),b.oldOptions=d.getOptions(),b.map.setOptions({draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!1})}}(this),this.engage=function(d){return function(g){return d.polys=g,d.deferred=b.defer(),e(),a.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(d.map.getDiv(),"mousedown",function(){return c(d.map,d.polys,f)}),d.deferred.promise}}(this),this}}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api.models.child".ns()).factory("MarkerChildModel".ns(),["ModelKey".ns(),"GmapUtil".ns(),"Logger".ns(),"EventsHelper".ns(),"PropertyAction".ns(),"MarkerOptions".ns(),"IMarker".ns(),"MarkerManager".ns(),"uiGmapPromise",function(b,d,e,f,g,h,i,j,k){var l,m;return m=["coords","icon","options","fit"],l=function(b){function l(b,c,d,f,h,j,n,o,p,q){var r,s;this.model=c,this.keys=d,this.gMap=f,this.defaults=h,this.doClick=j,this.gMarkerManager=n,this.doDrawSelf=null!=o?o:!0,this.trackModel=null!=p?p:!0,this.needRedraw=null!=q?q:!1,this.internalEvents=a(this.internalEvents,this),this.setLabelOptions=a(this.setLabelOptions,this),this.setOptions=a(this.setOptions,this),this.setIcon=a(this.setIcon,this),this.setCoords=a(this.setCoords,this),this.isNotValid=a(this.isNotValid,this),this.maybeSetScopeValue=a(this.maybeSetScopeValue,this),this.createMarker=a(this.createMarker,this),this.setMyScope=a(this.setMyScope,this),this.destroy=a(this.destroy,this),this.deferred=k.defer(),_.each(this.keys,function(a){return function(b,c){return a[c+"Key"]=_.isFunction(a.keys[c])?a.keys[c]():a.keys[c]}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),l.__super__.constructor.call(this,b),this.setMyScope("all",this.model,void 0,!0),this.scope.getGMarker=function(a){return function(){return a.gMarker}}(this),this.createMarker(this.model),s=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(a){return function(b,c){var d;return b!==c?(d=a.getChanges(b,c,i.keys),_.each(d,function(d,e){return a.setMyScope(e,b,c),a.needRedraw=!0})):void 0}}(this),!0)):(r=new g(function(a){return function(c){return a.setMyScope(c,b)}}(this),!1),_.each(this.keys,function(a,c){return b.$watch(c,r.sic,!0)})),this.scope.$on("$destroy",function(a){return function(){return m(a)}}(this)),e.info(this)}var m;return c(l,b),l.include(d),l.include(f),l.include(h),m=function(a){return null!=(null!=a?a.gMarker:void 0)&&(a.removeEvents(a.externalListeners),a.removeEvents(a.internalListeners),null!=a?a.gMarker:void 0)?(a.removeFromManager&&a.gMarkerManager.remove(a.gMarker),a.gMarker.setMap(null),a.gMarker=null):void 0},l.prototype.destroy=function(a){return null==a&&(a=!0),this.removeFromManager=a,this.scope.$destroy()},l.prototype.setMyScope=function(a,b,c,d){var e;switch(null==c&&(c=void 0),null==d&&(d=!1),null==b&&(b=this.model),this.gMarker||(this.setOptions(this.scope),e=!0),a){case"all":return _.each(this.keys,function(a){return function(e,f){return a.setMyScope(f,b,c,d)}}(this));case"icon":return this.maybeSetScopeValue("icon",b,c,this.iconKey,this.evalModelHandle,d,this.setIcon);case"coords":return this.maybeSetScopeValue("coords",b,c,this.coordsKey,this.evalModelHandle,d,this.setCoords);case"options":if(!e)return this.createMarker(b,c,d)}},l.prototype.createMarker=function(a,b,c){return null==b&&(b=void 0),null==c&&(c=!1),this.maybeSetScopeValue("options",a,b,this.optionsKey,this.evalModelHandle,c,this.setOptions)},l.prototype.maybeSetScopeValue=function(a,b,c,d,e,f,g){var h,i;return null==g&&(g=void 0),void 0===c?(this.scope[a]=e(b,d),void(null!=g&&g(this.scope))):(i=e(c,d),h=e(b,d),h!==i&&(this.scope[a]=h,!f&&(null!=g&&g(this.scope),this.doDrawSelf))?this.gMarkerManager.draw():void 0)},l.prototype.isNotValid=function(a,b){var c,d;return null==b&&(b=!0),d=b?void 0===this.gMarker:!1,c=this.trackModel?!1:a.$id!==this.scope.$id,c||d},l.prototype.setCoords=function(a){return this.isNotValid(a)||null==this.gMarker?void 0:null!=this.getProp(this.coordsKey,this.model)?this.validateCoords(this.getProp(this.coordsKey,this.model))?(this.gMarker.setPosition(this.getCoords(this.getProp(this.coordsKey,this.model))),this.gMarker.setVisible(this.validateCoords(this.getProp(this.coordsKey,this.model))),this.gMarkerManager.add(this.gMarker)):void e.debug("MarkerChild does not have coords yet. They may be defined later."):this.gMarkerManager.remove(this.gMarker)},l.prototype.setIcon=function(a){return this.isNotValid(a)||null==this.gMarker?void 0:(this.gMarker.setIcon(this.getProp(this.iconKey,this.model)),this.gMarkerManager.add(this.gMarker),this.gMarker.setPosition(this.getCoords(this.getProp(this.coordsKey,this.model))),this.gMarker.setVisible(this.validateCoords(this.getProp(this.coordsKey,this.model))))},l.prototype.setOptions=function(a){var b,c,d;if(!this.isNotValid(a,!1)&&null!=a.coords)return b=this.getProp(this.coordsKey,this.model),c=this.getProp(this.iconKey,this.model),d=this.getProp(this.optionsKey,this.model),this.opts=this.createOptions(b,c,d),null!=this.gMarker&&this.isLabel(this.gMarker===this.isLabel(this.opts))?this.gMarker.setOptions(this.opts):null!=this.gMarker&&(this.gMarkerManager.remove(this.gMarker),this.gMarker=null),this.gMarker||(this.gMarker=this.isLabel(this.opts)?new MarkerWithLabel(this.setLabelOptions(this.opts)):new google.maps.Marker(this.opts)),this.externalListeners&&this.removeEvents(this.externalListeners),this.internalListeners&&this.removeEvents(this.internalListeners),this.externalListeners=this.setEvents(this.gMarker,this.scope,this.model,["dragend"]),this.internalListeners=this.setEvents(this.gMarker,{events:this.internalEvents(),$evalAsync:function(){}},this.model),null!=this.id&&(this.gMarker.key=this.id),this.gMarkerManager.add(this.gMarker),this.gMarker&&(this.gMarker.getMap()||this.gMarkerManager.type!==j.type)?this.deferred.resolve(this.gMarker):(this.gMarker||this.deferred.reject("gMarker is null"),this.gMarker.getMap()&&this.gMarkerManager.type===j.type||(e.warn("gMarker has no map yet"),this.deferred.resolve(this.gMarker))),this.model[this.fitKey]?this.gMarkerManager.fit():void 0},l.prototype.setLabelOptions=function(a){return a.labelAnchor=this.getLabelPositionPoint(a.labelAnchor),a},l.prototype.internalEvents=function(){return{dragend:function(a){return function(b,c,d,e){var f,g,h;return g=a.trackModel?a.scope.model:a.model,h=a.setCoordsFromEvent(a.modelOrKey(g,a.coordsKey),a.gMarker.getPosition()),g=a.setVal(d,a.coordsKey,h),f=a.scope.events,null!=(null!=f?f.dragend:void 0)&&f.dragend(b,c,g,e),a.scope.$apply()}}(this),click:function(a){return function(b,c,d,e){var f;return f=_.isFunction(a.clickKey)?a.clickKey:a.getProp(a.clickKey,a.model),a.doClick&&null!=f?a.scope.$evalAsync(f(b,c,a.model,e)):void 0}}(this)}},l}(b)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("google-maps.directives.api".ns()).factory("PolygonChildModel".ns(),["PolygonOptionsBuilder".ns(),"Logger".ns(),"$timeout","array-sync".ns(),"GmapUtil".ns(),"EventsHelper".ns(),function(a,c,d,e,f,g){var h;return h=function(a){function d(a,b,d,f,h){var i,j,k;return this.scope=a,this.attrs=b,this.map=d,this.defaults=f,this.model=h,this.listeners=void 0,angular.isUndefined(a.path)||null===a.path||!this.validatePath(a.path)?void c.error("polygon: no valid path attribute found"):(j=this.convertPathPoints(a.path),k=new google.maps.Polygon(this.buildOpts(j)),a.fit&&this.extendMapBounds(this.map,j),!a["static"]&&angular.isDefined(a.editable)&&a.$watch("editable",function(a,b){return a!==b?k.setEditable(a):void 0}),angular.isDefined(a.draggable)&&a.$watch("draggable",function(a,b){return a!==b?k.setDraggable(a):void 0}),angular.isDefined(a.visible)&&a.$watch("visible",function(a,b){return a!==b?k.setVisible(a):void 0}),angular.isDefined(a.geodesic)&&a.$watch("geodesic",function(a){return function(b,c){return b!==c?k.setOptions(a.buildOpts(k.getPath())):void 0}}(this)),angular.isDefined(a.stroke)&&angular.isDefined(a.stroke.opacity)&&a.$watch("stroke.opacity",function(a){return function(){return k.setOptions(a.buildOpts(k.getPath()))}}(this)),angular.isDefined(a.stroke)&&angular.isDefined(a.stroke.weight)&&a.$watch("stroke.weight",function(a){return function(b,c){return b!==c?k.setOptions(a.buildOpts(k.getPath())):void 0}}(this)),angular.isDefined(a.stroke)&&angular.isDefined(a.stroke.color)&&a.$watch("stroke.color",function(a){return function(b,c){return b!==c?k.setOptions(a.buildOpts(k.getPath())):void 0}}(this)),angular.isDefined(a.fill)&&angular.isDefined(a.fill.color)&&a.$watch("fill.color",function(a){return function(b,c){return b!==c?k.setOptions(a.buildOpts(k.getPath())):void 0}}(this)),angular.isDefined(a.fill)&&angular.isDefined(a.fill.opacity)&&a.$watch("fill.opacity",function(a){return function(b,c){return b!==c?k.setOptions(a.buildOpts(k.getPath())):void 0}}(this)),angular.isDefined(a.zIndex)&&a.$watch("zIndex",function(a){return function(b,c){return b!==c?k.setOptions(a.buildOpts(k.getPath())):void 0}}(this)),angular.isDefined(a.events)&&null!==a.events&&angular.isObject(a.events)&&(this.listeners=g.setEvents(k,a,a)),i=e(k.getPath(),a,"path",function(b){return function(c){return a.fit?b.extendMapBounds(b.map,c):void 0}}(this)),void a.$on("$destroy",function(a){return function(){return k.setMap(null),a.removeEvents(a.listeners),i?(i(),i=null):void 0}}(this)))}return b(d,a),d.include(f),d.include(g),d}(a)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api".ns()).factory("PolylineChildModel".ns(),["PolylineOptionsBuilder".ns(),"Logger".ns(),"$timeout","array-sync".ns(),"GmapUtil".ns(),"EventsHelper".ns(),function(b,d,e,f,g,h){var i;return i=function(b){function e(b,c,e,g,h){var i;this.scope=b,this.attrs=c,this.map=e,this.defaults=g,this.model=h,this.clean=a(this.clean,this),i=function(a){return function(){var b;return b=a.convertPathPoints(a.scope.path),null!=a.polyline&&a.clean(),b.length>0&&(a.polyline=new google.maps.Polyline(a.buildOpts(b))),a.polyline?(a.scope.fit&&a.extendMapBounds(e,b),f(a.polyline.getPath(),a.scope,"path",function(b){return a.scope.fit?a.extendMapBounds(e,b):void 0}),a.listeners=a.model?a.setEvents(a.polyline,a.scope,a.model):a.setEvents(a.polyline,a.scope,a.scope)):void 0}}(this),i(),b.$watch("path",function(a){return function(b,c){return _.isEqual(b,c)&&a.polyline?void 0:i()}}(this)),!b["static"]&&angular.isDefined(b.editable)&&b.$watch("editable",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.polyline)?d.setEditable(b):void 0}}(this)),angular.isDefined(b.draggable)&&b.$watch("draggable",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.polyline)?d.setDraggable(b):void 0}}(this)),angular.isDefined(b.visible)&&b.$watch("visible",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.polyline)?d.setVisible(b):void 0
}}(this)),angular.isDefined(b.geodesic)&&b.$watch("geodesic",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.polyline)?d.setOptions(a.buildOpts(a.polyline.getPath())):void 0}}(this)),angular.isDefined(b.stroke)&&angular.isDefined(b.stroke.weight)&&b.$watch("stroke.weight",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.polyline)?d.setOptions(a.buildOpts(a.polyline.getPath())):void 0}}(this)),angular.isDefined(b.stroke)&&angular.isDefined(b.stroke.color)&&b.$watch("stroke.color",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.polyline)?d.setOptions(a.buildOpts(a.polyline.getPath())):void 0}}(this)),angular.isDefined(b.stroke)&&angular.isDefined(b.stroke.opacity)&&b.$watch("stroke.opacity",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.polyline)?d.setOptions(a.buildOpts(a.polyline.getPath())):void 0}}(this)),angular.isDefined(b.icons)&&b.$watch("icons",function(a){return function(b,c){var d;return b!==c&&null!=(d=a.polyline)?d.setOptions(a.buildOpts(a.polyline.getPath())):void 0}}(this)),b.$on("$destroy",function(a){return function(){return a.clean(),a.scope=null}}(this)),d.info(this)}return c(e,b),e.include(g),e.include(h),e.prototype.clean=function(){var a,b;return this.removeEvents(this.listeners),null!=(b=this.polyline)&&b.setMap(null),this.polyline=null,a?(a(),a=null):void 0},e.prototype.destroy=function(){return this.scope.$destroy()},e}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api.models.child".ns()).factory("WindowChildModel".ns(),["BaseObject".ns(),"GmapUtil".ns(),"Logger".ns(),"$compile","$http","$templateCache",function(b,d,e,f,g,h){var i;return i=function(b){function i(b,c,d,f,g,h,i,j,k){this.model=b,this.scope=c,this.opts=d,this.isIconVisibleOnClick=f,this.mapCtrl=g,this.markerScope=h,this.element=i,this.needToManualDestroy=null!=j?j:!1,this.markerIsVisibleAfterWindowClose=null!=k?k:!0,this.destroy=a(this.destroy,this),this.remove=a(this.remove,this),this.getLatestPosition=a(this.getLatestPosition,this),this.hideWindow=a(this.hideWindow,this),this.showWindow=a(this.showWindow,this),this.handleClick=a(this.handleClick,this),this.watchOptions=a(this.watchOptions,this),this.watchCoords=a(this.watchCoords,this),this.createGWin=a(this.createGWin,this),this.watchElement=a(this.watchElement,this),this.watchAndDoShow=a(this.watchAndDoShow,this),this.doShow=a(this.doShow,this),this.getGmarker=function(){var a,b;return null!=(null!=(a=this.markerScope)?a.getGMarker:void 0)&&null!=(b=this.markerScope)?b.getGMarker():void 0},this.googleMapsHandles=[],this.createGWin(),null!=this.getGmarker()&&this.getGmarker().setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(a){return function(){return a.destroy()}}(this)),e.info(this)}return c(i,b),i.include(d),i.prototype.doShow=function(){return this.scope.show?this.showWindow():this.hideWindow()},i.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},i.prototype.watchElement=function(){return this.scope.$watch(function(a){return function(){var b;if(a.element||a.html)return a.html!==a.element.html()&&a.gWin?(null!=(b=a.opts)&&(b.content=void 0),a.remove(),a.createGWin()):void 0}}(this))},i.prototype.createGWin=function(){var a,b,c,d;return null==this.gWin&&(a={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),a=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),b=this.scope.options?this.scope.options:a,this.opts=this.createWindowOptions(this.getGmarker(),this.markerScope||this.scope,this.html,b)),null==this.opts||this.gWin?void 0:(this.gWin=this.opts.boxClass&&window.InfoBox&&"function"==typeof window.InfoBox?new window.InfoBox(this.opts):new google.maps.InfoWindow(this.opts),this.handleClick(null!=(c=this.scope)&&null!=(d=c.options)?d.forceClick:void 0),this.doShow(),this.googleMapsHandles.push(google.maps.event.addListener(this.gWin,"closeclick",function(a){return function(){return a.getGmarker()&&(a.getGmarker().setAnimation(a.oldMarkerAnimation),a.markerIsVisibleAfterWindowClose&&_.delay(function(){return a.getGmarker().setVisible(!1),a.getGmarker().setVisible(a.markerIsVisibleAfterWindowClose)},250)),a.gWin.isOpen(!1),a.model.show=!1,null!=a.scope.closeClick?a.scope.$apply(a.scope.closeClick()):a.scope.$apply()}}(this))))},i.prototype.watchCoords=function(){var a;return a=null!=this.markerScope?this.markerScope:this.scope,a.$watch("coords",function(a){return function(b,c){var d;if(b!==c){if(null==b)a.hideWindow();else if(!a.validateCoords(b))return void e.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(a.model));if(d=a.getCoords(b),a.gWin.setPosition(d),a.opts)return a.opts.position=d}}}(this),!0)},i.prototype.watchOptions=function(){return this.scope.$watch("options",function(a){return function(b,c){if(b!==c&&(a.opts=b,null!=a.gWin)){if(a.gWin.setOptions(a.opts),null!=a.opts.visible&&a.opts.visible)return a.showWindow();if(null!=a.opts.visible)return a.hideWindow()}}}(this),!0)},i.prototype.handleClick=function(a){var b;if(null!=this.gWin)return b=function(a){return function(){var b,c,d;return null==a.gWin&&a.createGWin(),(b=null!=a.scope.coords?null!=(c=a.gWin)?c.getPosition():void 0:null!=(d=a.getGmarker())?d.getPosition():void 0)?(null!=a.gWin&&(a.gWin.setPosition(b),a.opts&&(a.opts.position=b),a.showWindow()),null!=a.getGmarker()?(a.initialMarkerVisibility=a.getGmarker().getVisible(),a.oldMarkerAnimation=a.getGmarker().getAnimation(),a.getGmarker().setVisible(a.isIconVisibleOnClick)):void 0):void 0}}(this),a&&b(),this.getGmarker()?this.googleMapsHandles.push(google.maps.event.addListener(this.getGmarker(),"click",b)):void 0},i.prototype.showWindow=function(){var a,b;return null==this.gWin||(this.scope.templateUrl?g.get(this.scope.templateUrl,{cache:h}).then(function(a){return function(b){var c,d;return d=a.scope.$new(),angular.isDefined(a.scope.templateParameter)&&(d.parameter=a.scope.templateParameter),c=f(b.data)(d),a.gWin.setContent(c[0])}}(this)):this.scope.template&&(b=this.scope.$new(),angular.isDefined(this.scope.templateParameter)&&(b.parameter=this.scope.templateParameter),a=f(this.scope.template)(b),this.gWin.setContent(a[0])),this.gWin.isOpen())?void 0:(this.gWin.open(this.mapCtrl,this.getGmarker()?this.getGmarker():void 0),this.model.show=this.gWin.isOpen())},i.prototype.hideWindow=function(){return null!=this.gWin&&this.gWin.isOpen()?this.gWin.close():void 0},i.prototype.getLatestPosition=function(a){return null==this.gWin||null==this.getGmarker()||a?a?this.gWin.setPosition(a):void 0:this.gWin.setPosition(this.getGmarker().getPosition())},i.prototype.remove=function(){return this.hideWindow(),_.each(this.googleMapsHandles,function(a){return google.maps.event.removeListener(a)}),this.googleMapsHandles.length=0,delete this.gWin,delete this.opts},i.prototype.destroy=function(a){var b,c;return null==a&&(a=!1),this.remove(),null!=this.scope&&(null!=(c=this.scope)?c.$$destroyed:void 0)&&(this.needToManualDestroy||a)&&this.scope.$destroy(),b=void 0},i}(b)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("google-maps.directives.api.models.parent".ns()).factory("CircleParentModel".ns(),["Logger".ns(),"$timeout","GmapUtil".ns(),"EventsHelper".ns(),"CircleOptionsBuilder".ns(),function(a,c,d,e,f){var g;return g=function(c){function f(b,c,e,f,g){var h,i;this.scope=b,this.attrs=e,this.map=f,this.DEFAULTS=g,h=new google.maps.Circle(this.buildOpts(d.getCoords(b.center),b.radius)),this.setMyOptions=function(a){return function(c,e){return _.isEqual(c,e)?void 0:h.setOptions(a.buildOpts(d.getCoords(b.center),b.radius))}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius"]),this.watchProps(),i=this.setEvents(h,b,b),google.maps.event.addListener(h,"radius_changed",function(){return b.$evalAsync(function(){return b.radius=h.getRadius()})}),google.maps.event.addListener(h,"center_changed",function(){return b.$evalAsync(function(){return angular.isDefined(b.center.type)?(b.center.coordinates[1]=h.getCenter().lat(),b.center.coordinates[0]=h.getCenter().lng()):(b.center.latitude=h.getCenter().lat(),b.center.longitude=h.getCenter().lng())})}),b.$on("$destroy",function(a){return function(){return a.removeEvents(i),h.setMap(null)}}(this)),a.info(this)}return b(f,c),f.include(d),f.include(e),f}(f)}])}.call(this),function(){angular.module("google-maps.directives.api.models.parent".ns()).factory("DrawingManagerParentModel".ns(),["Logger".ns(),"$timeout",function(){var a;return a=function(){function a(a,b,c,d){var e;this.scope=a,this.attrs=c,this.map=d,e=new google.maps.drawing.DrawingManager(this.scope.options),e.setMap(this.map),null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return function(){return e}}(this)),!this.scope["static"]&&this.scope.options&&this.scope.$watch("options",function(){return function(a){return null!=e?e.setOptions(a):void 0}}(this),!0),a.$on("$destroy",function(){return function(){return e.setMap(null),e=null}}(this))}return a}()}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(b,d){var e;return e=function(b){function e(b,c,f,g){if(this.scope=b,this.element=c,this.attrs=f,this.map=g,this.onDestroy=a(this.onDestroy,this),this.onWatch=a(this.onWatch,this),this.watch=a(this.watch,this),this.validateScope=a(this.validateScope,this),e.__super__.constructor.call(this,this.scope),this.$log=d,!this.validateScope(b))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=angular.isDefined(f.click),null!=b.options&&(this.DEFAULTS=b.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),b.$on("$destroy",function(a){return function(){return a.onDestroy(b)}}(this))}return c(e,b),e.prototype.DEFAULTS={},e.prototype.validateScope=function(a){var b;return null==a?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(b=null!=a.coords,b?b:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},e.prototype.watch=function(a,b,c){return null==c&&(c=!0),b.$watch(a,function(c){return function(d,e){return _.isEqual(d,e)?void 0:c.onWatch(a,b,d,e)}}(this),c)},e.prototype.onWatch=function(){},e.prototype.onDestroy=function(){throw new String("OnDestroy Not Implemented!!")},e}(b)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("google-maps.directives.api.models.parent".ns()).factory("IWindowParentModel".ns(),["ModelKey".ns(),"GmapUtil".ns(),"Logger".ns(),function(a,c,d){var e;return e=function(a){function e(a,b,c,f,g,h,i,j){e.__super__.constructor.call(this,a),this.$log=d,this.$timeout=g,this.$compile=h,this.$http=i,this.$templateCache=j,this.DEFAULTS={},null!=a.options&&(this.DEFAULTS=a.options)}return b(e,a),e.include(c),e}(a)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api.models.parent".ns()).factory("LayerParentModel".ns(),["BaseObject".ns(),"Logger".ns(),"$timeout",function(b,d){var e;return e=function(b){function e(b,c,e,f,g,h){return this.scope=b,this.element=c,this.attrs=e,this.gMap=f,this.onLayerCreated=null!=g?g:void 0,this.$log=null!=h?h:d,this.createGoogleLayer=a(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,angular.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.layer.setMap(this.gMap),this.scope.$watch("show",function(a){return function(b,c){return b!==c?(a.doShow=b,a.layer.setMap(b?a.gMap:null)):void 0}}(this),!0),this.scope.$watch("options",function(a){return function(b,c){return b!==c?(a.layer.setMap(null),a.layer=null,a.createGoogleLayer()):void 0}}(this),!0),void this.scope.$on("$destroy",function(a){return function(){return a.layer.setMap(null)}}(this)))}return c(e,b),e.prototype.createGoogleLayer=function(){var a;return this.layer=null==this.attrs.options?void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.layer&&null!=this.onLayerCreated&&(a=this.onLayerCreated(this.scope,this.layer))?a(this.layer):void 0},e}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api.models.parent".ns()).factory("MapTypeParentModel".ns(),["BaseObject".ns(),"Logger".ns(),"$timeout",function(b,d){var e;return e=function(b){function e(b,c,e,f,g){return this.scope=b,this.element=c,this.attrs=e,this.gMap=f,this.$log=null!=g?g:d,this.hideOverlay=a(this.hideOverlay,this),this.showOverlay=a(this.showOverlay,this),this.refreshMapType=a(this.refreshMapType,this),this.createMapType=a(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),angular.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(a){return function(b,c){return b!==c?(a.doShow=b,b?a.showOverlay():a.hideOverlay()):void 0}}(this),!0),this.scope.$watch("options",function(a){return function(b,c){return _.isEqual(b,c)?void 0:a.refreshMapType()}}(this),!0),angular.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(a){return function(b,c){return _.isEqual(b,c)?void 0:a.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(a){return function(){return a.hideOverlay(),a.mapType=null}}(this)))}return c(e,b),e.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),angular.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},e.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},e.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},e.prototype.hideOverlay=function(){var a;return a=!1,this.gMap.overlayMapTypes.forEach(function(b){return function(c,d){a||c.layerId!==b.id||(a=!0,b.gMap.overlayMapTypes.removeAt(d))}}(this))},e}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil",function(b,d,e,f,g,h,i,j,k,l,m){var n;return n=function(b){function j(b,c,d,f){this.onDestroy=a(this.onDestroy,this),this.newChildMarker=a(this.newChildMarker,this),this.updateChild=a(this.updateChild,this),this.pieceMeal=a(this.pieceMeal,this),this.reBuildMarkers=a(this.reBuildMarkers,this),this.createMarkersFromScratch=a(this.createMarkersFromScratch,this),this.validateScope=a(this.validateScope,this),this.onWatch=a(this.onWatch,this);var g;j.__super__.constructor.call(this,b,c,d,f),g=this,this.scope.markerModels=new e,this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(b),this.scope.$watch("doRebuildAll",function(a){return function(b,c){return b!==c?a.doRebuildAll=b:void 0}}(this)),this.watch("models",b,!this.isTrue(d.modelsbyref)),this.watch("doCluster",b),this.watch("clusterOptions",b),this.watch("clusterEvents",b),this.watch("fit",b),this.watch("idKey",b),this.gMarkerManager=void 0,this.createMarkersFromScratch(b)}return c(j,b),j.include(m),j.include(d),j.prototype.onWatch=function(a,b,c,d){return"idKey"===a&&c!==d&&(this.idKey=c),this.doRebuildAll?this.reBuildMarkers(b):this.pieceMeal(b)},j.prototype.validateScope=function(a){var b;return b=angular.isUndefined(a.models)||void 0===a.models,b&&this.$log.error(this.constructor.name+": no valid models attribute found"),j.__super__.validateScope.call(this,a)||b},j.prototype.createMarkersFromScratch=function(a){return a.doCluster?(a.clusterEvents&&(this.clusterInternalOptions=_.once(function(b){return function(){var c,d,e,f;return c=b,b.origClusterEvents?void 0:(b.origClusterEvents={click:null!=(d=a.clusterEvents)?d.click:void 0,mouseout:null!=(e=a.clusterEvents)?e.mouseout:void 0,mouseover:null!=(f=a.clusterEvents)?f.mouseover:void 0},_.extend(a.clusterEvents,{click:function(a){return c.maybeExecMappedEvent(a,"click")},mouseout:function(a){return c.maybeExecMappedEvent(a,"mouseout")},mouseover:function(a){return c.maybeExecMappedEvent(a,"mouseover")}}))}}(this))()),a.clusterOptions||a.clusterEvents?void 0===this.gMarkerManager?this.gMarkerManager=new h(this.map,void 0,a.clusterOptions,this.clusterInternalOptions):this.gMarkerManager.opt_options!==a.clusterOptions&&(this.gMarkerManager=new h(this.map,void 0,a.clusterOptions,this.clusterInternalOptions)):this.gMarkerManager=new h(this.map)):this.gMarkerManager=new i(this.map),g.waitOrGo(this,function(b){return function(){return g.each(a.models,function(c){return b.newChildMarker(c,a)},!1).then(function(){return b.gMarkerManager.draw(),a.fit?b.gMarkerManager.fit():void 0})}}(this)).then(function(a){return function(){return a.existingPieces=void 0}}(this))},j.prototype.reBuildMarkers=function(a){var b;if(a.doRebuild||void 0===a.doRebuild)return(null!=(b=this.scope.markerModels)?b.length:void 0)&&this.onDestroy(a),this.createMarkersFromScratch(a)},j.prototype.pieceMeal=function(a){var b;return b=null!=this.existingPieces?!1:g.defaultChunkSize,null!=this.scope.models&&this.scope.models.length>0&&this.scope.markerModels.length>0?this.figureOutState(this.idKey,a,this.scope.markerModels,this.modelKeyComparison,function(c){return function(d){var e;return e=d,g.waitOrGo(c,function(){return g.each(e.removals,function(a){return null!=a?(null!=a.destroy&&a.destroy(),c.scope.markerModels.remove(a.id)):void 0},b).then(function(){return g.each(e.adds,function(b){return c.newChildMarker(b,a)},b)}).then(function(){return g.each(e.updates,function(a){return c.updateChild(a.child,a.model)},b)}).then(function(){return(e.adds.length>0||e.removals.length>0||e.updates.length>0)&&(c.gMarkerManager.draw(),a.markerModels=c.scope.markerModels,a.fit)?c.gMarkerManager.fit():void 0})}).then(function(){return c.existingPieces=void 0})}}(this)):this.reBuildMarkers(a)},j.prototype.updateChild=function(a,b){return null==b[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):a.setMyScope(b,a.model,!1)},j.prototype.newChildMarker=function(a,b){var c,d,e,g;return null==a[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",c,"markers",this.scope.markerModels),d=b.$new(!0),d.events=b.events,g={},_.each(k.scopeKeys,function(a,c){return g[c]=b[c]}),c=new f(d,a,g,this.map,this.DEFAULTS,this.doClick,this.gMarkerManager,e=!1),this.scope.markerModels.put(a[this.idKey],c),c)},j.prototype.onDestroy=function(){return g.waitOrGo(this,function(a){return function(){return _.each(a.scope.markerModels.values(),function(a){return null!=a?a.destroy(!1):void 0}),delete a.scope.markerModels,null!=a.gMarkerManager&&a.gMarkerManager.clear(),a.scope.markerModels=new e,l.resolve()}}(this))},j.prototype.maybeExecMappedEvent=function(a,b){var c,d;return _.isFunction(null!=(d=this.scope.clusterEvents)?d[b]:void 0)&&(c=this.mapClusterToMarkerModels(a),this.origClusterEvents[b])?this.origClusterEvents[b](c.cluster,c.mapped):void 0},j.prototype.mapClusterToMarkerModels=function(a){var b,c;return b=a.getMarkers().values(),c=b.map(function(a){return function(b){return a.scope.markerModels[b.key].model}}(this)),{cluster:a,mapped:c}},j}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapPolylinesParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmapPolylineChildModel","uiGmap_async",function(b,d,e,f,g,h,i){var j;return j=function(b){function e(b,c,f,h,i){var j;this.scope=b,this.element=c,this.attrs=f,this.gMap=h,this.defaults=i,this.modelKeyComparison=a(this.modelKeyComparison,this),this.setChildScope=a(this.setChildScope,this),this.createChild=a(this.createChild,this),this.pieceMeal=a(this.pieceMeal,this),this.createAllNew=a(this.createAllNew,this),this.watchIdKey=a(this.watchIdKey,this),this.createChildScopes=a(this.createChildScopes,this),this.watchOurScope=a(this.watchOurScope,this),this.watchDestroy=a(this.watchDestroy,this),this.rebuildAll=a(this.rebuildAll,this),this.doINeedToWipe=a(this.doINeedToWipe,this),this.watchModels=a(this.watchModels,this),this.watch=a(this.watch,this),e.__super__.constructor.call(this,b),j=this,this.$log=d,this.plurals=new g,this.scopePropNames=["path","stroke","clickable","draggable","editable","geodesic","icons","visible"],_.each(this.scopePropNames,function(a){return function(b){return a[b+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.watchOurScope(b),this.createChildScopes()}return c(e,b),e.include(f),e.prototype.watch=function(a,b,c){return a.$watch(b,function(a){return function(d,e){return d!==e?(a[c]="function"==typeof d?d():d,i.waitOrGo(a,function(){return i.each(_.values(a.plurals),function(d){return d.scope[b]="self"===a[c]?d:d[a[c]]})})):void 0}}(this))},e.prototype.watchModels=function(a){return a.$watch("models",function(b){return function(c,d){return _.isEqual(c,d)?void 0:b.doINeedToWipe(c)?b.rebuildAll(a,!0,!0):b.createChildScopes(!1)}}(this),!0)},e.prototype.doINeedToWipe=function(a){var b;return b=null!=a?0===a.length:!0,this.plurals.length>0&&b},e.prototype.rebuildAll=function(a,b,c){return i.waitOrGo(this,function(a){return function(){return i.each(a.plurals.values(),function(a){return a.destroy()}).then(function(){return c&&delete a.plurals,a.plurals=new g,b?a.createChildScopes():void 0})}}(this))},e.prototype.watchDestroy=function(a){return a.$on("$destroy",function(b){return function(){return b.rebuildAll(a,!1,!0)}}(this))},e.prototype.watchOurScope=function(a){return _.each(this.scopePropNames,function(b){return function(c){var d;return d=c+"Key",b[d]="function"==typeof a[c]?a[c]():a[c],b.watch(a,c,d)}}(this))},e.prototype.createChildScopes=function(a){return null==a&&(a=!0),angular.isUndefined(this.scope.models)?void this.$log.error("No models to create polylines from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),a?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},e.prototype.watchIdKey=function(a){return this.setIdKey(a),a.$watch("idKey",function(b){return function(c,d){return c!==d&&null==c?(b.idKey=c,b.rebuildAll(a,!0,!0)):void 0}}(this))},e.prototype.createAllNew=function(a,b){return null==b&&(b=!1),this.models=a.models,this.firstTime&&(this.watchModels(a),this.watchDestroy(a)),i.waitOrGo(this,function(b){return function(){return i.each(a.models,function(a){return b.createChild(a,b.gMap)})}}(this)).then(function(a){return function(){return a.firstTime=!1,a.existingPieces=void 0}}(this))},e.prototype.pieceMeal=function(a,b){var c;return null==b&&(b=!0),c=null!=this.existingPieces?!1:i.defaultChunkSize,this.models=a.models,null!=a&&null!=a.models&&a.models.length>0&&this.plurals.length>0?this.figureOutState(this.idKey,a,this.plurals,this.modelKeyComparison,function(a){return function(b){var c;return c=b,i.waitOrGo(a,function(){return i.each(c.removals,function(b){var c;return c=a.plurals[b],null!=c?(c.destroy(),a.plurals.remove(b)):void 0}).then(function(){return i.each(c.adds,function(b){return a.createChild(b,a.gMap)})}).then(function(){return a.existingPieces=void 0})})}}(this)):this.rebuildAll(this.scope,!0,!0)},e.prototype.createChild=function(a,b){var c,d;return d=this.scope.$new(!1),this.setChildScope(d,a),d.$watch("model",function(a){return function(b,c){return b!==c?a.setChildScope(d,b):void 0}}(this),!0),d["static"]=this.scope["static"],c=new h(d,this.attrs,b,this.defaults,a),null==a[this.idKey]?void this.$log.error("Polyline model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(a[this.idKey],c),c)},e.prototype.setChildScope=function(a,b){return _.each(this.scopePropNames,function(c){return function(d){var e,f;return e=d+"Key",f="self"===c[e]?b:b[c[e]],f!==a[d]?a[d]=f:void 0}}(this)),a.model=b},e.prototype.modelKeyComparison=function(a,b){return _.isEqual(this.evalModelHandle(a,this.scope.path),this.evalModelHandle(b,this.scope.path))},e}(e)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("google-maps.directives.api.models.parent".ns()).factory("RectangleParentModel".ns(),["Logger".ns(),"GmapUtil".ns(),"EventsHelper".ns(),"RectangleOptionsBuilder".ns(),function(a,c,d,e){var f;return f=function(e){function f(b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;this.scope=b,this.attrs=d,this.map=e,this.DEFAULTS=f,g=void 0,j=!1,n=[],m=void 0,k=function(a){return function(){return a.isTrue(d.fit)?a.fitMapBounds(a.map,g):void 0}}(this),i=function(c){return function(){var d,e;return null!=b.bounds&&null!=(null!=(d=b.bounds)?d.sw:void 0)&&null!=(null!=(e=b.bounds)?e.ne:void 0)&&c.validateBoundPoints(b.bounds)?(g=c.convertBoundPoints(b.bounds),a.info("new new bounds created: "+o)):null!=b.bounds.getNorthEast&&null!=b.bounds.getSouthWest?g=b.bounds:"undefined"!=typeof bound&&null!==bound?a.error("Invalid bounds for newValue: "+JSON.stringify(b.bounds)):void 0}}(this),i(),o=new google.maps.Rectangle(this.buildOpts(g)),a.info("rectangle created: "+o),p=!1,q=function(){return function(){var a,c,d;return a=o.getBounds(),c=a.getNorthEast(),d=a.getSouthWest(),p?void 0:b.$evalAsync(function(b){return null!=b.bounds&&null!=b.bounds.sw&&null!=b.bounds.ne&&(b.bounds.ne={latitude:c.lat(),longitude:c.lng()},b.bounds.sw={latitude:d.lat(),longitude:d.lng()}),null!=b.bounds.getNorthEast&&null!=b.bounds.getSouthWest?b.bounds=a:void 0})}}(this),l=function(a){return function(){return k(),a.removeEvents(n),n.push(google.maps.event.addListener(o,"dragstart",function(){return j=!0})),n.push(google.maps.event.addListener(o,"dragend",function(){return j=!1,q()})),n.push(google.maps.event.addListener(o,"bounds_changed",function(){return j?void 0:q()}))}}(this),h=function(a){return function(){return a.removeEvents(n),null!=m&&a.removeEvents(m),o.setMap(null)}}(this),null!=g&&l(),b.$watch("bounds",function(a,b){var c;if(!(_.isEqual(a,b)&&null!=g||j))return p=!0,null==a?void h():(null==g?c=!0:k(),i(),o.setBounds(g),p=!1,c&&null!=g?l():void 0)},!0),this.setMyOptions=function(a){return function(b,c){return _.isEqual(b,c)||null==g||null==b?void 0:o.setOptions(a.buildOpts(g))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=d.events&&(m=this.setEvents(o,b,b),b.$watch("events",function(a){return function(c,d){return _.isEqual(c,d)?void 0:(null!=m&&a.removeEvents(m),m=a.setEvents(o,b,b))}}(this))),b.$on("$destroy",function(){return function(){return h()}}(this)),a.info(this)}return b(f,e),f.include(c),f.include(d),f}(e)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api.models.parent".ns()).factory("SearchBoxParentModel".ns(),["BaseObject".ns(),"Logger".ns(),"EventsHelper".ns(),"$timeout","$http","$templateCache",function(b,d,e){var f;return f=function(b){function f(b,c,e,f,g,h,i){var j;return this.scope=b,this.element=c,this.attrs=e,this.gMap=f,this.ctrlPosition=g,this.template=h,this.$log=null!=i?i:d,this.getBounds=a(this.getBounds,this),this.setBounds=a(this.setBounds,this),this.createSearchBox=a(this.createSearchBox,this),this.addToParentDiv=a(this.addToParentDiv,this),this.addAsMapControl=a(this.addAsMapControl,this),this.init=a(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(j=angular.element("<div></div>"),j.append(this.template),this.input=j.find("input")[0],void this.init())}return c(f,b),f.include(e),f.prototype.init=function(){return this.createSearchBox(),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.listener=google.maps.event.addListener(this.searchBox,"places_changed",function(a){return function(){return a.places=a.searchBox.getPlaces()}}(this)),this.listeners=this.setEvents(this.searchBox,this.scope,this.scope),this.$log.info(this),this.scope.$watch("options",function(a){return function(b){return angular.isObject(b)&&null!=b.bounds?a.setBounds(b.bounds):void 0}}(this),!0),this.scope.$on("$destroy",function(a){return function(){return a.searchBox=null}}(this))},f.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},f.prototype.addToParentDiv=function(){return this.parentDiv=angular.element(document.getElementById(this.scope.parentdiv)),this.parentDiv.append(this.input)
},f.prototype.createSearchBox=function(){return this.searchBox=new google.maps.places.SearchBox(this.input,this.scope.options)},f.prototype.setBounds=function(a){if(angular.isUndefined(a.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(a.isEmpty()===!1&&null!=this.searchBox)return this.searchBox.setBounds(a)},f.prototype.getBounds=function(){return this.searchBox.getBounds()},f}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api.models.parent".ns()).factory("WindowsParentModel".ns(),["IWindowParentModel".ns(),"ModelsWatcher".ns(),"PropMap".ns(),"WindowChildModel".ns(),"Linked".ns(),"_async".ns(),"Logger".ns(),"$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise",function(b,d,e,f,g,h,i,j,k,l,m,n,o){var p;return p=function(b){function p(b,c,d,f,h,i){var n;this.gMap=h,this.markersScope=i,this.interpolateContent=a(this.interpolateContent,this),this.setChildScope=a(this.setChildScope,this),this.createWindow=a(this.createWindow,this),this.setContentKeys=a(this.setContentKeys,this),this.pieceMealWindows=a(this.pieceMealWindows,this),this.createAllNewWindows=a(this.createAllNewWindows,this),this.watchIdKey=a(this.watchIdKey,this),this.createChildScopesWindows=a(this.createChildScopesWindows,this),this.watchOurScope=a(this.watchOurScope,this),this.watchDestroy=a(this.watchDestroy,this),this.rebuildAll=a(this.rebuildAll,this),this.doINeedToWipe=a(this.doINeedToWipe,this),this.watchModels=a(this.watchModels,this),this.go=a(this.go,this),p.__super__.constructor.call(this,b,c,d,f,j,k,l,m),n=this,this.windows=new e,this.scopePropNames=["coords","template","templateUrl","templateParameter","isIconVisibleOnClick","closeClick","options","show"],_.each(this.scopePropNames,function(a){return function(b){return a[b+"Key"]=void 0}}(this)),this.linked=new g(b,c,d,f),this.models=void 0,this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(n),this.parentScope=void 0,this.go(b)}return c(p,b),p.include(d),p.prototype.go=function(a){return this.watchOurScope(a),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,a.$watch("doRebuildAll",function(a){return function(b,c){return b!==c?a.doRebuildAll=b:void 0}}(this)),this.createChildScopesWindows()},p.prototype.watchModels=function(a){return a.$watch("models",function(b){return function(c,d){var e;return!_.isEqual(c,d)||b.firstWatchModels?(b.firstWatchModels=!1,b.doRebuildAll||b.doINeedToWipe(c)?b.rebuildAll(a,!0,!0):(e=0===b.windows.length,null!=b.existingPieces?b.existingPieces.then(function(){return b.createChildScopesWindows(e)}):b.createChildScopesWindows(e))):void 0}}(this),!0)},p.prototype.doINeedToWipe=function(a){var b;return b=null!=a?0===a.length:!0,this.windows.length>0&&b},p.prototype.rebuildAll=function(a,b,c){return h.waitOrGo(this,function(a){return function(){return h.each(a.windows.values(),function(a){return a.destroy()}).then(function(){return c&&delete a.windows,a.windows=new e,b&&a.createChildScopesWindows(),o.resolve()})}}(this))},p.prototype.watchDestroy=function(a){return a.$on("$destroy",function(b){return function(){return b.firstWatchModels=!0,b.firstTime=!0,b.rebuildAll(a,!1,!0)}}(this))},p.prototype.watchOurScope=function(a){return _.each(this.scopePropNames,function(b){return function(c){var d;return d=c+"Key",b[d]="function"==typeof a[c]?a[c]():a[c]}}(this))},p.prototype.createChildScopesWindows=function(a){var b,c,d;return null==a&&(a=!0),this.isIconVisibleOnClick=!0,angular.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),b=angular.isUndefined(this.linked.scope.models),!b||void 0!==this.markersScope&&void 0!==(null!=(c=this.markersScope)?c.markerModels:void 0)&&void 0!==(null!=(d=this.markersScope)?d.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),a?this.createAllNewWindows(this.linked.scope,!1):this.pieceMealWindows(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),a?this.createAllNewWindows(this.markersScope,!0,"markerModels",!1):this.pieceMealWindows(this.markersScope,!0,"markerModels",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derrived from markers!")},p.prototype.watchIdKey=function(a){return this.setIdKey(a),a.$watch("idKey",function(b){return function(c,d){return c!==d&&null==c?(b.idKey=c,b.rebuildAll(a,!0,!0)):void 0}}(this))},p.prototype.createAllNewWindows=function(a,b,c,d){return null==c&&(c="models"),null==d&&(d=!1),this.models=a.models,this.firstTime&&(this.watchModels(a),this.watchDestroy(a)),this.setContentKeys(a.models),h.waitOrGo(this,function(d){return function(){return h.each(a.models,function(e){var f,g;return f=b&&null!=(g=a[c][[e[d.idKey]]])?g.gMarker:void 0,d.createWindow(e,f,d.gMap)})}}(this)).then(function(a){return function(){return a.firstTime=!1}}(this))},p.prototype.pieceMealWindows=function(a,b,c,d){var e;return null==c&&(c="models"),null==d&&(d=!0),e=null!=this.existingPieces?!1:h.defaultChunkSize,this.models=a.models,null!=a&&null!=a.models&&a.models.length>0&&this.windows.length>0?this.figureOutState(this.idKey,a,this.windows,this.modelKeyComparison,function(b){return function(d){var f;return f=d,h.waitOrGo(b,function(){return h.each(f.removals,function(a){return null!=a&&(b.windows.remove(a.id),null!=a.destroy)?a.destroy(!0):void 0},e).then(function(){return h.each(f.adds,function(d){var e,f;if(e=null!=(f=a[c][d[b.idKey]])?f.gMarker:void 0,!e)throw"Gmarker undefined";return b.createWindow(d,e,b.gMap)},e)})}).then(function(){return b.existingPieces=void 0})["catch"](function(){return i.error("Error while pieceMealing Windows!")})}}(this)):this.rebuildAll(this.scope,!0,!0)},p.prototype.setContentKeys=function(a){return a.length>0?this.contentKeys=Object.keys(a[0]):void 0},p.prototype.createWindow=function(a,b,c){var d,e,g,h,i,j;return e=this.linked.scope.$new(!1),this.setChildScope(e,a),e.$watch("model",function(a){return function(b,c){return b!==c?a.setChildScope(e,b):void 0}}(this),!0),g={html:function(b){return function(){return b.interpolateContent(b.linked.element.html(),a)}}(this)},this.DEFAULTS=this.markersScope?a[this.optionsKey]||{}:this.DEFAULTS,h=this.createWindowOptions(b,e,g.html(),this.DEFAULTS),d=new f(a,e,h,this.isIconVisibleOnClick,c,null!=(i=this.markersScope)&&null!=(j=i.markerModels[a[this.idKey]])?j.scope:void 0,g,!1,!0),null==a[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.windows.put(a[this.idKey],d),d)},p.prototype.setChildScope=function(a,b){return _.each(this.scopePropNames,function(c){return function(d){var e,f;return e=d+"Key",f="self"===c[e]?b:b[c[e]],f!==a[d]?a[d]=f:void 0}}(this)),a.model=b},p.prototype.interpolateContent=function(a,b){var c,d,e,f,g,h;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(c=n(a),d={},h=this.contentKeys,f=0,g=h.length;g>f;f++)e=h[f],d[e]=b[e];return c(d)}},p}(b)}])}.call(this),function(){angular.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(a,b){return _.extend(a,{link:function(a,c,d,e){return e.getScope().deferred.promise.then(function(){return function(e){return new b(a,c,d,e)}}(this))}})}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(b,d,e,f,g,h){var i;return i=function(i){function j(){this.link=a(this.link,this),j.__super__.constructor.call(this)}return c(j,i),j.prototype.link=function(a,c,i,j){return h.then(function(c){return function(h){var i,k;return angular.isUndefined(a.template)?void c.$log.error("mapControl: could not find a valid template property"):(i=angular.isDefined(a.index&&!isNaN(parseInt(a.index)))?parseInt(a.index):void 0,k=angular.isDefined(a.position)?a.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",h.ControlPosition[k]?b.mapPromise(a,j).then(function(b){var h,j;return h=void 0,j=angular.element("<div></div>"),d.get(a.template,{cache:e}).success(function(b){var c,d;return d=a.$new(),j.append(b),i&&(j[0].index=i),angular.isDefined(a.controller)&&(c=g(a.controller,{$scope:d}),j.children().data("$ngControllerController",c)),h=f(j.children())(d)}).error(function(){return c.$log.error("mapControl: template could not be found")}).then(function(){return b.controls[google.maps.ControlPosition[k]].push(h[0])})}):void c.$log.error("mapControl: invalid position property"))}}(this))},j}(b)}])}.call(this),function(){angular.module("google-maps.directives.api".ns()).factory("DrawingManager".ns(),["IDrawingManager".ns(),"DrawingManagerParentModel".ns(),function(a,b){return _.extend(a,{link:function(a,c,d,e){return e.getScope().deferred.promise.then(function(){return function(e){return new b(a,c,d,e)}}(this))}})}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api".ns()).factory("ApiFreeDrawPolygons".ns(),["Logger".ns(),"BaseObject".ns(),"CtrlHandle".ns(),"DrawFreeHandChildModel".ns(),function(b,d,e,f){var g;return g=function(d){function g(){return this.link=a(this.link,this),g.__super__.constructor.apply(this,arguments)}return c(g,d),g.include(e),g.prototype.restrict="EMA",g.prototype.replace=!0,g.prototype.require="^"+"GoogleMap".ns(),g.prototype.scope={polygons:"=",draw:"="},g.prototype.link=function(a,c,d,e){return this.mapPromise(a,e).then(function(){return function(c){var d,e;return a.polygons?_.isArray(a.polygons)?(d=new f(c,a.originalMapOpts),e=void 0,a.draw=function(){return"function"==typeof e&&e(),d.engage(a.polygons).then(function(){var b;return b=!0,e=a.$watch("polygons",function(a,c){var d;return b?void(b=!1):(d=_.differenceObjects(c,a),d.forEach(function(a){return a.setMap(null)}))})})}):b.error("Free Draw Polygons must be of type Array!"):b.error("No polygons to bind to!")}}(this))},g}(d)}])}.call(this),function(){angular.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var a;return a={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"="}}}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api".ns()).factory("IControl".ns(),["BaseObject".ns(),"Logger".ns(),"CtrlHandle".ns(),function(b,d,e){var f;return f=function(b){function f(){this.link=a(this.link,this),this.restrict="EA",this.replace=!0,this.require="^"+"GoogleMap".ns(),this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=d}return c(f,b),f.extend(e),f.prototype.link=function(){throw new Exception("Not implemented!!")},f}(b)}])}.call(this),function(){angular.module("google-maps.directives.api".ns()).service("IDrawingManager".ns(),[function(){return{restrict:"EA",replace:!0,require:"^"+"GoogleMap".ns(),scope:{"static":"@",control:"=",options:"="}}}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("google-maps.directives.api".ns()).factory("IMarker".ns(),["Logger".ns(),"BaseObject".ns(),"CtrlHandle".ns(),function(a,c,d){var e;return e=function(c){function e(){this.$log=a,this.restrict="EMA",this.require="^"+"GoogleMap".ns(),this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=e.scopeKeys}return b(e,c),e.scopeKeys={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},e.keys=_.keys(e.scopeKeys),e.extend(d),e}(c)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("google-maps.directives.api".ns()).factory("IPolygon".ns(),["GmapUtil".ns(),"BaseObject".ns(),"Logger".ns(),"CtrlHandle".ns(),function(a,c,d,e){var f;return f=function(c){function f(){}return b(f,c),f.include(a),f.extend(e),f.prototype.restrict="EMA",f.prototype.replace=!0,f.prototype.require="^"+"GoogleMap".ns(),f.prototype.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},f.prototype.DEFAULTS={},f.prototype.$log=d,f}(c)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("google-maps.directives.api".ns()).factory("IPolyline".ns(),["GmapUtil".ns(),"BaseObject".ns(),"Logger".ns(),"CtrlHandle".ns(),function(a,c,d,e){var f;return f=function(c){function f(){}return b(f,c),f.include(a),f.extend(e),f.prototype.restrict="EMA",f.prototype.replace=!0,f.prototype.require="^"+"GoogleMap".ns(),f.prototype.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"="},f.prototype.DEFAULTS={},f.prototype.$log=d,f}(c)}])}.call(this),function(){angular.module("google-maps.directives.api".ns()).service("IRectangle".ns(),[function(){"use strict";var a;return a={},{restrict:"EMA",require:"^"+"GoogleMap".ns(),replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapLogger","uiGmapCtrlHandle",function(a,c,d,e){var f;return f=function(a){function f(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^"+"GoogleMap".ns(),this.replace=!0,this.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},this.$log=d}return b(f,a),f.include(c),f.extend(e),f}(a)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","uiGmapLogger","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi",function(b,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o,p,q;return o=void 0,q=[m,k,l],p=function(d){function g(){this.link=a(this.link,this);var b,c;b=function(a){var b,c;return c=void 0,a.$on("$destroy",function(){return i.reset()}),b=h.handle(a),a.ctrlType="Map",a.deferred.promise.then(function(){return q.forEach(function(a){return a.init()})}),b.getMap=function(){return a.map},c=_.extend(this,b)},this.controller=["$scope",b],c=this}return c(g,d),g.include(f),g.prototype.restrict="EMA",g.prototype.transclude=!0,g.prototype.replace=!1,g.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container"></div><div ng-transclude style="display: none"></div></div>',g.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},g.prototype.link=function(a,c,d){var f;return a.idleAndZoomChanged=!1,null==a.center?void(f=a.$watch("center",function(b){return function(){return a.center?(f(),b.link(a,c,d)):void 0}}(this))):n.then(function(f){return function(g){var h,k,l,m,n,p,q,r,s,t,u;if(o={mapTypeId:g.MapTypeId.ROADMAP},s=i.spawn(),q=function(){return s.deferred.resolve({instance:s.instance,map:u})},!f.validateCoords(a.center))return void e.error("angular-google-maps: could not find a valid center property");if(!angular.isDefined(a.zoom))return void e.error("angular-google-maps: map zoom property not set");if(k=angular.element(c),k.addClass("angular-google-map"),p={options:{}},d.options&&(p.options=a.options),d.styles&&(p.styles=a.styles),d.type&&(t=d.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(t)?p.mapTypeId=google.maps.MapTypeId[d.type.toUpperCase()]:e.error("angular-google-maps: invalid map type '"+d.type+"'")),n=angular.extend({},o,p,{center:f.getCoords(a.center),zoom:a.zoom,bounds:a.bounds}),u=new google.maps.Map(k.find("div")[1],n),u["_id".ns()]=j.generate(),h=!1,google.maps.event.addListenerOnce(u,"idle",function(){return a.deferred.resolve(u),q()}),google.maps.event.addListener(u,"dragstart",function(){var b;return(null!=(b=a.update)?b.lazy:void 0)?void 0:(h=!0,a.$evalAsync(function(a){return null!=a.dragging?a.dragging=h:void 0}))}),google.maps.event.addListener(u,"dragend",function(){var b;return(null!=(b=a.update)?b.lazy:void 0)?void 0:(h=!1,a.$evalAsync(function(a){return null!=a.dragging?a.dragging=h:void 0}))}),google.maps.event.addListener(u,"drag",function(){var c,d,e,f,g;return(null!=(d=a.update)?d.lazy:void 0)?void 0:(c=u.center,b(function(){var b;return b=a,angular.isDefined(b.center.type)?(b.center.coordinates[1]=c.lat(),b.center.coordinates[0]=c.lng()):(b.center.latitude=c.lat(),b.center.longitude=c.lng())},null!=(e=a.eventOpts)&&null!=(f=e.debounce)&&null!=(g=f.debounce)?g.dragMs:void 0))}),google.maps.event.addListener(u,"zoom_changed",function(){var c,d,e;return(null!=(c=a.update)?c.lazy:void 0)||a.zoom===u.zoom?void 0:b(function(){return a.zoom=u.zoom},null!=(d=a.eventOpts)&&null!=(e=d.debounce)?e.zoomMs:void 0)}),r=!1,google.maps.event.addListener(u,"center_changed",function(){var c,d,e,f;if(!(null!=(d=a.update)?d.lazy:void 0)){if(c=u.center,r)return;return b(function(){var b;if(b=a,!u.dragging)if(angular.isDefined(b.center.type)){if(b.center.coordinates[1]!==c.lat()&&(b.center.coordinates[1]=c.lat()),b.center.coordinates[0]!==c.lng())return b.center.coordinates[0]=c.lng()}else if(b.center.latitude!==c.lat()&&(b.center.latitude=c.lat()),b.center.longitude!==c.lng())return b.center.longitude=c.lng()},null!=(e=a.eventOpts)&&null!=(f=e.debounce)?f.centerMs:void 0)}}),google.maps.event.addListener(u,"idle",function(){var b,c,d;return b=u.getBounds(),c=b.getNorthEast(),d=b.getSouthWest(),a.$evalAsync(function(b){var e,f;return(null!=(f=b.update)?f.lazy:void 0)&&(e=u.center,angular.isDefined(b.center.type)?(b.center.coordinates[1]!==e.lat()&&(b.center.coordinates[1]=e.lat()),b.center.coordinates[0]!==e.lng()&&(b.center.coordinates[0]=e.lng())):(b.center.latitude!==e.lat()&&(b.center.latitude=e.lat()),b.center.longitude!==e.lng()&&(b.center.longitude=e.lng()))),null!==b.bounds&&void 0!==b.bounds&&void 0!==b.bounds&&(b.bounds.northeast={latitude:c.lat(),longitude:c.lng()},b.bounds.southwest={latitude:d.lat(),longitude:d.lng()}),b.zoom=u.zoom,a.idleAndZoomChanged=!a.idleAndZoomChanged})}),angular.isDefined(a.events)&&null!==a.events&&angular.isObject(a.events)){m=function(b){return function(){return a.events[b].apply(a,[u,b,arguments])}};for(l in a.events)a.events.hasOwnProperty(l)&&angular.isFunction(a.events[l])&&google.maps.event.addListener(u,l,m(l))}return u.getOptions=function(){return n},a.map=u,null!=d.control&&null!=a.control&&(a.control.refresh=function(a){var b;if(null!=u)return google.maps.event.trigger(u,"resize"),null!=(null!=a?a.latitude:void 0)&&null!=(null!=a?a.latitude:void 0)?(b=f.getCoords(a),f.isTrue(d.pan)?u.panTo(b):u.setCenter(b)):void 0},a.control.getGMap=function(){return u},a.control.getMapOptions=function(){return n}),a.$watch("center",function(b){var c;return c=f.getCoords(b),c.lat()!==u.center.lat()||c.lng()!==u.center.lng()?(r=!0,h||(f.validateCoords(b)||e.error("Invalid center for newValue: "+JSON.stringify(b)),f.isTrue(d.pan)&&a.zoom===u.zoom?u.panTo(c):u.setCenter(c)),r=!1):void 0},!0),a.$watch("zoom",function(a,c){return _.isEqual(a,c)?void 0:b(function(){return u.setZoom(a)},0,!1)}),a.$watch("bounds",function(a,b){var c,d,f;if(a!==b)return null==a.northeast.latitude||null==a.northeast.longitude||null==a.southwest.latitude||null==a.southwest.longitude?void e.error("Invalid map bounds for new value: "+JSON.stringify(a)):(d=new google.maps.LatLng(a.northeast.latitude,a.northeast.longitude),f=new google.maps.LatLng(a.southwest.latitude,a.southwest.longitude),c=new google.maps.LatLngBounds(f,d),u.fitBounds(c))}),["options","styles"].forEach(function(b){return a.$watch(b,function(a,b){var c;return c=this.exp,_.isEqual(a,b)?void 0:(p.options=a,null!=u?u.setOptions(p):void 0)})},!0)}}(this))},g}(g)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager",function(b,d,e){var f;return f=function(f){function g(){this.link=a(this.link,this),g.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',this.$log.info(this)}return c(g,f),g.prototype.controller=["$scope","$element",function(a,c){return a.ctrlType="Marker",_.extend(this,b.handle(a,c))}],g.prototype.link=function(a,c,f,g){return this.mapPromise=b.mapPromise(a,g),this.mapPromise.then(function(c){return function(f){var g,h,i,j,k;return c.gMarkerManager||(c.gMarkerManager=new e(f)),i=_.object(b.keys,b.keys),j=new d(a,a,i,f,{},g=!0,c.gMarkerManager,h=!1,k=!1),j.deferred.promise.then(function(b){return a.deferred.resolve(b)}),null!=a.control?a.control.getGMarkers=c.gMarkerManager.getGMarkers:void 0}}(this)),a.$on("$destroy",function(a){return function(){var b;return null!=(b=a.gMarkerManager)&&b.clear(),a.gMarkerManager=null}}(this))},g}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapMarkersParentModel","uiGmap_sync",function(b,d){var e;return e=function(e){function f(b){this.link=a(this.link,this),f.__super__.constructor.call(this,b),this.template='<span class="angular-google-map-markers" ng-transclude></span>',this.scope=_.extend(this.scope||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",doCluster:"=docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref"}),this.$log.info(this)}return c(f,e),f.prototype.controller=["$scope","$element",function(a,c){return a.ctrlType="Markers",_.extend(this,b.handle(a,c))}],f.prototype.link=function(a,c,e,f){var g,h;return g=void 0,h=function(){return function(){return null!=a.control&&(a.control.getGMarkers=function(){var a;return null!=(a=g.gMarkerManager)?a.getGMarkers():void 0},a.control.getChildMarkers=function(){return g.markerModels}),a.deferred.resolve()}}(this),b.mapPromise(a,f).then(function(){return function(b){var i;return i=f.getScope(),i.$watch("idleAndZoomChanged",function(){return g.gMarkerManager.draw()}),g=new d(a,c,e,b),g.existingPieces.then(function(){return h()})}}(this))},f}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api".ns()).factory("Polygon".ns(),["IPolygon".ns(),"$timeout","array-sync".ns(),"PolygonChildModel".ns(),function(b,d,e,f){var g;return g=function(d){function e(){return this.link=a(this.link,this),e.__super__.constructor.apply(this,arguments)}return c(e,d),e.prototype.link=function(a,c,d,e){var g,h;return g=[],h=b.mapPromise(a,e),null!=a.control&&(a.control.getInstance=this,a.control.polygons=g,a.control.promise=h),h.then(function(b){return function(c){return g.push(new f(a,d,c,b.DEFAULTS))}}(this))},e}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api".ns()).factory("Polyline".ns(),["IPolyline".ns(),"$timeout","array-sync".ns(),"PolylineChildModel".ns(),function(b,d,e,f){var g;return g=function(d){function e(){return this.link=a(this.link,this),e.__super__.constructor.apply(this,arguments)}return c(e,d),e.prototype.link=function(a,c,d,e){return angular.isUndefined(a.path)||null===a.path||!this.validatePath(a.path)?void this.$log.error("polyline: no valid path attribute found"):b.mapPromise(a,e).then(function(b){return function(c){return new f(a,d,c,b.DEFAULTS)}}(this))},e}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("google-maps.directives.api".ns()).factory("Polylines".ns(),["IPolyline".ns(),"$timeout","array-sync".ns(),"PolylinesParentModel".ns(),function(b,d,e,f){var g;return g=function(b){function d(){this.link=a(this.link,this),d.__super__.constructor.call(this),this.scope.idKey="=idkey",this.scope.models="=models",this.$log.info(this)}return c(d,b),d.prototype.link=function(a,b,c,d){return angular.isUndefined(a.path)||null===a.path?void this.$log.error("polylines: no valid path attribute found"):a.models?d.getScope().deferred.promise.then(function(d){return function(e){return new f(a,b,c,e,d.DEFAULTS)}}(this)):void this.$log.error("polylines: no models found to create from")},d}(b)}])}.call(this),function(){angular.module("google-maps.directives.api".ns()).factory("Rectangle".ns(),["Logger".ns(),"GmapUtil".ns(),"IRectangle".ns(),"RectangleParentModel".ns(),function(a,b,c,d){return _.extend(c,{link:function(a,b,c,e){return e.getScope().deferred.promise.then(function(){return function(e){return new d(a,b,c,e)}}(this))}})}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel",function(b,d,e){var f;return f=function(f){function g(){this.link=a(this.link,this),g.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',this.$log.info(this),this.childWindows=[]}return c(g,f),g.include(d),g.prototype.link=function(a,c,d,e){var f,g;return f=e.length>1&&null!=e[1]?e[1]:void 0,g=null!=f?f.getScope():void 0,this.mapPromise=b.mapPromise(a,e[0]),this.mapPromise.then(function(b){return function(e){var h;return h=!0,angular.isDefined(d.isiconvisibleonclick)&&(h=a.isIconVisibleOnClick),f?g.deferred.promise.then(function(){return b.init(a,c,h,e,g)}):void b.init(a,c,h,e)}}(this))},g.prototype.init=function(a,b,c,d,f){var g,h,i,j,k;return h=null!=a.options?a.options:{},j=null!=a&&this.validateCoords(a.coords),null!=(null!=f?f.getGMarker:void 0)&&(i=f.getGMarker()),k=j?this.createWindowOptions(i,a,b.html(),h):h,null!=d&&(g=new e({},a,k,c,d,f,b),this.childWindows.push(g),a.$on("$destroy",function(a){return function(){return a.childWindows=_.withoutObjects(a.childWindows,[g],function(a,b){return a.scope.$id===b.scope.$id}),a.childWindows.length=0}}(this))),null!=a.control&&(a.control.getGWindows=function(a){return function(){return a.childWindows.map(function(a){return a.gWin})}}(this),a.control.getChildWindows=function(a){return function(){return a.childWindows}}(this),a.control.showWindow=function(a){return function(){return a.childWindows.map(function(a){return a.showWindow()})}}(this),a.control.hideWindow=function(a){return function(){return a.childWindows.map(function(a){return a.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=g?this.onChildCreation(g):void 0},g}(b)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};angular.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapWindowsParentModel","uiGmapPromise",function(b,d,e){var f;return f=function(b){function f(){this.init=a(this.init,this),this.link=a(this.link,this),f.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',this.scope.idKey="=idkey",this.scope.doRebuildAll="=dorebuildall",this.scope.models="=models",this.$log.debug(this)}return c(f,b),f.prototype.link=function(a,b,c,d){var f,g,h;return f=d[0].getScope(),g=d.length>1&&null!=d[1]?d[1]:void 0,h=null!=g?g.getScope():void 0,f.deferred.promise.then(function(f){return function(g){var i,j;return i=(null!=h&&null!=(j=h.deferred)?j.promise:void 0)||e.resolve(),i.then(function(){var e,i;return e=null!=(i=f.parentModel)?i.existingPieces:void 0,e?e.then(function(){return f.init(a,b,c,d,g,h)}):f.init(a,b,c,d,g,h)})}}(this))},f.prototype.init=function(a,b,c,e,f,g){var h;return h=new d(a,b,c,e,f,g),null!=a.control?(a.control.getGWindows=function(){return function(){return h.windows.map(function(a){return a.gWin})}}(this),a.control.getChildWindows=function(){return function(){return h.windows}}(this)):void 0},f}(b)}])}.call(this),function(){angular.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(a){return new a}])}.call(this),function(){angular.module("google-maps".ns()).directive("Marker".ns(),["$timeout","Marker".ns(),function(a,b){return new b(a)}])}.call(this),function(){angular.module("google-maps".ns()).directive("Markers".ns(),["$timeout","Markers".ns(),function(a,b){return new b(a)
}])}.call(this),function(){angular.module("google-maps".ns()).directive("Polygon".ns(),["Polygon".ns(),function(a){return new a}])}.call(this),function(){angular.module("google-maps".ns()).directive("Circle".ns(),["Circle".ns(),function(a){return a}])}.call(this),function(){angular.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(a){return new a}])}.call(this),function(){angular.module("google-maps".ns()).directive("Polylines".ns(),["Polylines".ns(),function(a){return new a}])}.call(this),function(){angular.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(a,b){return b}])}.call(this),function(){angular.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(a,b,c,d,e){return new e(a,b,c,d)}])}.call(this),function(){angular.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(a,b,c,d,e,f){return new f(a,b,c,d,e)}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(b,c,d){var e;return new(e=function(){function b(){this.link=a(this.link,this),this.$log=c,this.restrict="EMA",this.require="^"+"GoogleMap".ns(),this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return b.prototype.link=function(a,b,c,e){return e.getScope().deferred.promise.then(function(){return function(e){return null!=a.onCreated?new d(a,b,c,e,a.onCreated):new d(a,b,c,e)}}(this))},b}())}])}.call(this),function(){angular.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(a){return new a}])}.call(this),function(){angular.module("google-maps".ns()).directive("DrawingManager".ns(),["DrawingManager".ns(),function(a){return a}])}.call(this),function(){angular.module("google-maps".ns()).directive("FreeDrawPolygons".ns(),["ApiFreeDrawPolygons".ns(),function(a){return new a}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(b,c,d){var e;return new(e=function(){function b(){this.link=a(this.link,this),this.$log=c,this.restrict="EMA",this.require="^"+"GoogleMap".ns(),this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return b.prototype.link=function(a,b,c,e){return e.getScope().deferred.promise.then(function(){return function(e){return new d(a,b,c,e)}}(this))},b}())}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("google-maps".ns()).directive("SearchBox".ns(),["GoogleMapApi".ns(),"Logger".ns(),"SearchBoxParentModel".ns(),"$http","$templateCache",function(b,c,d,e,f){var g;return new(g=function(){function g(){this.link=a(this.link,this),this.$log=c,this.restrict="EMA",this.require="^"+"GoogleMap".ns(),this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-search" ng-transclude></span>',this.replace=!0,this.scope={template:"=template",position:"=position",options:"=options",events:"=events",parentdiv:"=parentdiv"}}return g.prototype.link=function(a,c,g,h){return b.then(function(b){return function(i){return e.get(a.template,{cache:f}).success(function(e){return h.getScope().deferred.promise.then(function(f){var h;return h=angular.isDefined(a.position)?a.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",i.ControlPosition[h]?new d(a,c,g,f,h,e):void b.$log.error("searchBox: invalid position property")})})}}(this))},g}())}])}.call(this),angular.module("google-maps.wrapped".ns()).service("uuid".ns(),function(){function a(){}return a.generate=function(){var b=a._gri,c=a._ha;return c(b(32),8)+"-"+c(b(16),4)+"-"+c(16384|b(12),4)+"-"+c(32768|b(14),4)+"-"+c(b(48),12)},a._gri=function(a){return 0>a?0/0:30>=a?0|Math.random()*(1<<a):53>=a?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<a-30)):0/0},a._ha=function(a,b){for(var c=a.toString(16),d=b-c.length,e="0";d>0;d>>>=1,e+=e)1&d&&(c=e+c);return c},a}),angular.module("google-maps.wrapped".ns()).service("GoogleMapsUtilV3".ns(),function(){return{init:_.once(function(){function a(a){a=a||{},google.maps.OverlayView.apply(this,arguments),this.content_=a.content||"",this.disableAutoPan_=a.disableAutoPan||!1,this.maxWidth_=a.maxWidth||0,this.pixelOffset_=a.pixelOffset||new google.maps.Size(0,0),this.position_=a.position||new google.maps.LatLng(0,0),this.zIndex_=a.zIndex||null,this.boxClass_=a.boxClass||"infoBox",this.boxStyle_=a.boxStyle||{},this.closeBoxMargin_=a.closeBoxMargin||"2px",this.closeBoxURL_=a.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===a.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=a.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof a.visible&&(a.visible="undefined"==typeof a.isHidden?!0:!a.isHidden),this.isHidden_=!a.visible,this.alignBottom_=a.alignBottom||!1,this.pane_=a.pane||"floatPane",this.enableEventPropagation_=a.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function b(a,c){a.getMarkerClusterer().extend(b,google.maps.OverlayView),this.cluster_=a,this.className_=a.getMarkerClusterer().getClusterClass(),this.styles_=c,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(a.getMap())}function c(a){this.markerClusterer_=a,this.map_=a.getMap(),this.gridSize_=a.getGridSize(),this.minClusterSize_=a.getMinimumClusterSize(),this.averageCenter_=a.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new b(this,a.getStyles())}function d(a,b,c){this.extend(d,google.maps.OverlayView),b=b||[],c=c||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=c.gridSize||60,this.minClusterSize_=c.minimumClusterSize||2,this.maxZoom_=c.maxZoom||null,this.styles_=c.styles||[],this.title_=c.title||"",this.zoomOnClick_=!0,void 0!==c.zoomOnClick&&(this.zoomOnClick_=c.zoomOnClick),this.averageCenter_=!1,void 0!==c.averageCenter&&(this.averageCenter_=c.averageCenter),this.ignoreHidden_=!1,void 0!==c.ignoreHidden&&(this.ignoreHidden_=c.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==c.enableRetinaIcons&&(this.enableRetinaIcons_=c.enableRetinaIcons),this.imagePath_=c.imagePath||d.IMAGE_PATH,this.imageExtension_=c.imageExtension||d.IMAGE_EXTENSION,this.imageSizes_=c.imageSizes||d.IMAGE_SIZES,this.calculator_=c.calculator||d.CALCULATOR,this.batchSize_=c.batchSize||d.BATCH_SIZE,this.batchSizeIE_=c.batchSizeIE||d.BATCH_SIZE_IE,this.clusterClass_=c.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(b,!0),this.setMap(a)}function e(a,b){function c(){}c.prototype=b.prototype,a.superClass_=b.prototype,a.prototype=new c,a.prototype.constructor=a}function f(a,b){this.marker_=a,this.handCursorURL_=a.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=f.getSharedCross(b)}function g(a){a=a||{},a.labelContent=a.labelContent||"",a.labelAnchor=a.labelAnchor||new google.maps.Point(0,0),a.labelClass=a.labelClass||"markerLabels",a.labelStyle=a.labelStyle||{},a.labelInBackground=a.labelInBackground||!1,"undefined"==typeof a.labelVisible&&(a.labelVisible=!0),"undefined"==typeof a.raiseOnDrag&&(a.raiseOnDrag=!0),"undefined"==typeof a.clickable&&(a.clickable=!0),"undefined"==typeof a.draggable&&(a.draggable=!1),"undefined"==typeof a.optimized&&(a.optimized=!1),a.crossImage=a.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",a.handCursor=a.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",a.optimized=!1,this.label=new f(this,a.crossImage,a.handCursor),google.maps.Marker.apply(this,arguments)}a.prototype=new google.maps.OverlayView,a.prototype.createInfoBoxDiv_=function(){var a,b,c,d=this,e=function(a){a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()},f=function(a){a.returnValue=!1,a.preventDefault&&a.preventDefault(),d.enableEventPropagation_||e(a)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(c=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-c.left-c.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],b=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0;a<b.length;a++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,b[a],e));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",f),google.maps.event.trigger(this,"domready")}},a.prototype.getCloseBoxImg_=function(){var a="";return""!==this.closeBoxURL_&&(a="<img",a+=" src='"+this.closeBoxURL_+"'",a+=" align=right",a+=" style='",a+=" position: relative;",a+=" cursor: pointer;",a+=" margin: "+this.closeBoxMargin_+";",a+="'>"),a},a.prototype.addClickHandler_=function(){var a;""!==this.closeBoxURL_?(a=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(a,"click",this.getCloseClickHandler_())):this.closeListener_=null},a.prototype.getCloseClickHandler_=function(){var a=this;return function(b){b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation(),google.maps.event.trigger(a,"closeclick"),a.close()}},a.prototype.panBox_=function(a){var b,c,d=0,e=0;if(!a&&(b=this.getMap(),b instanceof google.maps.Map)){b.getBounds().contains(this.position_)||b.setCenter(this.position_),c=b.getBounds();var f=b.getDiv(),g=f.offsetWidth,h=f.offsetHeight,i=this.pixelOffset_.width,j=this.pixelOffset_.height,k=this.div_.offsetWidth,l=this.div_.offsetHeight,m=this.infoBoxClearance_.width,n=this.infoBoxClearance_.height,o=this.getProjection().fromLatLngToContainerPixel(this.position_);if(o.x<-i+m?d=o.x+i-m:o.x+k+i+m>g&&(d=o.x+k+i+m-g),this.alignBottom_?o.y<-j+n+l?e=o.y+j-n-l:o.y+j+n>h&&(e=o.y+j+n-h):o.y<-j+n?e=o.y+j-n:o.y+l+j+n>h&&(e=o.y+l+j+n-h),0!==d||0!==e){{b.getCenter()}b.panBy(d,e)}}},a.prototype.setBoxStyle_=function(){var a,b;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",b=this.boxStyle_;for(a in b)b.hasOwnProperty(a)&&(this.div_.style[a]=b[a]);"undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},a.prototype.getBoxWidths_=function(){var a,b={top:0,bottom:0,left:0,right:0},c=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(a=c.ownerDocument.defaultView.getComputedStyle(c,""),a&&(b.top=parseInt(a.borderTopWidth,10)||0,b.bottom=parseInt(a.borderBottomWidth,10)||0,b.left=parseInt(a.borderLeftWidth,10)||0,b.right=parseInt(a.borderRightWidth,10)||0)):document.documentElement.currentStyle&&c.currentStyle&&(b.top=parseInt(c.currentStyle.borderTopWidth,10)||0,b.bottom=parseInt(c.currentStyle.borderBottomWidth,10)||0,b.left=parseInt(c.currentStyle.borderLeftWidth,10)||0,b.right=parseInt(c.currentStyle.borderRightWidth,10)||0),b},a.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},a.prototype.draw=function(){this.createInfoBoxDiv_();var a=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=a.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(a.y+this.pixelOffset_.height)+"px":this.div_.style.top=a.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},a.prototype.setOptions=function(a){"undefined"!=typeof a.boxClass&&(this.boxClass_=a.boxClass,this.setBoxStyle_()),"undefined"!=typeof a.boxStyle&&(this.boxStyle_=a.boxStyle,this.setBoxStyle_()),"undefined"!=typeof a.content&&this.setContent(a.content),"undefined"!=typeof a.disableAutoPan&&(this.disableAutoPan_=a.disableAutoPan),"undefined"!=typeof a.maxWidth&&(this.maxWidth_=a.maxWidth),"undefined"!=typeof a.pixelOffset&&(this.pixelOffset_=a.pixelOffset),"undefined"!=typeof a.alignBottom&&(this.alignBottom_=a.alignBottom),"undefined"!=typeof a.position&&this.setPosition(a.position),"undefined"!=typeof a.zIndex&&this.setZIndex(a.zIndex),"undefined"!=typeof a.closeBoxMargin&&(this.closeBoxMargin_=a.closeBoxMargin),"undefined"!=typeof a.closeBoxURL&&(this.closeBoxURL_=a.closeBoxURL),"undefined"!=typeof a.infoBoxClearance&&(this.infoBoxClearance_=a.infoBoxClearance),"undefined"!=typeof a.isHidden&&(this.isHidden_=a.isHidden),"undefined"!=typeof a.visible&&(this.isHidden_=!a.visible),"undefined"!=typeof a.enableEventPropagation&&(this.enableEventPropagation_=a.enableEventPropagation),this.div_&&this.draw()},a.prototype.setContent=function(a){this.content_=a,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof a.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+a:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(a)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof a.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+a:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(a))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},a.prototype.setPosition=function(a){this.position_=a,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},a.prototype.setZIndex=function(a){this.zIndex_=a,this.div_&&(this.div_.style.zIndex=a),google.maps.event.trigger(this,"zindex_changed")},a.prototype.setVisible=function(a){this.isHidden_=!a,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},a.prototype.getContent=function(){return this.content_},a.prototype.getPosition=function(){return this.position_},a.prototype.getZIndex=function(){return this.zIndex_},a.prototype.getVisible=function(){var a;return a="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},a.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},a.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},a.prototype.open=function(a,b){var c=this;b&&(this.position_=b.getPosition(),this.moveListener_=google.maps.event.addListener(b,"position_changed",function(){c.setPosition(this.getPosition())})),this.setMap(a),this.div_&&this.panBox_()},a.prototype.close=function(){var a;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(a=0;a<this.eventListeners_.length;a++)google.maps.event.removeListener(this.eventListeners_[a]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},b.prototype.onAdd=function(){var a,b,c=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){b=a}),google.maps.event.addDomListener(this.div_,"mousedown",function(){a=!0,b=!1}),google.maps.event.addDomListener(this.div_,"click",function(d){if(a=!1,!b){var e,f,g=c.cluster_.getMarkerClusterer();google.maps.event.trigger(g,"click",c.cluster_),google.maps.event.trigger(g,"clusterclick",c.cluster_),g.getZoomOnClick()&&(f=g.getMaxZoom(),e=c.cluster_.getBounds(),g.getMap().fitBounds(e),setTimeout(function(){g.getMap().fitBounds(e),null!==f&&g.getMap().getZoom()>f&&g.getMap().setZoom(f+1)},100)),d.cancelBubble=!0,d.stopPropagation&&d.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var a=c.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"mouseover",c.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var a=c.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"mouseout",c.cluster_)})},b.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},b.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px",this.div_.style.left=a.x+"px"}},b.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},b.prototype.show=function(){if(this.div_){var a="",b=this.backgroundPosition_.split(" "),c=parseInt(b[0].trim(),10),d=parseInt(b[1].trim(),10),e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),a="<img src='"+this.url_+"' style='position: absolute; top: "+d+"px; left: "+c+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(a+="clip: rect("+-1*d+"px, "+(-1*c+this.width_)+"px, "+(-1*d+this.height_)+"px, "+-1*c+"px);"),a+="'>",this.div_.innerHTML=a+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},b.prototype.useStyle=function(a){this.sums_=a;var b=Math.max(0,a.index-1);b=Math.min(this.styles_.length-1,b);var c=this.styles_[b];this.url_=c.url,this.height_=c.height,this.width_=c.width,this.anchorText_=c.anchorText||[0,0],this.anchorIcon_=c.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=c.textColor||"black",this.textSize_=c.textSize||11,this.textDecoration_=c.textDecoration||"none",this.fontWeight_=c.fontWeight||"bold",this.fontStyle_=c.fontStyle||"normal",this.fontFamily_=c.fontFamily||"Arial,sans-serif",this.backgroundPosition_=c.backgroundPosition||"0 0"},b.prototype.setCenter=function(a){this.center_=a},b.prototype.createCss=function(a){var b=[];return b.push("cursor: pointer;"),b.push("position: absolute; top: "+a.y+"px; left: "+a.x+"px;"),b.push("width: "+this.width_+"px; height: "+this.height_+"px;"),b.join("")},b.prototype.getPosFromLatLng_=function(a){var b=this.getProjection().fromLatLngToDivPixel(a);return b.x-=this.anchorIcon_[1],b.y-=this.anchorIcon_[0],b.x=parseInt(b.x,10),b.y=parseInt(b.y,10),b},c.prototype.getSize=function(){return this.markers_.length},c.prototype.getMarkers=function(){return this.markers_},c.prototype.getCenter=function(){return this.center_},c.prototype.getMap=function(){return this.map_},c.prototype.getMarkerClusterer=function(){return this.markerClusterer_},c.prototype.getBounds=function(){var a,b=new google.maps.LatLngBounds(this.center_,this.center_),c=this.getMarkers();for(a=0;a<c.length;a++)b.extend(c[a].getPosition());return b},c.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},c.prototype.addMarker=function(a){var b,c,d;if(this.isMarkerAlreadyAdded_(a))return!1;if(this.center_){if(this.averageCenter_){var e=this.markers_.length+1,f=(this.center_.lat()*(e-1)+a.getPosition().lat())/e,g=(this.center_.lng()*(e-1)+a.getPosition().lng())/e;this.center_=new google.maps.LatLng(f,g),this.calculateBounds_()}}else this.center_=a.getPosition(),this.calculateBounds_();if(a.isAdded=!0,this.markers_.push(a),c=this.markers_.length,d=this.markerClusterer_.getMaxZoom(),null!==d&&this.map_.getZoom()>d)a.getMap()!==this.map_&&a.setMap(this.map_);else if(c<this.minClusterSize_)a.getMap()!==this.map_&&a.setMap(this.map_);else if(c===this.minClusterSize_)for(b=0;c>b;b++)this.markers_[b].setMap(null);else a.setMap(null);return this.updateIcon_(),!0},c.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())},c.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)},c.prototype.updateIcon_=function(){var a=this.markers_.length,b=this.markerClusterer_.getMaxZoom();if(null!==b&&this.map_.getZoom()>b)return void this.clusterIcon_.hide();if(a<this.minClusterSize_)return void this.clusterIcon_.hide();var c=this.markerClusterer_.getStyles().length,d=this.markerClusterer_.getCalculator()(this.markers_,c);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(d),this.clusterIcon_.show()},c.prototype.isMarkerAlreadyAdded_=function(a){var b;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(a);for(b=0;b<this.markers_.length;b++)if(a===this.markers_[b])return!0;return!1},d.prototype.onAdd=function(){var a=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){a.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){a.redraw_()})]},d.prototype.onRemove=function(){var a;for(a=0;a<this.markers_.length;a++)this.markers_[a].getMap()!==this.activeMap_&&this.markers_[a].setMap(this.activeMap_);for(a=0;a<this.clusters_.length;a++)this.clusters_[a].remove();for(this.clusters_=[],a=0;a<this.listeners_.length;a++)google.maps.event.removeListener(this.listeners_[a]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},d.prototype.draw=function(){},d.prototype.setupStyles_=function(){var a,b;if(!(this.styles_.length>0))for(a=0;a<this.imageSizes_.length;a++)b=this.imageSizes_[a],this.styles_.push({url:this.imagePath_+(a+1)+"."+this.imageExtension_,height:b,width:b})},d.prototype.fitMapToMarkers=function(){var a,b=this.getMarkers(),c=new google.maps.LatLngBounds;for(a=0;a<b.length;a++)c.extend(b[a].getPosition());this.getMap().fitBounds(c)},d.prototype.getGridSize=function(){return this.gridSize_},d.prototype.setGridSize=function(a){this.gridSize_=a},d.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},d.prototype.setMinimumClusterSize=function(a){this.minClusterSize_=a},d.prototype.getMaxZoom=function(){return this.maxZoom_},d.prototype.setMaxZoom=function(a){this.maxZoom_=a},d.prototype.getStyles=function(){return this.styles_},d.prototype.setStyles=function(a){this.styles_=a},d.prototype.getTitle=function(){return this.title_},d.prototype.setTitle=function(a){this.title_=a},d.prototype.getZoomOnClick=function(){return this.zoomOnClick_},d.prototype.setZoomOnClick=function(a){this.zoomOnClick_=a},d.prototype.getAverageCenter=function(){return this.averageCenter_},d.prototype.setAverageCenter=function(a){this.averageCenter_=a},d.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},d.prototype.setIgnoreHidden=function(a){this.ignoreHidden_=a},d.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},d.prototype.setEnableRetinaIcons=function(a){this.enableRetinaIcons_=a},d.prototype.getImageExtension=function(){return this.imageExtension_},d.prototype.setImageExtension=function(a){this.imageExtension_=a},d.prototype.getImagePath=function(){return this.imagePath_},d.prototype.setImagePath=function(a){this.imagePath_=a},d.prototype.getImageSizes=function(){return this.imageSizes_},d.prototype.setImageSizes=function(a){this.imageSizes_=a},d.prototype.getCalculator=function(){return this.calculator_},d.prototype.setCalculator=function(a){this.calculator_=a},d.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},d.prototype.setBatchSizeIE=function(a){this.batchSizeIE_=a},d.prototype.getClusterClass=function(){return this.clusterClass_},d.prototype.setClusterClass=function(a){this.clusterClass_=a},d.prototype.getMarkers=function(){return this.markers_},d.prototype.getTotalMarkers=function(){return this.markers_.length},d.prototype.getClusters=function(){return this.clusters_},d.prototype.getTotalClusters=function(){return this.clusters_.length},d.prototype.addMarker=function(a,b){this.pushMarkerTo_(a),b||this.redraw_()},d.prototype.addMarkers=function(a,b){var c;for(c in a)a.hasOwnProperty(c)&&this.pushMarkerTo_(a[c]);b||this.redraw_()},d.prototype.pushMarkerTo_=function(a){if(a.getDraggable()){var b=this;google.maps.event.addListener(a,"dragend",function(){b.ready_&&(this.isAdded=!1,b.repaint())})}a.isAdded=!1,this.markers_.push(a)},d.prototype.removeMarker=function(a,b){var c=this.removeMarker_(a);return!b&&c&&this.repaint(),c},d.prototype.removeMarkers=function(a,b){var c,d,e=!1;for(c=0;c<a.length;c++)d=this.removeMarker_(a[c]),e=e||d;return!b&&e&&this.repaint(),e},d.prototype.removeMarker_=function(a){var b,c=-1;if(this.markers_.indexOf)c=this.markers_.indexOf(a);else for(b=0;b<this.markers_.length;b++)if(a===this.markers_[b]){c=b;break}return-1===c?!1:(a.setMap(null),this.markers_.splice(c,1),!0)},d.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},d.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var b;for(b=0;b<a.length;b++)a[b].remove()},0)},d.prototype.getExtendedBounds=function(a){var b=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),e=b.fromLatLngToDivPixel(c);e.x+=this.gridSize_,e.y-=this.gridSize_;var f=b.fromLatLngToDivPixel(d);f.x-=this.gridSize_,f.y+=this.gridSize_;var g=b.fromDivPixelToLatLng(e),h=b.fromDivPixelToLatLng(f);return a.extend(g),a.extend(h),a},d.prototype.redraw_=function(){this.createClusters_(0)},d.prototype.resetViewport_=function(a){var b,c;for(b=0;b<this.clusters_.length;b++)this.clusters_[b].remove();for(this.clusters_=[],b=0;b<this.markers_.length;b++)c=this.markers_[b],c.isAdded=!1,a&&c.setMap(null)},d.prototype.distanceBetweenPoints_=function(a,b){var c=6371,d=(b.lat()-a.lat())*Math.PI/180,e=(b.lng()-a.lng())*Math.PI/180,f=Math.sin(d/2)*Math.sin(d/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(e/2)*Math.sin(e/2),g=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),h=c*g;return h},d.prototype.isMarkerInBounds_=function(a,b){return b.contains(a.getPosition())},d.prototype.addToClosestCluster_=function(a){var b,d,e,f,g=4e4,h=null;for(b=0;b<this.clusters_.length;b++)e=this.clusters_[b],f=e.getCenter(),f&&(d=this.distanceBetweenPoints_(f,a.getPosition()),g>d&&(g=d,h=e));h&&h.isMarkerInClusterBounds(a)?h.addMarker(a):(e=new c(this),e.addMarker(a),this.clusters_.push(e))},d.prototype.createClusters_=function(a){var b,c,d,e=this;if(this.ready_){0===a&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),d=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var f=this.getExtendedBounds(d),g=Math.min(a+this.batchSize_,this.markers_.length);for(b=a;g>b;b++)c=this.markers_[b],!c.isAdded&&this.isMarkerInBounds_(c,f)&&(!this.ignoreHidden_||this.ignoreHidden_&&c.getVisible())&&this.addToClosestCluster_(c);g<this.markers_.length?this.timerRefStatic=setTimeout(function(){e.createClusters_(g)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},d.prototype.extend=function(a,b){return function(a){var b;for(b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])},d.CALCULATOR=function(a,b){for(var c=0,d="",e=a.length.toString(),f=e;0!==f;)f=parseInt(f/10,10),c++;return c=Math.min(c,b),{text:e,index:c,title:d}},d.BATCH_SIZE=2e3,d.BATCH_SIZE_IE=500,d.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",d.IMAGE_EXTENSION="png",d.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e(f,google.maps.OverlayView),f.getSharedCross=function(a){var b;return"undefined"==typeof f.getSharedCross.crossDiv&&(b=document.createElement("img"),b.style.cssText="position: absolute; z-index: 1000002; display: none;",b.style.marginLeft="-8px",b.style.marginTop="-9px",b.src=a,f.getSharedCross.crossDiv=b),f.getSharedCross.crossDiv},f.prototype.onAdd=function(){var a,b,c,d,e,g,h,i=this,j=!1,k=!1,l=20,m="url("+this.handCursorURL_+")",n=function(a){a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()},o=function(){i.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof f.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),f.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(a){(i.marker_.getDraggable()||i.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(i.marker_,"mouseover",a))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(a){!i.marker_.getDraggable()&&!i.marker_.getClickable()||k||(this.style.cursor=i.marker_.getCursor(),google.maps.event.trigger(i.marker_,"mouseout",a))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(a){k=!1,i.marker_.getDraggable()&&(j=!0,this.style.cursor=m),(i.marker_.getDraggable()||i.marker_.getClickable())&&(google.maps.event.trigger(i.marker_,"mousedown",a),n(a))}),google.maps.event.addDomListener(document,"mouseup",function(b){var c;if(j&&(j=!1,i.eventDiv_.style.cursor="pointer",google.maps.event.trigger(i.marker_,"mouseup",b)),k){if(e){c=i.getProjection().fromLatLngToDivPixel(i.marker_.getPosition()),c.y+=l,i.marker_.setPosition(i.getProjection().fromDivPixelToLatLng(c));try{i.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(o,1406)}catch(f){}}i.crossDiv_.style.display="none",i.marker_.setZIndex(a),d=!0,k=!1,b.latLng=i.marker_.getPosition(),google.maps.event.trigger(i.marker_,"dragend",b)
}}),google.maps.event.addListener(i.marker_.getMap(),"mousemove",function(d){var f;j&&(k?(d.latLng=new google.maps.LatLng(d.latLng.lat()-b,d.latLng.lng()-c),f=i.getProjection().fromLatLngToDivPixel(d.latLng),e&&(i.crossDiv_.style.left=f.x+"px",i.crossDiv_.style.top=f.y+"px",i.crossDiv_.style.display="",f.y-=l),i.marker_.setPosition(i.getProjection().fromDivPixelToLatLng(f)),e&&(i.eventDiv_.style.top=f.y+l+"px"),google.maps.event.trigger(i.marker_,"drag",d)):(b=d.latLng.lat()-i.marker_.getPosition().lat(),c=d.latLng.lng()-i.marker_.getPosition().lng(),a=i.marker_.getZIndex(),g=i.marker_.getPosition(),h=i.marker_.getMap().getCenter(),e=i.marker_.get("raiseOnDrag"),k=!0,i.marker_.setZIndex(1e6),d.latLng=i.marker_.getPosition(),google.maps.event.trigger(i.marker_,"dragstart",d)))}),google.maps.event.addDomListener(document,"keydown",function(a){k&&27===a.keyCode&&(e=!1,i.marker_.setPosition(g),i.marker_.getMap().setCenter(h),google.maps.event.trigger(document,"mouseup",a))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(a){(i.marker_.getDraggable()||i.marker_.getClickable())&&(d?d=!1:(google.maps.event.trigger(i.marker_,"click",a),n(a)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(a){(i.marker_.getDraggable()||i.marker_.getClickable())&&(google.maps.event.trigger(i.marker_,"dblclick",a),n(a))}),google.maps.event.addListener(this.marker_,"dragstart",function(){k||(e=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(){k||e&&(i.setPosition(l),i.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(){k||e&&i.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){i.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){i.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){i.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){i.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){i.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){i.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){i.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){i.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){i.setStyles()})]},f.prototype.onRemove=function(){var a;for(null!==this.labelDiv_.parentNode&&this.labelDiv_.parentNode.removeChild(this.labelDiv_),null!==this.eventDiv_.parentNode&&this.eventDiv_.parentNode.removeChild(this.eventDiv_),a=0;a<this.listeners_.length;a++)google.maps.event.removeListener(this.listeners_[a])},f.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},f.prototype.setContent=function(){var a=this.marker_.get("labelContent");"undefined"==typeof a.nodeType?(this.labelDiv_.innerHTML=a,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(a),a=a.cloneNode(!0),this.eventDiv_.appendChild(a))},f.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},f.prototype.setStyles=function(){var a,b;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",b=this.marker_.get("labelStyle");for(a in b)b.hasOwnProperty(a)&&(this.labelDiv_.style[a]=b[a],this.eventDiv_.style[a]=b[a]);this.setMandatoryStyles()},f.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},f.prototype.setAnchor=function(){var a=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-a.x+"px",this.labelDiv_.style.marginTop=-a.y+"px",this.eventDiv_.style.marginLeft=-a.x+"px",this.eventDiv_.style.marginTop=-a.y+"px"},f.prototype.setPosition=function(a){var b=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof a&&(a=0),this.labelDiv_.style.left=Math.round(b.x)+"px",this.labelDiv_.style.top=Math.round(b.y-a)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},f.prototype.setZIndex=function(){var a=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+a,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+a,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},f.prototype.setVisible=function(){this.labelDiv_.style.display=this.marker_.get("labelVisible")&&this.marker_.getVisible()?"block":"none",this.eventDiv_.style.display=this.labelDiv_.style.display},e(g,google.maps.Marker),g.prototype.setMap=function(a){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(a)},window.InfoBox=a,window.Cluster=c,window.ClusterIcon=b,window.MarkerClusterer=d,window.MarkerLabel_=f,window.MarkerWithLabel=g})}}),angular.module("google-maps.extensions".ns()).service("ExtendMarkerClusterer".ns(),function(){return{init:_.once(function(){(function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};window.NgMapCluster=function(a){function c(a){c.__super__.constructor.call(this,a),this.markers_=new window.PropMap}return b(c,a),c.prototype.addMarker=function(a){var b,c;if(this.isMarkerAlreadyAdded_(a)){var d=this.markers_.get(a.key);if(d.getPosition().lat()==a.getPosition().lat()&&d.getPosition().lon()==a.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var e=this.markers_.length+1,f=(this.center_.lat()*(e-1)+a.getPosition().lat())/e,g=(this.center_.lng()*(e-1)+a.getPosition().lng())/e;this.center_=new google.maps.LatLng(f,g),this.calculateBounds_()}}else this.center_=a.getPosition(),this.calculateBounds_();return a.isAdded=!0,this.markers_.push(a),b=this.markers_.length,c=this.markerClusterer_.getMaxZoom(),null!==c&&this.map_.getZoom()>c?a.getMap()!==this.map_&&a.setMap(this.map_):b<this.minClusterSize_?a.getMap()!==this.map_&&a.setMap(this.map_):b===this.minClusterSize_?this.markers_.values().forEach(function(a){a.setMap(null)}):a.setMap(null),!0},c.prototype.isMarkerAlreadyAdded_=function(a){return _.isNullOrUndefined(this.markers_.get(a.key))},c.prototype.getBounds=function(){var a,b=new google.maps.LatLngBounds(this.center_,this.center_),c=this.getMarkers().values();for(a=0;a<c.length;a++)b.extend(c[a].getPosition());return b},c.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new PropMap,delete this.markers_},c}(Cluster),window.NgMapMarkerClusterer=function(a){function c(a,b,d){c.__super__.constructor.call(this,a,b,d),this.markers_=new window.PropMap}return b(c,a),c.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new PropMap},c.prototype.removeMarker_=function(a){return this.markers_.get(a.key)?(a.setMap(null),this.markers_.remove(a.key),!0):!1},c.prototype.createClusters_=function(a){var b,c,d,e=this;if(this.ready_){0===a&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),d=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var f=this.getExtendedBounds(d),g=Math.min(a+this.batchSize_,this.markers_.length);for(b=a;g>b;b++)c=this.markers_.values()[b],!c.isAdded&&this.isMarkerInBounds_(c,f)&&(!this.ignoreHidden_||this.ignoreHidden_&&c.getVisible())&&this.addToClosestCluster_(c);if(g<this.markers_.length)this.timerRefStatic=setTimeout(function(){e.createClusters_(g)},0);else{for(b=0;b<this.clusters_.length;b++)this.clusters_[b].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},c.prototype.addToClosestCluster_=function(a){var b,c,d,e,f=4e4,g=null;for(b=0;b<this.clusters_.length;b++)d=this.clusters_[b],e=d.getCenter(),e&&(c=this.distanceBetweenPoints_(e,a.getPosition()),f>c&&(f=c,g=d));g&&g.isMarkerInClusterBounds(a)?g.addMarker(a):(d=new NgMapCluster(this),d.addMarker(a),this.clusters_.push(d))},c.prototype.redraw_=function(){this.createClusters_(0)},c.prototype.resetViewport_=function(a){var b;for(b=0;b<this.clusters_.length;b++)this.clusters_[b].remove();this.clusters_=[],this.markers_.values().forEach(function(b){b.isAdded=!1,a&&b.setMap(null)})},c.prototype.extend=function(a,b){return function(a){var b;for(b in a.prototype)"constructor"!==b&&(this.prototype[b]=a.prototype[b]);return this}.apply(a,[b])},c.prototype.onAdd=function(){var a=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){a.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")})]},c}(MarkerClusterer)}).call(this)})}});"use strict";angular.module("myApp.version",["myApp.version.interpolate-filter","myApp.version.version-directive"]).value("version","0.1");"use strict";angular.module("myApp.version.version-directive",[]).directive("appVersion",["version",function(a){return function(b,c,d){c.text(a)}}]);"use strict";angular.module("myApp.version.interpolate-filter",[]).filter("interpolate",["version",function(a){return function(b){return String(b).replace(/\%VERSION\%/gm,a)}}]);(function(){"use strict";var a=angular.module("LocalStorageModule",[]);a.provider("localStorageService",function(){this.prefix="ls";this.cookie={expiry:30,path:"/"};this.notify={setItem:true,removeItem:false};this.setPrefix=function(a){this.prefix=a};this.setStorageCookie=function(a,b){this.cookie={expiry:a,path:b}};this.setNotify=function(a,b){this.notify={setItem:a,removeItem:b}};this.$get=["$rootScope",function(a){var b=this.prefix;if(b.substr(-1)!=="."){b=!!b?b+".":""}var c=function(){try{var c="localStorage"in window&&window["localStorage"]!==null;var d=b+"__"+Math.round(Math.random()*1e7);if(c){localStorage.setItem(d,"");localStorage.removeItem(d)}return true}catch(e){a.$broadcast("LocalStorageModule.notification.error",e.message);return false}};var d=function(d,e){if(!c()){a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED");if(notify.setItem){a.$broadcast("LocalStorageModule.notification.setitem",{key:d,newvalue:e,storageType:"cookie"})}return j(d,e)}if(typeof e==="undefined"){e=null}try{if(angular.isObject(e)||angular.isArray(e)){e=angular.toJson(e)}localStorage.setItem(b+d,e);if(notify.setItem){a.$broadcast("LocalStorageModule.notification.setitem",{key:d,newvalue:e,storageType:"localStorage"})}}catch(f){a.$broadcast("LocalStorageModule.notification.error",f.message);return j(d,e)}return true};var e=function(d){if(!c()){a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED");return k(d)}var e=localStorage.getItem(b+d);if(!e||e==="null"){return null}if(e.charAt(0)==="{"||e.charAt(0)==="["){return angular.fromJson(e)}return e};var f=function(d){if(!c()){a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED");if(notify.removeItem){a.$broadcast("LocalStorageModule.notification.removeitem",{key:d,storageType:"cookie"})}return l(d)}try{localStorage.removeItem(b+d);if(notify.removeItem){a.$broadcast("LocalStorageModule.notification.removeitem",{key:d,storageType:"localStorage"})}}catch(e){a.$broadcast("LocalStorageModule.notification.error",e.message);return l(d)}return true};var g=function(){if(!c()){a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED");return false}var d=b.length;var e=[];for(var f in localStorage){if(f.substr(0,d)===b){try{e.push(f.substr(d))}catch(g){a.$broadcast("LocalStorageModule.notification.error",g.Description);return[]}}}return e};var h=function(){if(!c()){a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED");return m()}var d=b.length;for(var e in localStorage){if(e.substr(0,d)===b){try{f(e.substr(d))}catch(g){a.$broadcast("LocalStorageModule.notification.error",g.message);return m()}}}return true};var i=function(){try{return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}catch(b){a.$broadcast("LocalStorageModule.notification.error",b.message);return false}};var j=function(c,d){if(typeof d==="undefined"){return false}if(!i()){a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED");return false}try{var e="",f=new Date;if(d===null){f.setTime(f.getTime()+-1*24*60*60*1e3);e="; expires="+f.toGMTString();d=""}else if(cookie.expiry!==0){f.setTime(f.getTime()+cookie.expiry*24*60*60*1e3);e="; expires="+f.toGMTString()}if(!!c){document.cookie=b+c+"="+encodeURIComponent(d)+e+"; path="+cookie.path}}catch(g){a.$broadcast("LocalStorageModule.notification.error",g.message);return false}return true};var k=function(c){if(!i()){a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED");return false}var d=document.cookie.split(";");for(var e=0;e<d.length;e++){var f=d[e];while(f.charAt(0)===" "){f=f.substring(1,f.length)}if(f.indexOf(b+c+"=")===0){return decodeURIComponent(f.substring(b.length+c.length+1,f.length))}}return null};var l=function(a){j(a,null)};var m=function(){var a=null,c=null;var d=b.length;var e=document.cookie.split(";");for(var f=0;f<e.length;f++){a=e[f];while(a.charAt(0)===" "){a=a.substring(1,a.length)}key=a.substring(d,a.indexOf("="));l(key)}};return{isSupported:c,set:d,add:d,get:e,keys:g,remove:f,clearAll:h,cookie:{set:j,add:j,get:k,remove:l,clearAll:m}}}]})}).call(this);"use strict";angular.module("geoLocation",[]).constant("geoLocation_msg",{"errors.location.unsupportedBrowser":"Browser does not support location services","errors.location.notFound":"Unable to determine your location"});angular.module("geoLocation").factory("geoLocation",["$q","$rootScope","$window","geoLocation_msg",function(a,b,c,d){return{getLocation:function(){var e=a.defer();if(c.navigator&&c.navigator.geolocation){c.navigator.geolocation.getCurrentPosition(function(a){b.$apply(function(){e.resolve(a)})},function(a){b.$broadcast("error",d["errors.location.notFound"]);b.$apply(function(){e.reject(d["errors.location.notFound"])})})}else{b.$broadcast("error",d["errors.location.unsupportedBrowser"]);b.$apply(function(){e.reject(d["errors.location.unsupportedBrowser"])})}return e.promise}}}]);var config=angular.module("config",[]);config.factory("configuration",function(){return{apiUrl:"http://api.ireview.dev/v1/"}});"use strict";angular.module("indexController",["ngRoute"]).config(["$routeProvider",function(a){a.when("/index",{templateUrl:"modules/home/index.html",controller:"indexCtrl"}).when("/restaurant/:restaurantId",{templateUrl:"modules/restaurant/detail.html",controller:"detailCtrl"})}]).controller("indexCtrl",["$scope","$http","localStorageService","$location","restaurantSvr","geoLocation",function(a,b,c,d,e,f){h();a.restaurantList={params:{sort:"popular"}};if(!c.get("latitude")||!c.get("longitude")){f.getLocation().then(function(a){c.add("latitude",a.coords.latitude);c.add("longitude",a.coords.longitude);g()});g()}else{g()}a.popularListPageChanged=function(){var b=a.popularListCurrentPage;g({page:b})};e.getRestaurantCategories().then(function(b){a.categories=b});a.prices=[{value:"$",numericValue:1},{value:"$$",numericValue:2},{value:"$$$",numericValue:3},{value:"$$$$",numericValue:4},{value:"$$$$$",numericValue:5}];a.getLocation=function(a){return b.get("http://maps.googleapis.com/maps/api/geocode/json",{params:{address:a,sensor:false}}).then(function(a){return a.data.results.map(function(a){return{formatted_address:a.formatted_address,location:a.geometry.location}})})};a.onSelect=function(b,c,d){a.$item=b;a.$model=c;a.$label=d;alert(c)};a.set=function(){a.restaurantList.params=merge_objects(a.restaurantList.params,{sort:a.sort});g()};a.search=function(){a.restaurantList.params=merge_objects(a.restaurantList.params,{"formatted-address":a.search.formattedAddress,price_range:a.search.price,category:a.search.category});g()};function g(b){if(typeof b!=="undefined"){b=merge_objects(a.restaurantList.params,b)}else{b=a.restaurantList.params}e.getRestaurants(b).then(function(b){a.restaurants=b.items;a.maxSize=6;a.popularListItemPerPage=8;a.popularListTotalItems=b._meta.totalCount;a.popularListCurrentPage=b._meta.currentPage+1})}function h(){a.sidebar="modules/partials/sidebar.html";a.header="modules/partials/header.html";a.footer="modules/partials/footer.html"}a.trend=[{key:"Trend",values:[[10254096e5,0],[1028088e6,6.3382185140371],[10307664e5,5.9507873460847],[10333584e5,11.569146943813],[10360404e5,5.4767332317425],[10386324e5,.50794682203014],[10413108e5,5.5310285460542],[10439892e5,5.7838296963382],[10464084e5,7.3249341615649],[10490868e5,6.7078630712489],[13304916e5,13.388148670744]]}];a.options={animate:{duration:1e3,enabled:true},barColor:"#1aae88",size:60,scaleColor:false,lineWidth:5,lineCap:"circle"}}]).controller("detailCtrl",["$scope","$timeout","$upload","localStorageService","$location","$routeParams","restaurantSvr","geoLocation","reviewSvr","overviewSvr","locationSvr","photoSvr",function(a,b,c,d,e,f,g,h,i,j,k,l){p();if(!d.get("latitude")||!d.get("longitude")){h.getLocation().then(function(a){d.add("latitude",a.coords.latitude);d.add("longitude",a.coords.longitude);n()});n()}else{n()}a.reviewListPageChanged=function(){var b=a.reviewListCurrentPage;m({page:b})};a.changeLength=function(a){a.textLength=99999};o();m();a.showPhone=function(){alert(a.restaurant.phone)};a.getMap=function(){k.getLocation(f.restaurantId).then(function(b){a.map={center:{latitude:b.lat,longitude:b.long},zoom:14};a.mapIsReady=true})};a.map={center:{latitude:45,longitude:45},zoom:5};a.mapIsReady=false;a.getPhotos=function(){l.getRestaurantPhotos(f.restaurantId).then(function(b){a.photos=b.items})};a.onFileSelect=function(b){for(var d=0;d<b.length;d++){var e=b[d];a.upload=c.upload({url:"http://api.iresturant.com/v1/photos/upload?access-token=f899139df5e1059396431415e770c6dd",method:"POST",data:{myObj:a.myModelObj,restaurant_id:f.restaurantId,user_id:1},file:e,fileFormDataName:"data"}).progress(function(a){console.log("percent: "+parseInt(100*a.loaded/a.total))}).success(function(a,b,c,d){console.log(a)})}};a.reviewForm={};a.reviewForm.restaurant_id=f.restaurantId;a.submitReview=function(){console.log(a.reviewForm);i.postRestaurantReview(a.reviewForm).then(function(a){console.log(a)});return false};function m(b){i.getRestaurantReviews(f.restaurantId,b).then(function(b){a.reviews=b.items;a.maxSize=6;a.reviewListItemPerPage=8;a.reviewListTotalItems=b._meta.totalCount;a.reviewListCurrentPage=b._meta.currentPage+1})}function n(){var b=f.restaurantId;g.getRestaurant(b).then(function(b){a.restaurant=b});g.getOverviews(b,a)}function o(){q(f.restaurantId)}function p(){a.templates=[{name:"review-widget.html",url:"modules/partials/review-widget.html"}];a.sidebar="modules/partials/sidebar.html";a.header="modules/partials/header.html";a.footer="modules/partials/footer.html"}function q(b){j.getGraph(b).then(function(b){a.lineChartYData=[{name:"Restaurant Overview",data:b}];a.lineChartXData=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})}}]).controller("navigationController",["$scope","$http","restaurantSvr",function(a,b,c){a.navSearch=function(a){return c.findRestaurant(a).then(function(a){return a.map(function(a){return a})})}}]);"use strict";var directiveMod=angular.module("directive",[]);directiveMod.directive("showRating",function(){var a={link:function b(a,c,d){var e=Math.round(d.value);var f=5;var g="";for(var h=0;h<e;h++){g=g+'<span class="glyphicon glyphicon-star"></span>'}for(var h=0;h<f-e;h++){g=g+'<span class="glyphicon glyphicon-star-empty"></span>'}c.html(g)}};return a});function merge_objects(a,b){var c={};for(var d in a){c[d]=a[d]}for(var d in b){c[d]=b[d]}return c}"use strict";var restaurantService=angular.module("restaurantService",[]);restaurantService.factory("restaurantSvr",["localStorageService","Restangular",function(a,b){return{getRestaurants:function(c){var d=b.all("restaurants/list");var e=this;return d.getList(merge_objects({latitude:a.get("latitude"),longitude:a.get("longitude"),page:1},c)).then(function(a){var b=a.data[0].items;for(var c=0;c<b.length;c++){var d="";for(var e=0;e<b[c].price_range;e++){d=d+"$"}b[c].price_range_symbol=d}return{items:b,_meta:a.data[0]._meta}})},getRestaurant:function(a){var c="restaurants/"+a;var d=b.one(c);return d.get().then(function(a){return a.data})},getOverviews:function(a,c){var d="restaurants/"+a+"/stats";var e=b.one(d);return e.get().then(function(a){c.stats=a.data.items;return a.data.items})},getRestaurantCategories:function(){var a="restaurants/category";var c=b.all(a);return c.getList().then(function(a){return a.data[0].items})},getRestaurantLocations:function(a){var c="restaurants/location";var d=b.all(c);return d.getList({search:a}).then(function(a){return a.data[0].items})},findRestaurant:function(a){var c="restaurants/find";var d=b.all(c);return d.getList({search:a}).then(function(a){return a.data[0].items})}}}]);"use strict";var reviewService=angular.module("reviewService",[]);reviewService.factory("reviewSvr",["localStorageService","Restangular",function(a,b){return{getRestaurantReviews:function(a,c){var d=b.all("restaurants/"+a+"/reviews");return d.getList(c).then(function(a){return{items:a.data[0].items,_meta:a.data[0]._meta}})},postRestaurantReview:function(a){var c=b.all("reviews");var d=$.param(a);return c.post(d,{},{"Content-Type":"application/x-www-form-urlencoded"}).then(function(a){return a})}}}]);"use strict";var overviewService=angular.module("overviewService",[]);overviewService.factory("overviewSvr",["localStorageService","Restangular",function(a,b){return{getGraph:function(a){var c="overviews/"+a+"/graph";var d=b.all(c);return d.getList().then(function(a){a=a.data[0].items;var b;b=[];for(var c=0;c<a.length;c++){b[c]=a[c].percentile}return b})}}}]);"use strict";var locationService=angular.module("locationService",[]);locationService.factory("locationSvr",["localStorageService","Restangular",function(a,b){return{getLocation:function(a){var c=b.one("restaurants/"+a);return c.get({expand:"locations"}).then(function(a){return a.data.locations[0]})}}}]);"use strict";var photoService=angular.module("photoService",[]);photoService.factory("photoSvr",["localStorageService","Restangular",function(a,b){return{getRestaurantPhotos:function(a){var c="restaurants/"+a+"/photos";var d=b.all(c);return d.getList().then(function(a){return{items:a.data[0].items,_meta:a.data[0]._meta}})},uploadRestaurantPhoto:function(a,c){var d="photos/"+a;var e=new FormData;angular.forEach(c,function(a,b){e.append(b,a)});b.all(d).withHttpConfig({transformRequest:angular.identity}).post(e,{},{"Content-Type":"multipart/form-data"}).then(function(a){console.log(a)},function(){})}}}]);!function(){var a={version:"3.4.13"};if(!Date.now)Date.now=function(){return+new Date};var b=[].slice,c=function(a){return b.call(a)};var d=document,e=d.documentElement,f=window;try{c(e.childNodes)[0].nodeType}catch(g){c=function(a){var b=a.length,c=new Array(b);while(b--)c[b]=a[b];return c}}try{d.createElement("div").style.setProperty("opacity",0,"")}catch(h){var i=f.Element.prototype,j=i.setAttribute,k=i.setAttributeNS,l=f.CSSStyleDeclaration.prototype,m=l.setProperty;i.setAttribute=function(a,b){j.call(this,a,b+"")};i.setAttributeNS=function(a,b,c){k.call(this,a,b,c+"")};l.setProperty=function(a,b,c){m.call(this,a,b+"",c)}}a.ascending=n;function n(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}a.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};a.min=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){while(++c<d&&!((e=a[c])!=null&&e<=e))e=undefined;while(++c<d)if((f=a[c])!=null&&e>f)e=f}else{while(++c<d&&!((e=b.call(a,a[c],c))!=null&&e<=e))e=undefined;while(++c<d)if((f=b.call(a,a[c],c))!=null&&e>f)e=f}return e};a.max=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){while(++c<d&&!((e=a[c])!=null&&e<=e))e=undefined;while(++c<d)if((f=a[c])!=null&&f>e)e=f}else{while(++c<d&&!((e=b.call(a,a[c],c))!=null&&e<=e))e=undefined;while(++c<d)if((f=b.call(a,a[c],c))!=null&&f>e)e=f}return e};a.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(arguments.length===1){while(++c<d&&!((e=g=a[c])!=null&&e<=e))e=g=undefined;while(++c<d)if((f=a[c])!=null){if(e>f)e=f;if(g<f)g=f}}else{while(++c<d&&!((e=g=b.call(a,a[c],c))!=null&&e<=e))e=undefined;while(++c<d)if((f=b.call(a,a[c],c))!=null){if(e>f)e=f;if(g<f)g=f}}return[e,g]};function o(a){return a===null?NaN:+a}function p(a){return!isNaN(a)}a.sum=function(a,b){var c=0,d=a.length,e,f=-1;if(arguments.length===1){while(++f<d)if(p(e=+a[f]))c+=e}else{while(++f<d)if(p(e=+b.call(a,a[f],f)))c+=e}return c};a.mean=function(a,b){var c=0,d=a.length,e,f=-1,g=d;if(arguments.length===1){while(++f<d)if(p(e=o(a[f])))c+=e;else--g}else{while(++f<d)if(p(e=o(b.call(a,a[f],f))))c+=e;else--g}return g?c/g:undefined};a.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e};a.median=function(b,c){var d=[],e=b.length,f,g=-1;if(arguments.length===1){while(++g<e)if(p(f=o(b[g])))d.push(f)}else{while(++g<e)if(p(f=o(c.call(b,b[g],g))))d.push(f)}return d.length?a.quantile(d.sort(n),.5):undefined};function q(a){return{left:function(b,c,d,e){if(arguments.length<3)d=0;if(arguments.length<4)e=b.length;while(d<e){var f=d+e>>>1;if(a(b[f],c)<0)d=f+1;else e=f}return d},right:function(b,c,d,e){if(arguments.length<3)d=0;if(arguments.length<4)e=b.length;while(d<e){var f=d+e>>>1;if(a(b[f],c)>0)e=f;else d=f+1}return d}}}var r=q(n);a.bisectLeft=r.left;a.bisect=a.bisectRight=r.right;a.bisector=function(a){return q(a.length===1?function(b,c){return n(a(b),c)}:a)};a.shuffle=function(a){var b=a.length,c,d;while(b){d=Math.random()*b--|0;c=a[b],a[b]=a[d],a[d]=c}return a};a.permute=function(a,b){var c=b.length,d=new Array(c);while(c--)d[c]=a[b[c]];return d};a.pairs=function(a){var b=0,c=a.length-1,d,e=a[0],f=new Array(c<0?0:c);while(b<c)f[b]=[d=e,e=a[++b]];return f};a.zip=function(){if(!(f=arguments.length))return[];for(var b=-1,c=a.min(arguments,s),d=new Array(c);++b<c;){for(var e=-1,f,g=d[b]=new Array(f);++e<f;){g[e]=arguments[e][b]}}return d};function s(a){return a.length}a.transpose=function(b){return a.zip.apply(a,b)};a.keys=function(a){var b=[];for(var c in a)b.push(c);return b};a.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b};a.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b};a.merge=function(a){var b=a.length,c,d=-1,e=0,f,g;while(++d<b)e+=a[d].length;f=new Array(e);while(--b>=0){g=a[b];c=g.length;while(--c>=0){f[--e]=g[c]}}return f};var t=Math.abs;a.range=function(a,b,c){if(arguments.length<3){c=1;if(arguments.length<2){b=a;a=0}}if((b-a)/c===Infinity)throw new Error("infinite range");var d=[],e=u(t(c)),f=-1,g;a*=e,b*=e,c*=e;if(c<0)while((g=a+c*++f)>b)d.push(g/e);else while((g=a+c*++f)<b)d.push(g/e);return d};function u(a){var b=1;while(a*b%1)b*=10;return b}function v(a,b){for(var c in b){Object.defineProperty(a.prototype,c,{value:b[c],enumerable:false})}}a.map=function(a){var b=new w;if(a instanceof w)a.forEach(function(a,c){b.set(a,c)});else for(var c in a)b.set(c,a[c]);return b};function w(){this._=Object.create(null)}var x="__proto__",y="\x00";v(w,{has:B,get:function(a){return this._[z(a)]},set:function(a,b){return this._[z(a)]=b},remove:C,keys:D,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:A(b),value:this._[b]});return a},size:E,empty:F,forEach:function(a){for(var b in this._)a.call(this,A(b),this._[b])}});function z(a){return(a+="")===x||a[0]===y?y+a:a}function A(a){return(a+="")[0]===y?a.slice(1):a}function B(a){return z(a)in this._}function C(a){return(a=z(a))in this._&&delete this._[a]}function D(){var a=[];for(var b in this._)a.push(A(b));return a}function E(){var a=0;for(var b in this._)++a;return a}function F(){for(var a in this._)return false;return true}a.nest=function(){var b={},c=[],d=[],e,f;function g(a,d,h){if(h>=c.length)return f?f.call(b,d):e?d.sort(e):d;var i=-1,j=d.length,k=c[h++],l,m,n,o=new w,p;while(++i<j){if(p=o.get(l=k(m=d[i]))){p.push(m)}else{o.set(l,[m])}}if(a){m=a();n=function(b,c){m.set(b,g(a,c,h))}}else{m={};n=function(b,c){m[b]=g(a,c,h)}}o.forEach(n);return m}function h(a,b){if(b>=c.length)return a;var e=[],f=d[b++];a.forEach(function(a,c){e.push({key:a,values:h(c,b)})});return f?e.sort(function(a,b){return f(a.key,b.key)}):e}b.map=function(a,b){return g(b,a,0)};b.entries=function(b){return h(g(a.map,b,0),0)};b.key=function(a){c.push(a);return b};b.sortKeys=function(a){d[c.length-1]=a;return b};b.sortValues=function(a){e=a;return b};b.rollup=function(a){f=a;return b};return b};a.set=function(a){var b=new G;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b};function G(){this._=Object.create(null)}v(G,{has:B,add:function(a){this._[z(a+="")]=true;return a},remove:C,values:D,size:E,empty:F,forEach:function(a){for(var b in this._)a.call(this,A(b))}});a.behavior={};a.rebind=function(a,b){var c=1,d=arguments.length,e;while(++c<d)a[e=arguments[c]]=H(a,b,b[e]);return a};function H(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function I(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=J.length;c<d;++c){var e=J[c]+b;if(e in a)return e}}var J=["webkit","ms","moz","Moz","o","O"];function K(){}a.dispatch=function(){var a=new L,b=-1,c=arguments.length;while(++b<c)a[arguments[b]]=M(a);return a};function L(){}L.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0){d=a.slice(c+1);a=a.slice(0,c)}if(a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(arguments.length===2){if(b==null)for(a in this){if(this.hasOwnProperty(a))this[a].on(d,null)}return this}};function M(a){var b=[],c=new w;function d(){var c=b,d=-1,e=c.length,f;while(++d<e)if(f=c[d].on)f.apply(this,arguments);return a}d.on=function(d,e){var f=c.get(d),g;if(arguments.length<2)return f&&f.on;if(f){f.on=null;b=b.slice(0,g=b.indexOf(f)).concat(b.slice(g+1));c.remove(d)}if(e)b.push(c.set(d,{on:e}));return a};return d}a.event=null;function N(){a.event.preventDefault()}function O(){var b=a.event,c;while(c=b.sourceEvent)b=c;return b}function P(b){var c=new L,d=0,e=arguments.length;while(++d<e)c[arguments[d]]=M(c);c.of=function(d,e){return function(f){try{var g=f.sourceEvent=a.event;f.target=b;a.event=f;c[f.type].apply(d,e)}finally{a.event=g}}};return c}a.requote=function(a){return a.replace(Q,"\\$&")};var Q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var R={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]};function S(a){R(a,X);return a}var T=function(a,b){return b.querySelector(a)},U=function(a,b){return b.querySelectorAll(a)
},V=e.matches||e[I(e,"matchesSelector")],W=function(a,b){return V.call(a,b)};if(typeof Sizzle==="function"){T=function(a,b){return Sizzle(a,b)[0]||null};U=Sizzle;W=Sizzle.matchesSelector}a.selection=function(){return qb};var X=a.selection.prototype=[];X.select=function(a){var b=[],c,d,e,f;a=Y(a);for(var g=-1,h=this.length;++g<h;){b.push(c=[]);c.parentNode=(e=this[g]).parentNode;for(var i=-1,j=e.length;++i<j;){if(f=e[i]){c.push(d=a.call(f,f.__data__,i,g));if(d&&"__data__"in f)d.__data__=f.__data__}else{c.push(null)}}}return S(b)};function Y(a){return typeof a==="function"?a:function(){return T(a,this)}}X.selectAll=function(a){var b=[],d,e;a=Z(a);for(var f=-1,g=this.length;++f<g;){for(var h=this[f],i=-1,j=h.length;++i<j;){if(e=h[i]){b.push(d=c(a.call(e,e.__data__,i,f)));d.parentNode=e}}}return S(b)};function Z(a){return typeof a==="function"?a:function(){return U(a,this)}}var $={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:$,qualify:function(a){var b=a.indexOf(":"),c=a;if(b>=0){c=a.slice(0,b);a=a.slice(b+1)}return $.hasOwnProperty(c)?{space:$[c],local:a}:a}};X.attr=function(b,c){if(arguments.length<2){if(typeof b==="string"){var d=this.node();b=a.ns.qualify(b);return b.local?d.getAttributeNS(b.space,b.local):d.getAttribute(b)}for(c in b)this.each(_(c,b[c]));return this}return this.each(_(b,c))};function _(b,c){b=a.ns.qualify(b);function d(){this.removeAttribute(b)}function e(){this.removeAttributeNS(b.space,b.local)}function f(){this.setAttribute(b,c)}function g(){this.setAttributeNS(b.space,b.local,c)}function h(){var a=c.apply(this,arguments);if(a==null)this.removeAttribute(b);else this.setAttribute(b,a)}function i(){var a=c.apply(this,arguments);if(a==null)this.removeAttributeNS(b.space,b.local);else this.setAttributeNS(b.space,b.local,a)}return c==null?b.local?e:d:typeof c==="function"?b.local?i:h:b.local?g:f}function ab(a){return a.trim().replace(/\s+/g," ")}X.classed=function(a,b){if(arguments.length<2){if(typeof a==="string"){var c=this.node(),d=(a=cb(a)).length,e=-1;if(b=c.classList){while(++e<d)if(!b.contains(a[e]))return false}else{b=c.getAttribute("class");while(++e<d)if(!bb(a[e]).test(b))return false}return true}for(b in a)this.each(db(b,a[b]));return this}return this.each(db(a,b))};function bb(b){return new RegExp("(?:^|\\s+)"+a.requote(b)+"(?:\\s+|$)","g")}function cb(a){return(a+"").trim().split(/^|\s+/)}function db(a,b){a=cb(a).map(eb);var c=a.length;function d(){var d=-1;while(++d<c)a[d](this,b)}function e(){var d=-1,e=b.apply(this,arguments);while(++d<c)a[d](this,e)}return typeof b==="function"?e:d}function eb(a){var b=bb(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";if(d){b.lastIndex=0;if(!b.test(e))c.setAttribute("class",ab(e+" "+a))}else{c.setAttribute("class",ab(e.replace(b," ")))}}}X.style=function(a,b,c){var d=arguments.length;if(d<3){if(typeof a!=="string"){if(d<2)b="";for(c in a)this.each(fb(c,a[c],b));return this}if(d<2)return f.getComputedStyle(this.node(),null).getPropertyValue(a);c=""}return this.each(fb(a,b,c))};function fb(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);if(d==null)this.style.removeProperty(a);else this.style.setProperty(a,d,c)}return b==null?d:typeof b==="function"?f:e}X.property=function(a,b){if(arguments.length<2){if(typeof a==="string")return this.node()[a];for(b in a)this.each(gb(b,a[b]));return this}return this.each(gb(a,b))};function gb(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);if(c==null)delete this[a];else this[a]=c}return b==null?c:typeof b==="function"?e:d}X.text=function(a){return arguments.length?this.each(typeof a==="function"?function(){var b=a.apply(this,arguments);this.textContent=b==null?"":b}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};X.html=function(a){return arguments.length?this.each(typeof a==="function"?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};X.append=function(a){a=hb(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};function hb(b){return typeof b==="function"?b:(b=a.ns.qualify(b)).local?function(){return this.ownerDocument.createElementNS(b.space,b.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,b)}}X.insert=function(a,b){a=hb(a);b=Y(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};X.remove=function(){return this.each(function(){var a=this.parentNode;if(a)a.removeChild(this)})};X.data=function(a,b){var c=-1,d=this.length,e,f;if(!arguments.length){a=new Array(d=(e=this[0]).length);while(++c<d){if(f=e[c]){a[c]=f.__data__}}return a}function g(a,c){var d,e=a.length,f=c.length,g=Math.min(e,f),k=new Array(f),l=new Array(f),m=new Array(e),n,o;if(b){var p=new w,q=new Array(e),r;for(d=-1;++d<e;){if(p.has(r=b.call(n=a[d],n.__data__,d))){m[d]=n}else{p.set(r,n)}q[d]=r}for(d=-1;++d<f;){if(!(n=p.get(r=b.call(c,o=c[d],d)))){l[d]=ib(o)}else if(n!==true){k[d]=n;n.__data__=o}p.set(r,true)}for(d=-1;++d<e;){if(p.get(q[d])!==true){m[d]=a[d]}}}else{for(d=-1;++d<g;){n=a[d];o=c[d];if(n){n.__data__=o;k[d]=n}else{l[d]=ib(o)}}for(;d<f;++d){l[d]=ib(c[d])}for(;d<e;++d){m[d]=a[d]}}l.update=k;l.parentNode=k.parentNode=m.parentNode=a.parentNode;h.push(l);i.push(k);j.push(m)}var h=mb([]),i=S([]),j=S([]);if(typeof a==="function"){while(++c<d){g(e=this[c],a.call(e,e.parentNode.__data__,c))}}else{while(++c<d){g(e=this[c],a)}}i.enter=function(){return h};i.exit=function(){return j};return i};function ib(a){return{__data__:a}}X.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};X.filter=function(a){var b=[],c,d,e;if(typeof a!=="function")a=jb(a);for(var f=0,g=this.length;f<g;f++){b.push(c=[]);c.parentNode=(d=this[f]).parentNode;for(var h=0,i=d.length;h<i;h++){if((e=d[h])&&a.call(e,e.__data__,h,f)){c.push(e)}}}return S(b)};function jb(a){return function(){return W(this,a)}}X.order=function(){for(var a=-1,b=this.length;++a<b;){for(var c=this[a],d=c.length-1,e=c[d],f;--d>=0;){if(f=c[d]){if(e&&e!==f.nextSibling)e.parentNode.insertBefore(f,e);e=f}}}return this};X.sort=function(a){a=kb.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};function kb(a){if(!arguments.length)a=n;return function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}X.each=function(a){return lb(this,function(b,c,d){a.call(b,b.__data__,c,d)})};function lb(a,b){for(var c=0,d=a.length;c<d;c++){for(var e=a[c],f=0,g=e.length,h;f<g;f++){if(h=e[f])b(h,f,c)}}return a}X.call=function(a){var b=c(arguments);a.apply(b[0]=this,b);return this};X.empty=function(){return!this.node()};X.node=function(){for(var a=0,b=this.length;a<b;a++){for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}}return null};X.size=function(){var a=0;lb(this,function(){++a});return a};function mb(a){R(a,nb);return a}var nb=[];a.selection.enter=mb;a.selection.enter.prototype=nb;nb.append=X.append;nb.empty=X.empty;nb.node=X.node;nb.call=X.call;nb.size=X.size;nb.select=function(a){var b=[],c,d,e,f,g;for(var h=-1,i=this.length;++h<i;){e=(f=this[h]).update;b.push(c=[]);c.parentNode=f.parentNode;for(var j=-1,k=f.length;++j<k;){if(g=f[j]){c.push(e[j]=d=a.call(f.parentNode,g.__data__,j,h));d.__data__=g.__data__}else{c.push(null)}}}return S(b)};nb.insert=function(a,b){if(arguments.length<2)b=ob(this);return X.insert.call(this,a,b)};function ob(a){var b,c;return function(d,e,f){var g=a[f].update,h=g.length,i;if(f!=c)c=f,b=0;if(e>=b)b=e+1;while(!(i=g[b])&&++b<h);return i}}X.transition=function(){var a=wj||++vj,b=[],c,d,e=xj||{time:Date.now(),ease:Kg,delay:0,duration:250};for(var f=-1,g=this.length;++f<g;){b.push(c=[]);for(var h=this[f],i=-1,j=h.length;++i<j;){if(d=h[i])Aj(d,i,a,e);c.push(d)}}return tj(b,a)};X.interrupt=function(){return this.each(pb)};function pb(){var a=this.__transition__;if(a)++a.active}a.select=function(a){var b=[typeof a==="string"?T(a,d):a];b.parentNode=e;return S([b])};a.selectAll=function(a){var b=c(typeof a==="string"?U(a,d):a);b.parentNode=e;return S([b])};var qb=a.select(e);X.on=function(a,b,c){var d=arguments.length;if(d<3){if(typeof a!=="string"){if(d<2)b=false;for(c in a)this.each(rb(c,a[c],b));return this}if(d<2)return(d=this.node()["__on"+a])&&d._;c=false}return this.each(rb(a,b,c))};function rb(b,d,e){var f="__on"+b,g=b.indexOf("."),h=tb;if(g>0)b=b.slice(0,g);var i=sb.get(b);if(i)b=i,h=ub;function j(){var a=this[f];if(a){this.removeEventListener(b,a,a.$);delete this[f]}}function k(){var a=h(d,c(arguments));j.call(this);this.addEventListener(b,this[f]=a,a.$=e);a._=d}function l(){var c=new RegExp("^__on([^.]+)"+a.requote(b)+"$"),d;for(var e in this){if(d=e.match(c)){var f=this[e];this.removeEventListener(d[1],f,f.$);delete this[e]}}}return g?d?k:j:d?K:l}var sb=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});sb.forEach(function(a){if("on"+a in d)sb.remove(a)});function tb(b,c){return function(d){var e=a.event;a.event=d;c[0]=this.__data__;try{b.apply(this,c)}finally{a.event=e}}}function ub(a,b){var c=tb(a,b);return function(a){var b=this,d=a.relatedTarget;if(!d||d!==b&&!(d.compareDocumentPosition(b)&8)){c.call(b,a)}}}var vb="onselectstart"in d?null:I(e.style,"userSelect"),wb=0;function xb(){var b=".dragsuppress-"+ ++wb,c="click"+b,d=a.select(f).on("touchmove"+b,N).on("dragstart"+b,N).on("selectstart"+b,N);if(vb){var g=e.style,h=g[vb];g[vb]="none"}return function(a){d.on(b,null);if(vb)g[vb]=h;if(a){function e(){d.on(c,null)}d.on(c,function(){N();e()},true);setTimeout(e,0)}}}a.mouse=function(a){return zb(a,O())};var yb=/WebKit/.test(f.navigator.userAgent)?-1:0;function zb(b,c){if(c.changedTouches)c=c.changedTouches[0];var d=b.ownerSVGElement||b;if(d.createSVGPoint){var e=d.createSVGPoint();if(yb<0&&(f.scrollX||f.scrollY)){d=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var g=d[0][0].getScreenCTM();yb=!(g.f||g.e);d.remove()}if(yb)e.x=c.pageX,e.y=c.pageY;else e.x=c.clientX,e.y=c.clientY;e=e.matrixTransform(b.getScreenCTM().inverse());return[e.x,e.y]}var h=b.getBoundingClientRect();return[c.clientX-h.left-b.clientLeft,c.clientY-h.top-b.clientTop]}a.touch=function(a,b,c){if(arguments.length<3)c=b,b=O().changedTouches;if(b)for(var d=0,e=b.length,f;d<e;++d){if((f=b[d]).identifier===c){return zb(a,f)}}};a.behavior.drag=function(){var b=P(f,"drag","dragstart","dragend"),c=null,d=g(K,a.mouse,Cb,"mousemove","mouseup"),e=g(Ab,a.touch,Bb,"touchmove","touchend");function f(){this.on("mousedown.drag",d).on("touchstart.drag",e)}function g(d,e,f,g,h){return function(){var i=this,j=a.event.target,k=i.parentNode,l=b.of(i,arguments),m=0,n=d(),o=".drag"+(n==null?"":"-"+n),p,q=a.select(f()).on(g+o,t).on(h+o,u),r=xb(),s=e(k,n);if(c){p=c.apply(i,arguments);p=[p.x-s[0],p.y-s[1]]}else{p=[0,0]}l({type:"dragstart"});function t(){var a=e(k,n),b,c;if(!a)return;b=a[0]-s[0];c=a[1]-s[1];m|=b|c;s=a;l({type:"drag",x:a[0]+p[0],y:a[1]+p[1],dx:b,dy:c})}function u(){if(!e(k,n))return;q.on(g+o,null).on(h+o,null);r(m&&a.event.target===j);l({type:"dragend"})}}}f.origin=function(a){if(!arguments.length)return c;c=a;return f};return a.rebind(f,b,"on")};function Ab(){return a.event.changedTouches[0].identifier}function Bb(){return a.event.target}function Cb(){return f}a.touches=function(a,b){if(arguments.length<2)b=O().touches;return b?c(b).map(function(b){var c=zb(a,b);c.identifier=b.identifier;return c}):[]};var Db=Math.PI,Eb=2*Db,Fb=Db/2,Gb=1e-6,Hb=Gb*Gb,Ib=Db/180,Jb=180/Db;function Kb(a){return a>0?1:a<0?-1:0}function Lb(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function Mb(a){return a>1?0:a<-1?Db:Math.acos(a)}function Nb(a){return a>1?Fb:a<-1?-Fb:Math.asin(a)}function Ob(a){return((a=Math.exp(a))-1/a)/2}function Pb(a){return((a=Math.exp(a))+1/a)/2}function Qb(a){return((a=Math.exp(2*a))-1)/(a+1)}function Rb(a){return(a=Math.sin(a/2))*a}var Sb=Math.SQRT2,Tb=2,Ub=4;a.interpolateZoom=function(a,b){var c=a[0],d=a[1],e=a[2],f=b[0],g=b[1],h=b[2];var i=f-c,j=g-d,k=i*i+j*j,l=Math.sqrt(k),m=(h*h-e*e+Ub*k)/(2*e*Tb*l),n=(h*h-e*e-Ub*k)/(2*h*Tb*l),o=Math.log(Math.sqrt(m*m+1)-m),p=Math.log(Math.sqrt(n*n+1)-n),q=p-o,r=(q||Math.log(h/e))/Sb;function s(a){var b=a*r;if(q){var f=Pb(o),g=e/(Tb*l)*(f*Qb(Sb*b+o)-Ob(o));return[c+g*i,d+g*j,e*f/Pb(Sb*b+o)]}return[c+a*i,d+a*j,e*Math.exp(Sb*b)]}s.duration=r*1e3;return s};a.behavior.zoom=function(){var b={x:0,y:0,k:1},c,d,e,g=[960,500],h=Vb,i="mousedown.zoom",j="mousemove.zoom",k="mouseup.zoom",l,m="touchstart.zoom",n,o=P(t,"zoomstart","zoom","zoomend"),p,q,r,s;function t(a){a.on(i,C).on(Xb+".zoom",E).on("dblclick.zoom",F).on(m,D)}t.event=function(c){c.each(function(){var c=o.of(this,arguments),d=b;if(wj){a.select(this).transition().each("start.zoom",function(){b=this.__chart__||{x:0,y:0,k:1};z(c)}).tween("zoom:zoom",function(){var e=g[0],f=g[1],h=e/2,i=f/2,j=a.interpolateZoom([(h-b.x)/b.k,(i-b.y)/b.k,e/b.k],[(h-d.x)/d.k,(i-d.y)/d.k,e/d.k]);return function(a){var d=j(a),f=e/d[2];this.__chart__=b={x:h-d[0]*f,y:i-d[1]*f,k:f};A(c)}}).each("end.zoom",function(){B(c)})}else{this.__chart__=b;z(c);A(c);B(c)}})};t.translate=function(a){if(!arguments.length)return[b.x,b.y];b={x:+a[0],y:+a[1],k:b.k};y();return t};t.scale=function(a){if(!arguments.length)return b.k;b={x:b.x,y:b.y,k:+a};y();return t};t.scaleExtent=function(a){if(!arguments.length)return h;h=a==null?Vb:[+a[0],+a[1]];return t};t.center=function(a){if(!arguments.length)return e;e=a&&[+a[0],+a[1]];return t};t.size=function(a){if(!arguments.length)return g;g=a&&[+a[0],+a[1]];return t};t.x=function(a){if(!arguments.length)return q;q=a;p=a.copy();b={x:0,y:0,k:1};return t};t.y=function(a){if(!arguments.length)return s;s=a;r=a.copy();b={x:0,y:0,k:1};return t};function u(a){return[(a[0]-b.x)/b.k,(a[1]-b.y)/b.k]}function v(a){return[a[0]*b.k+b.x,a[1]*b.k+b.y]}function w(a){b.k=Math.max(h[0],Math.min(h[1],a))}function x(a,c){c=v(c);b.x+=a[0]-c[0];b.y+=a[1]-c[1]}function y(){if(q)q.domain(p.range().map(function(a){return(a-b.x)/b.k}).map(p.invert));if(s)s.domain(r.range().map(function(a){return(a-b.y)/b.k}).map(r.invert))}function z(a){a({type:"zoomstart"})}function A(a){y();a({type:"zoom",scale:b.k,translate:[b.x,b.y]})}function B(a){a({type:"zoomend"})}function C(){var b=this,c=a.event.target,d=o.of(b,arguments),e=0,g=a.select(f).on(j,l).on(k,m),h=u(a.mouse(b)),i=xb();pb.call(b);z(d);function l(){e=1;x(a.mouse(b),h);A(d)}function m(){g.on(j,null).on(k,null);i(e&&a.event.target===c);B(d)}}function D(){var c=this,d=o.of(c,arguments),e={},f=0,g,h=".zoom-"+a.event.changedTouches[0].identifier,j="touchmove"+h,k="touchend"+h,l=[],p=a.select(c),q=xb();pb.call(c);s();z(d);p.on(i,null).on(m,s);function r(){var d=a.touches(c);g=b.k;d.forEach(function(a){if(a.identifier in e)e[a.identifier]=u(a)});return d}function s(){var c=a.event.target;a.select(c).on(j,t).on(k,v);l.push(c);var g=a.event.changedTouches;for(var h=0,i=g.length;h<i;++h){e[g[h].identifier]=null}var m=r(),o=Date.now();if(m.length===1){if(o-n<500){var p=m[0],q=e[p.identifier];w(b.k*2);x(p,q);N();A(d)}n=o}else if(m.length>1){var p=m[0],s=m[1],u=p[0]-s[0],y=p[1]-s[1];f=u*u+y*y}}function t(){var b=a.touches(c),h,i,j,k;for(var l=0,m=b.length;l<m;++l,k=null){j=b[l];if(k=e[j.identifier]){if(i)break;h=j,i=k}}if(k){var o=(o=j[0]-h[0])*o+(o=j[1]-h[1])*o,p=f&&Math.sqrt(o/f);h=[(h[0]+j[0])/2,(h[1]+j[1])/2];i=[(i[0]+k[0])/2,(i[1]+k[1])/2];w(p*g)}n=null;x(h,i);A(d)}function v(){if(a.event.touches.length){var b=a.event.changedTouches;for(var c=0,f=b.length;c<f;++c){delete e[b[c].identifier]}for(var g in e){return void r()}}a.selectAll(l).on(h,null);p.on(i,C).on(m,D);q();B(d)}}function E(){var f=o.of(this,arguments);if(l)clearTimeout(l);else c=u(d=e||a.mouse(this)),pb.call(this),z(f);l=setTimeout(function(){l=null;B(f)},50);N();w(Math.pow(2,Wb()*.002)*b.k);x(d,c);A(f)}function F(){var c=o.of(this,arguments),d=a.mouse(this),e=u(d),f=Math.log(b.k)/Math.LN2;z(c);w(Math.pow(2,a.event.shiftKey?Math.ceil(f)-1:Math.floor(f)+1));x(d,e);A(c);B(c)}return a.rebind(t,o,"on")};var Vb=[0,Infinity];var Wb,Xb="onwheel"in d?(Wb=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(Wb=function(){return a.event.wheelDelta},"mousewheel"):(Wb=function(){return-a.event.detail},"MozMousePixelScroll");a.color=Yb;function Yb(){}Yb.prototype.toString=function(){return this.rgb()+""};a.hsl=Zb;function Zb(a,b,c){return this instanceof Zb?void(this.h=+a,this.s=+b,this.l=+c):arguments.length<2?a instanceof Zb?new Zb(a.h,a.s,a.l):tc(""+a,uc,Zb):new Zb(a,b,c)}var $b=Zb.prototype=new Yb;$b.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);return new Zb(this.h,this.s,this.l/a)};$b.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return new Zb(this.h,this.s,a*this.l)};$b.rgb=function(){return _b(this.h,this.s,this.l)};function _b(a,b,c){var d,e;a=isNaN(a)?0:(a%=360)<0?a+360:a;b=isNaN(b)?0:b<0?0:b>1?1:b;c=c<0?0:c>1?1:c;e=c<=.5?c*(1+b):c+b-c*b;d=2*c-e;function f(a){if(a>360)a-=360;else if(a<0)a+=360;if(a<60)return d+(e-d)*a/60;if(a<180)return e;if(a<240)return d+(e-d)*(240-a)/60;return d}function g(a){return Math.round(f(a)*255)}return new oc(g(a+120),g(a),g(a-120))}a.hcl=ac;function ac(b,c,d){return this instanceof ac?void(this.h=+b,this.c=+c,this.l=+d):arguments.length<2?b instanceof ac?new ac(b.h,b.c,b.l):b instanceof dc?kc(b.l,b.a,b.b):kc((b=vc((b=a.rgb(b)).r,b.g,b.b)).l,b.a,b.b):new ac(b,c,d)}var bc=ac.prototype=new Yb;bc.brighter=function(a){return new ac(this.h,this.c,Math.min(100,this.l+ec*(arguments.length?a:1)))};bc.darker=function(a){return new ac(this.h,this.c,Math.max(0,this.l-ec*(arguments.length?a:1)))};bc.rgb=function(){return cc(this.h,this.c,this.l).rgb()};function cc(a,b,c){if(isNaN(a))a=0;if(isNaN(b))b=0;return new dc(c,Math.cos(a*=Ib)*b,Math.sin(a)*b)}a.lab=dc;function dc(a,b,c){return this instanceof dc?void(this.l=+a,this.a=+b,this.b=+c):arguments.length<2?a instanceof dc?new dc(a.l,a.a,a.b):a instanceof ac?cc(a.h,a.c,a.l):vc((a=oc(a)).r,a.g,a.b):new dc(a,b,c)}var ec=18;var fc=.95047,gc=1,hc=1.08883;var ic=dc.prototype=new Yb;ic.brighter=function(a){return new dc(Math.min(100,this.l+ec*(arguments.length?a:1)),this.a,this.b)};ic.darker=function(a){return new dc(Math.max(0,this.l-ec*(arguments.length?a:1)),this.a,this.b)};ic.rgb=function(){return jc(this.l,this.a,this.b)};function jc(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;e=lc(e)*fc;d=lc(d)*gc;f=lc(f)*hc;return new oc(nc(3.2404542*e-1.5371385*d-.4985314*f),nc(-.969266*e+1.8760108*d+.041556*f),nc(.0556434*e-.2040259*d+1.0572252*f))}function kc(a,b,c){return a>0?new ac(Math.atan2(c,b)*Jb,Math.sqrt(b*b+c*c),a):new ac(NaN,NaN,a)}function lc(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function mc(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function nc(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}a.rgb=oc;function oc(a,b,c){return this instanceof oc?void(this.r=~~a,this.g=~~b,this.b=~~c):arguments.length<2?a instanceof oc?new oc(a.r,a.g,a.b):tc(""+a,oc,_b):new oc(a,b,c)}function pc(a){return new oc(a>>16,a>>8&255,a&255)}function qc(a){return pc(a)+""}var rc=oc.prototype=new Yb;rc.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;if(!b&&!c&&!d)return new oc(e,e,e);if(b&&b<e)b=e;if(c&&c<e)c=e;if(d&&d<e)d=e;return new oc(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))};rc.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return new oc(a*this.r,a*this.g,a*this.b)};rc.hsl=function(){return uc(this.r,this.g,this.b)};rc.toString=function(){return"#"+sc(this.r)+sc(this.g)+sc(this.b)};function sc(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function tc(a,b,c){var d=0,e=0,f=0,g,h,i;g=/([a-z]+)\((.*)\)/i.exec(a);if(g){h=g[2].split(",");switch(g[1]){case"hsl":{return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100)}case"rgb":{return b(xc(h[0]),xc(h[1]),xc(h[2]))}}}if(i=yc.get(a))return b(i.r,i.g,i.b);if(a!=null&&a.charAt(0)==="#"&&!isNaN(i=parseInt(a.slice(1),16))){if(a.length===4){d=(i&3840)>>4;d=d>>4|d;e=i&240;e=e>>4|e;f=i&15;f=f<<4|f}else if(a.length===7){d=(i&16711680)>>16;e=(i&65280)>>8;f=i&255}}return b(d,e,f)}function uc(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g,h,i=(e+d)/2;if(f){h=i<.5?f/(e+d):f/(2-e-d);if(a==e)g=(b-c)/f+(b<c?6:0);else if(b==e)g=(c-a)/f+2;else g=(a-b)/f+4;g*=60}else{g=NaN;h=i>0&&i<1?0:g}return new Zb(g,h,i)}function vc(a,b,c){a=wc(a);b=wc(b);c=wc(c);var d=mc((.4124564*a+.3575761*b+.1804375*c)/fc),e=mc((.2126729*a+.7151522*b+.072175*c)/gc),f=mc((.0193339*a+.119192*b+.9503041*c)/hc);return dc(116*e-16,500*(d-e),200*(e-f))}function wc(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function xc(a){var b=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(b*2.55):b}var yc=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});yc.forEach(function(a,b){yc.set(a,pc(b))});function zc(a){return typeof a==="function"?a:function(){return a}}a.functor=zc;function Ac(a){return a}a.xhr=Bc(Ac);function Bc(a){return function(b,c,d){if(arguments.length===2&&typeof c==="function")d=c,c=null;return Cc(b,c,a,d)}}function Cc(b,d,e,g){var h={},i=a.dispatch("beforesend","progress","load","error"),j={},k=new XMLHttpRequest,l=null;if(f.XDomainRequest&&!("withCredentials"in k)&&/^(http(s)?:)?\/\//.test(b))k=new XDomainRequest;"onload"in k?k.onload=k.onerror=m:k.onreadystatechange=function(){k.readyState>3&&m()};function m(){var a=k.status,b;if(!a&&Ec(k)||a>=200&&a<300||a===304){try{b=e.call(h,k)}catch(c){i.error.call(h,c);return}i.load.call(h,b)}else{i.error.call(h,k)}}k.onprogress=function(b){var c=a.event;a.event=b;try{i.progress.call(h,k)}finally{a.event=c}};h.header=function(a,b){a=(a+"").toLowerCase();if(arguments.length<2)return j[a];if(b==null)delete j[a];else j[a]=b+"";return h};h.mimeType=function(a){if(!arguments.length)return d;d=a==null?null:a+"";return h};h.responseType=function(a){if(!arguments.length)return l;l=a;return h};h.response=function(a){e=a;return h};["get","post"].forEach(function(a){h[a]=function(){return h.send.apply(h,[a].concat(c(arguments)))}});h.send=function(a,c,e){if(arguments.length===2&&typeof c==="function")e=c,c=null;k.open(a,b,true);if(d!=null&&!("accept"in j))j["accept"]=d+",*/*";if(k.setRequestHeader)for(var f in j)k.setRequestHeader(f,j[f]);if(d!=null&&k.overrideMimeType)k.overrideMimeType(d);if(l!=null)k.responseType=l;if(e!=null)h.on("error",e).on("load",function(a){e(null,a)});i.beforesend.call(h,k);k.send(c==null?null:c);return h};h.abort=function(){k.abort();return h};a.rebind(h,i,"on");return g==null?h:h.get(Dc(g))}function Dc(a){return a.length===1?function(b,c){a(b==null?c:null)}:a}function Ec(a){var b=a.responseType;return b&&b!=="text"?a.response:a.responseText}a.dsv=function(a,b){var c=new RegExp('["'+a+"\n]"),d=a.charCodeAt(0);function e(a,c,d){if(arguments.length<3)d=c,c=null;var e=Cc(a,b,c==null?f:g(c),d);e.row=function(a){return arguments.length?e.response((c=a)==null?f:g(a)):c};return e}function f(a){return e.parse(a.responseText)}function g(a){return function(b){return e.parse(b.responseText,a)}}e.parse=function(a,b){var c;return e.parseRows(a,function(a,d){if(c)return c(a,d-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");c=b?function(a,c){return b(e(a),c)}:e})};e.parseRows=function(a,b){var c={},e={},f=[],g=a.length,h=0,i=0,j,k;function l(){if(h>=g)return e;if(k)return k=false,c;var b=h;if(a.charCodeAt(b)===34){var f=b;while(f++<g){if(a.charCodeAt(f)===34){if(a.charCodeAt(f+1)!==34)break;++f}}h=f+2;var i=a.charCodeAt(f+1);if(i===13){k=true;if(a.charCodeAt(f+2)===10)++h}else if(i===10){k=true}return a.slice(b+1,f).replace(/""/g,'"')}while(h<g){var i=a.charCodeAt(h++),j=1;if(i===10)k=true;else if(i===13){k=true;if(a.charCodeAt(h)===10)++h,++j}else if(i!==d)continue;return a.slice(b,h-j)}return a.slice(b)}while((j=l())!==e){var m=[];while(j!==c&&j!==e){m.push(j);j=l()}if(b&&(m=b(m,i++))==null)continue;f.push(m)}return f};e.format=function(b){if(Array.isArray(b[0]))return e.formatRows(b);var c=new G,d=[];b.forEach(function(a){for(var b in a){if(!c.has(b)){d.push(c.add(b))}}});return[d.map(i).join(a)].concat(b.map(function(b){return d.map(function(a){return i(b[a])}).join(a)})).join("\n")};e.formatRows=function(a){return a.map(h).join("\n")};function h(b){return b.map(i).join(a)}function i(a){return c.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}return e};a.csv=a.dsv(",","text/csv");a.tsv=a.dsv("	","text/tab-separated-values");var Fc,Gc,Hc,Ic,Jc,Kc=f[I(f,"requestAnimationFrame")]||function(a){setTimeout(a,17)};a.timer=function(a,b,c){var d=arguments.length;if(d<2)b=0;if(d<3)c=Date.now();var e=c+b,f={c:a,t:e,f:false,n:null};if(Gc)Gc.n=f;else Fc=f;Gc=f;if(!Hc){Ic=clearTimeout(Ic);Hc=1;Kc(Lc)}};function Lc(){var a=Mc(),b=Nc()-a;if(b>24){if(isFinite(b)){clearTimeout(Ic);Ic=setTimeout(Lc,b)}Hc=0}else{Hc=1;Kc(Lc)}}a.timer.flush=function(){Mc();Nc()};function Mc(){var a=Date.now();Jc=Fc;while(Jc){if(a>=Jc.t)Jc.f=Jc.c(a-Jc.t);Jc=Jc.n}return a}function Nc(){var a,b=Fc,c=Infinity;while(b){if(b.f){b=a?a.n=b.n:Fc=b.n}else{if(b.t<c)c=b.t;b=(a=b).n}}Gc=a;return c}function Oc(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}a.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var Pc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Qc);a.formatPrefix=function(b,c){var d=0;if(b){if(b<0)b*=-1;if(c)b=a.round(b,Oc(b,c));d=1+Math.floor(1e-12+Math.log(b)/Math.LN10);d=Math.max(-24,Math.min(24,Math.floor((d-1)/3)*3))}return Pc[8+d/3]};function Qc(a,b){var c=Math.pow(10,t(8-b)*3);return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function Rc(b){var c=b.decimal,d=b.thousands,e=b.grouping,f=b.currency,g=e&&d?function(a,b){var c=a.length,f=[],g=0,h=e[0],i=0;while(c>0&&h>0){if(i+h+1>b)h=Math.max(1,b-i);f.push(a.substring(c-=h,c+h));if((i+=h+1)>b)break;h=e[g=(g+1)%e.length]}return f.reverse().join(d)}:Ac;return function(b){var d=Sc.exec(b),e=d[1]||" ",h=d[2]||">",i=d[3]||"-",j=d[4]||"",k=d[5],l=+d[6],m=d[7],n=d[8],o=d[9],p=1,q="",r="",s=false,t=true;if(n)n=+n.substring(1);if(k||e==="0"&&h==="="){k=e="0";h="="}switch(o){case"n":m=true;o="g";break;case"%":p=100;r="%";o="f";break;case"p":p=100;r="%";o="r";break;case"b":case"o":case"x":case"X":if(j==="#")q="0"+o.toLowerCase();case"c":t=false;case"d":s=true;n=0;break;case"s":p=-1;o="r";break}if(j==="$")q=f[0],r=f[1];if(o=="r"&&!n)o="g";if(n!=null){if(o=="g")n=Math.max(1,Math.min(21,n));else if(o=="e"||o=="f")n=Math.max(0,Math.min(20,n))}o=Tc.get(o)||Uc;var u=k&&m;return function(b){var d=r;if(s&&b%1)return"";var f=b<0||b===0&&1/b<0?(b=-b,"-"):i==="-"?"":i;if(p<0){var j=a.formatPrefix(b,n);b=j.scale(b);d=j.symbol+r}else{b*=p}b=o(b,n);var v=b.lastIndexOf("."),w,x;if(v<0){var y=t?b.lastIndexOf("e"):-1;if(y<0)w=b,x="";else w=b.substring(0,y),x=b.substring(y)}else{w=b.substring(0,v);x=c+b.substring(v+1)}if(!k&&m)w=g(w,Infinity);var z=q.length+w.length+x.length+(u?0:f.length),A=z<l?new Array(z=l-z+1).join(e):"";if(u)w=g(A+w,A.length?l-x.length:Infinity);f+=q;b=w+x;return(h==="<"?f+b+A:h===">"?A+f+b:h==="^"?A.substring(0,z>>=1)+f+b+A.substring(z):f+(u?b:A+b))+d}}}var Sc=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var Tc=a.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(b,c){return(b=a.round(b,Oc(b,c))).toFixed(Math.max(0,Math.min(20,Oc(b*(1+1e-15),c))))}});function Uc(a){return a+""}var Vc=a.time={},Wc=Date;function Xc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Xc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Yc.setUTCDate.apply(this._,arguments)},setDay:function(){Yc.setUTCDay.apply(this._,arguments)},setFullYear:function(){Yc.setUTCFullYear.apply(this._,arguments)},setHours:function(){Yc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Yc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Yc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Yc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Yc.setUTCSeconds.apply(this._,arguments)},setTime:function(){Yc.setTime.apply(this._,arguments)}};var Yc=Date.prototype;function Zc(a,b,c){function d(b){var c=a(b),d=f(c,1);
return b-c<d-b?c:d}function e(c){b(c=a(new Wc(c-1)),1);return c}function f(a,c){b(a=new Wc(+a),c);return a}function g(a,d,f){var g=e(a),h=[];if(f>1){while(g<d){if(!(c(g)%f))h.push(new Date(+g));b(g,1)}}else{while(g<d)h.push(new Date(+g)),b(g,1)}return h}function h(a,b,c){try{Wc=Xc;var d=new Xc;d._=a;return g(d,b,c)}finally{Wc=Date}}a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=g;var i=a.utc=$c(a);i.floor=i;i.round=$c(d);i.ceil=$c(e);i.offset=$c(f);i.range=h;return a}function $c(a){return function(b,c){try{Wc=Xc;var d=new Xc;d._=b;return a(d,c)._}finally{Wc=Date}}}Vc.year=Zc(function(a){a=Vc.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});Vc.years=Vc.year.range;Vc.years.utc=Vc.year.utc.range;Vc.day=Zc(function(a){var b=new Wc(2e3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});Vc.days=Vc.day.range;Vc.days.utc=Vc.day.utc.range;Vc.dayOfYear=function(a){var b=Vc.year(a);return Math.floor((a-b-(a.getTimezoneOffset()-b.getTimezoneOffset())*6e4)/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=Vc[a]=Zc(function(a){(a=Vc.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+Math.floor(b)*7)},function(a){var c=Vc.year(a).getDay();return Math.floor((Vc.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});Vc[a+"s"]=c.range;Vc[a+"s"].utc=c.utc.range;Vc[a+"OfYear"]=function(a){var c=Vc.year(a).getDay();return Math.floor((Vc.dayOfYear(a)+(c+b)%7)/7)}});Vc.week=Vc.sunday;Vc.weeks=Vc.sunday.range;Vc.weeks.utc=Vc.sunday.utc.range;Vc.weekOfYear=Vc.sundayOfYear;function _c(b){var c=b.dateTime,d=b.date,e=b.time,f=b.periods,g=b.days,h=b.shortDays,i=b.months,j=b.shortMonths;function k(a){var b=a.length;function c(c){var d=[],e=-1,f=0,g,h,i;while(++e<b){if(a.charCodeAt(e)===37){d.push(a.slice(f,e));if((h=ad[g=a.charAt(++e)])!=null)g=a.charAt(++e);if(i=v[g])g=i(c,h==null?g==="e"?" ":"0":h);d.push(g);f=e+1}}d.push(a.slice(f,e));return d.join("")}c.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},d=l(c,a,b,0);if(d!=b.length)return null;if("p"in c)c.H=c.H%12+c.p*12;var e=c.Z!=null&&Wc!==Xc,f=new(e?Xc:Wc);if("j"in c)f.setFullYear(c.y,0,c.j);else if("w"in c&&("W"in c||"U"in c)){f.setFullYear(c.y,0,1);f.setFullYear(c.y,0,"W"in c?(c.w+6)%7+c.W*7-(f.getDay()+5)%7:c.w+c.U*7-(f.getDay()+6)%7)}else f.setFullYear(c.y,c.m,c.d);f.setHours(c.H+(c.Z/100|0),c.M+c.Z%100,c.S,c.L);return e?f._:f};c.toString=function(){return a};return c}function l(a,b,c,d){var e,f,g,h=0,i=b.length,j=c.length;while(h<i){if(d>=j)return-1;e=b.charCodeAt(h++);if(e===37){g=b.charAt(h++);f=w[g in ad?b.charAt(h++):g];if(!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++)){return-1}}return d}k.utc=function(a){var b=k(a);function c(a){try{Wc=Xc;var c=new Wc;c._=a;return b(c)}finally{Wc=Date}}c.parse=function(a){try{Wc=Xc;var c=b.parse(a);return c&&c._}finally{Wc=Date}};c.toString=b.toString;return c};k.multi=k.utc.multi=wd;var m=a.map(),n=ed(g),o=fd(g),p=ed(h),q=fd(h),r=ed(i),s=fd(i),t=ed(j),u=fd(j);f.forEach(function(a,b){m.set(a.toLowerCase(),b)});var v={a:function(a){return h[a.getDay()]},A:function(a){return g[a.getDay()]},b:function(a){return j[a.getMonth()]},B:function(a){return i[a.getMonth()]},c:k(c),d:function(a,b){return dd(a.getDate(),b,2)},e:function(a,b){return dd(a.getDate(),b,2)},H:function(a,b){return dd(a.getHours(),b,2)},I:function(a,b){return dd(a.getHours()%12||12,b,2)},j:function(a,b){return dd(1+Vc.dayOfYear(a),b,3)},L:function(a,b){return dd(a.getMilliseconds(),b,3)},m:function(a,b){return dd(a.getMonth()+1,b,2)},M:function(a,b){return dd(a.getMinutes(),b,2)},p:function(a){return f[+(a.getHours()>=12)]},S:function(a,b){return dd(a.getSeconds(),b,2)},U:function(a,b){return dd(Vc.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return dd(Vc.mondayOfYear(a),b,2)},x:k(d),X:k(e),y:function(a,b){return dd(a.getFullYear()%100,b,2)},Y:function(a,b){return dd(a.getFullYear()%1e4,b,4)},Z:ud,"%":function(){return"%"}};var w={a:x,A:y,b:z,B:A,c:B,d:od,e:od,H:qd,I:qd,j:pd,L:td,m:nd,M:rd,p:E,S:sd,U:hd,w:gd,W:id,x:C,X:D,y:kd,Y:jd,Z:ld,"%":vd};function x(a,b,c){p.lastIndex=0;var d=p.exec(b.slice(c));return d?(a.w=q.get(d[0].toLowerCase()),c+d[0].length):-1}function y(a,b,c){n.lastIndex=0;var d=n.exec(b.slice(c));return d?(a.w=o.get(d[0].toLowerCase()),c+d[0].length):-1}function z(a,b,c){t.lastIndex=0;var d=t.exec(b.slice(c));return d?(a.m=u.get(d[0].toLowerCase()),c+d[0].length):-1}function A(a,b,c){r.lastIndex=0;var d=r.exec(b.slice(c));return d?(a.m=s.get(d[0].toLowerCase()),c+d[0].length):-1}function B(a,b,c){return l(a,v.c.toString(),b,c)}function C(a,b,c){return l(a,v.x.toString(),b,c)}function D(a,b,c){return l(a,v.X.toString(),b,c)}function E(a,b,c){var d=m.get(b.slice(c,c+=2).toLowerCase());return d==null?-1:(a.p=d,c)}return k}var ad={"-":"",_:" ",0:"0"},bd=/^\s*\d+/,cd=/^%/;function dd(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?new Array(c-f+1).join(b)+e:e)}function ed(b){return new RegExp("^(?:"+b.map(a.requote).join("|")+")","i")}function fd(a){var b=new w,c=-1,d=a.length;while(++c<d)b.set(a[c].toLowerCase(),c);return b}function gd(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function hd(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function id(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function jd(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function kd(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c,c+2));return d?(a.y=md(+d[0]),c+d[0].length):-1}function ld(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function md(a){return a+(a>68?1900:2e3)}function nd(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function od(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function pd(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function qd(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function rd(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function sd(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function td(a,b,c){bd.lastIndex=0;var d=bd.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function ud(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=t(b)/60|0,e=t(b)%60;return c+dd(d,"0",2)+dd(e,"0",2)}function vd(a,b,c){cd.lastIndex=0;var d=cd.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function wd(a){var b=a.length,c=-1;while(++c<b)a[c][0]=this(a[c][0]);return function(b){var c=0,d=a[c];while(!d[1](b))d=a[++c];return d[0](b)}}a.locale=function(a){return{numberFormat:Rc(a),timeFormat:_c(a)}};var xd=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});a.format=xd.numberFormat;a.geo={};function yd(){}yd.prototype={s:0,t:0,add:function(a){Ad(a,this.t,zd);Ad(zd.s,this.s,this);if(this.s)this.t+=zd.t;else this.s=zd.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var zd=new yd;function Ad(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}a.geo.stream=function(a,b){if(a&&Cd.hasOwnProperty(a.type)){Cd[a.type](a,b)}else{Bd(a,b)}};function Bd(a,b){if(a&&Dd.hasOwnProperty(a.type)){Dd[a.type](a,b)}}var Cd={Feature:function(a,b){Bd(a.geometry,b)},FeatureCollection:function(a,b){var c=a.features,d=-1,e=c.length;while(++d<e)Bd(c[d].geometry,b)}};var Dd={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){var c=a.coordinates,d=-1,e=c.length;while(++d<e)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Ed(a.coordinates,b,0)},MultiLineString:function(a,b){var c=a.coordinates,d=-1,e=c.length;while(++d<e)Ed(c[d],b,0)},Polygon:function(a,b){Fd(a.coordinates,b)},MultiPolygon:function(a,b){var c=a.coordinates,d=-1,e=c.length;while(++d<e)Fd(c[d],b)},GeometryCollection:function(a,b){var c=a.geometries,d=-1,e=c.length;while(++d<e)Bd(c[d],b)}};function Ed(a,b,c){var d=-1,e=a.length-c,f;b.lineStart();while(++d<e)f=a[d],b.point(f[0],f[1],f[2]);b.lineEnd()}function Fd(a,b){var c=-1,d=a.length;b.polygonStart();while(++c<d)Ed(a[c],b,1);b.polygonEnd()}a.geo.area=function(b){Gd=0;a.geo.stream(b,Id);return Gd};var Gd,Hd=new yd;var Id={sphere:function(){Gd+=4*Db},point:K,lineStart:K,lineEnd:K,polygonStart:function(){Hd.reset();Id.lineStart=Jd},polygonEnd:function(){var a=2*Hd;Gd+=a<0?4*Db+a:a;Id.lineStart=Id.lineEnd=Id.point=K}};function Jd(){var a,b,c,d,e;Id.point=function(g,h){Id.point=f;c=(a=g)*Ib,d=Math.cos(h=(b=h)*Ib/2+Db/4),e=Math.sin(h)};function f(a,b){a*=Ib;b=b*Ib/2+Db/4;var f=a-c,g=f>=0?1:-1,h=g*f,i=Math.cos(b),j=Math.sin(b),k=e*j,l=d*i+k*Math.cos(h),m=k*g*Math.sin(h);Hd.add(Math.atan2(m,l));c=a,d=i,e=j}Id.lineEnd=function(){f(a,b)}}function Kd(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function Ld(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Md(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Nd(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Od(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Pd(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Qd(a){return[Math.atan2(a[1],a[0]),Nb(a[2])]}function Rd(a,b){return t(a[0]-b[0])<Gb&&t(a[1]-b[1])<Gb}a.geo.bounds=function(){var b,c,d,e,f,g,h,i,j,k,l;var m={point:n,lineStart:p,lineEnd:q,polygonStart:function(){m.point=r;m.lineStart=s;m.lineEnd=u;j=0;Id.polygonStart()},polygonEnd:function(){Id.polygonEnd();m.point=n;m.lineStart=p;m.lineEnd=q;if(Hd<0)b=-(d=180),c=-(e=90);else if(j>Gb)e=90;else if(j<-Gb)c=-90;l[0]=b,l[1]=d}};function n(a,f){k.push(l=[b=a,d=a]);if(f<c)c=f;if(f>e)e=f}function o(a,g){var h=Kd([a*Ib,g*Ib]);if(i){var j=Md(i,h),k=[j[1],-j[0],0],l=Md(k,j);Pd(l);l=Qd(l);var m=a-f,o=m>0?1:-1,p=l[0]*Jb*o,q=t(m)>180;if(q^(o*f<p&&p<o*a)){var r=l[1]*Jb;if(r>e)e=r}else if(p=(p+360)%360-180,q^(o*f<p&&p<o*a)){var r=-l[1]*Jb;if(r<c)c=r}else{if(g<c)c=g;if(g>e)e=g}if(q){if(a<f){if(v(b,a)>v(b,d))d=a}else{if(v(a,d)>v(b,d))b=a}}else{if(d>=b){if(a<b)b=a;if(a>d)d=a}else{if(a>f){if(v(b,a)>v(b,d))d=a}else{if(v(a,d)>v(b,d))b=a}}}}else{n(a,g)}i=h,f=a}function p(){m.point=o}function q(){l[0]=b,l[1]=d;m.point=n;i=null}function r(a,b){if(i){var c=a-f;j+=t(c)>180?c+(c>0?360:-360):c}else g=a,h=b;Id.point(a,b);o(a,b)}function s(){Id.lineStart()}function u(){r(g,h);Id.lineEnd();if(t(j)>Gb)b=-(d=180);l[0]=b,l[1]=d;i=null}function v(a,b){return(b-=a)<0?b+360:b}function w(a,b){return a[0]-b[0]}function x(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}return function(f){e=d=-(b=c=Infinity);k=[];a.geo.stream(f,m);var g=k.length;if(g){k.sort(w);for(var h=1,i=k[0],j,n=[i];h<g;++h){j=k[h];if(x(j[0],i)||x(j[1],i)){if(v(i[0],j[1])>v(i[0],i[1]))i[1]=j[1];if(v(j[0],i[1])>v(i[0],i[1]))i[0]=j[0]}else{n.push(i=j)}}var o=-Infinity,p;for(var g=n.length-1,h=0,i=n[g],j;h<=g;i=j,++h){j=n[h];if((p=v(i[1],j[0]))>o)o=p,b=j[0],d=i[1]}}k=l=null;return b===Infinity||c===Infinity?[[NaN,NaN],[NaN,NaN]]:[[b,c],[d,e]]}}();a.geo.centroid=function(b){Sd=Td=Ud=Vd=Wd=Xd=Yd=Zd=$d=_d=ae=0;a.geo.stream(b,be);var c=$d,d=_d,e=ae,f=c*c+d*d+e*e;if(f<Hb){c=Xd,d=Yd,e=Zd;if(Td<Gb)c=Ud,d=Vd,e=Wd;f=c*c+d*d+e*e;if(f<Hb)return[NaN,NaN]}return[Math.atan2(d,c)*Jb,Nb(e/Math.sqrt(f))*Jb]};var Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,_d,ae;var be={sphere:K,point:ce,lineStart:ee,lineEnd:fe,polygonStart:function(){be.lineStart=ge},polygonEnd:function(){be.lineStart=ee}};function ce(a,b){a*=Ib;var c=Math.cos(b*=Ib);de(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function de(a,b,c){++Sd;Ud+=(a-Ud)/Sd;Vd+=(b-Vd)/Sd;Wd+=(c-Wd)/Sd}function ee(){var a,b,c;be.point=function(e,f){e*=Ib;var g=Math.cos(f*=Ib);a=g*Math.cos(e);b=g*Math.sin(e);c=Math.sin(f);be.point=d;de(a,b,c)};function d(d,e){d*=Ib;var f=Math.cos(e*=Ib),g=f*Math.cos(d),h=f*Math.sin(d),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=b*i-c*h)*j+(j=c*g-a*i)*j+(j=a*h-b*g)*j),a*g+b*h+c*i);Td+=j;Xd+=j*(a+(a=g));Yd+=j*(b+(b=h));Zd+=j*(c+(c=i));de(a,b,c)}}function fe(){be.point=ce}function ge(){var a,b,c,d,e;be.point=function(g,h){a=g,b=h;be.point=f;g*=Ib;var i=Math.cos(h*=Ib);c=i*Math.cos(g);d=i*Math.sin(g);e=Math.sin(h);de(c,d,e)};be.lineEnd=function(){f(a,b);be.lineEnd=fe;be.point=ce};function f(a,b){a*=Ib;var f=Math.cos(b*=Ib),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(b),j=d*i-e*h,k=e*g-c*i,l=c*h-d*g,m=Math.sqrt(j*j+k*k+l*l),n=c*g+d*h+e*i,o=m&&-Mb(n)/m,p=Math.atan2(m,n);$d+=o*j;_d+=o*k;ae+=o*l;Td+=p;Xd+=p*(c+(c=g));Yd+=p*(d+(d=h));Zd+=p*(e+(e=i));de(c,d,e)}}function he(){return true}function ie(a,b,c,d,e){var f=[],g=[];a.forEach(function(a){if((b=a.length-1)<=0)return;var b,c=a[0],d=a[b];if(Rd(c,d)){e.lineStart();for(var h=0;h<b;++h)e.point((c=a[h])[0],c[1]);e.lineEnd();return}var i=new ke(c,a,null,true),j=new ke(c,null,i,false);i.o=j;f.push(i);g.push(j);i=new ke(d,a,null,false);j=new ke(d,null,i,true);i.o=j;f.push(i);g.push(j)});g.sort(b);je(f);je(g);if(!f.length)return;for(var h=0,i=c,j=g.length;h<j;++h){g[h].e=i=!i}var k=f[0],l,m;while(1){var n=k,o=true;while(n.v)if((n=n.n)===k)return;l=n.z;e.lineStart();do{n.v=n.o.v=true;if(n.e){if(o){for(var h=0,j=l.length;h<j;++h)e.point((m=l[h])[0],m[1])}else{d(n.x,n.n.x,1,e)}n=n.n}else{if(o){l=n.p.z;for(var h=l.length-1;h>=0;--h)e.point((m=l[h])[0],m[1])}else{d(n.x,n.p.x,-1,e)}n=n.p}n=n.o;l=n.z;o=!o}while(!n.v);e.lineEnd()}}function je(a){if(!(b=a.length))return;var b,c=0,d=a[0],e;while(++c<b){d.n=e=a[c];e.p=d;d=e}d.n=e=a[0];e.p=d}function ke(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=false;this.n=this.p=null}function le(b,c,d,e){return function(f,g){var h=c(g),i=f.invert(e[0],e[1]);var j={point:k,lineStart:m,lineEnd:n,polygonStart:function(){j.point=u;j.lineStart=v;j.lineEnd=w;o=[];s=[]},polygonEnd:function(){j.point=k;j.lineStart=m;j.lineEnd=n;o=a.merge(o);var b=te(i,s);if(o.length){if(!r)g.polygonStart(),r=true;ie(o,oe,b,d,g)}else if(b){if(!r)g.polygonStart(),r=true;g.lineStart();d(null,null,1,g);g.lineEnd()}if(r)g.polygonEnd(),r=false;o=s=null},sphere:function(){g.polygonStart();g.lineStart();d(null,null,1,g);g.lineEnd();g.polygonEnd()}};function k(a,c){var d=f(a,c);if(b(a=d[0],c=d[1]))g.point(a,c)}function l(a,b){var c=f(a,b);h.point(c[0],c[1])}function m(){j.point=l;h.lineStart()}function n(){j.point=k;h.lineEnd()}var o;var p=ne(),q=c(p),r=false,s,t;function u(a,b){t.push([a,b]);var c=f(a,b);q.point(c[0],c[1])}function v(){q.lineStart();t=[]}function w(){u(t[0][0],t[0][1]);q.lineEnd();var a=q.clean(),b=p.buffer(),c,d=b.length;t.pop();s.push(t);t=null;if(!d)return;if(a&1){c=b[0];var d=c.length-1,e=-1,f;if(d>0){if(!r)g.polygonStart(),r=true;g.lineStart();while(++e<d)g.point((f=c[e])[0],f[1]);g.lineEnd()}return}if(d>1&&a&2)b.push(b.pop().concat(b.shift()));o.push(b.filter(me))}return j}}function me(a){return a.length>1}function ne(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(a,c){b.push([a,c])},lineEnd:K,buffer:function(){var c=a;a=[];b=null;return c},rejoin:function(){if(a.length>1)a.push(a.pop().concat(a.shift()))}}}function oe(a,b){return((a=a.x)[0]<0?a[1]-Fb-Gb:Fb-a[1])-((b=b.x)[0]<0?b[1]-Fb-Gb:Fb-b[1])}var pe=le(he,qe,se,[-Db,-Db/2]);function qe(a){var b=NaN,c=NaN,d=NaN,e;return{lineStart:function(){a.lineStart();e=1},point:function(f,g){var h=f>0?Db:-Db,i=t(f-b);if(t(i-Db)<Gb){a.point(b,c=(c+g)/2>0?Fb:-Fb);a.point(d,c);a.lineEnd();a.lineStart();a.point(h,c);a.point(f,c);e=0}else if(d!==h&&i>=Db){if(t(b-d)<Gb)b-=d*Gb;if(t(f-h)<Gb)f-=h*Gb;c=re(b,c,f,g);a.point(d,c);a.lineEnd();a.lineStart();a.point(h,c);e=0}a.point(b=f,c=g);d=h},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-e}}}function re(a,b,c,d){var e,f,g=Math.sin(a-c);return t(g)>Gb?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function se(a,b,c,d){var e;if(a==null){e=c*Fb;d.point(-Db,e);d.point(0,e);d.point(Db,e);d.point(Db,0);d.point(Db,-e);d.point(0,-e);d.point(-Db,-e);d.point(-Db,0);d.point(-Db,e)}else if(t(a[0]-b[0])>Gb){var f=a[0]<b[0]?Db:-Db;e=c*f/2;d.point(-f,e);d.point(0,e);d.point(f,e)}else{d.point(b[0],b[1])}}function te(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;Hd.reset();for(var h=0,i=b.length;h<i;++h){var j=b[h],k=j.length;if(!k)continue;var l=j[0],m=l[0],n=l[1]/2+Db/4,o=Math.sin(n),p=Math.cos(n),q=1;while(true){if(q===k)q=0;a=j[q];var r=a[0],s=a[1]/2+Db/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Db,z=o*t;Hd.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x)));f+=y?v+w*Eb:v;if(y^m>=c^r>=c){var A=Md(Kd(l),Kd(a));Pd(A);var B=Md(e,A);Pd(B);var C=(y^v>=0?-1:1)*Nb(B[2]);if(d>C||d===C&&(A[0]||A[1])){g+=y^v>=0?1:-1}}if(!q++)break;m=r,o=t,p=u,l=a}}return(f<-Gb||f<Gb&&Hd<0)^g&1}function ue(a){var b=Math.cos(a),c=b>0,d=t(b)>Gb,e=ef(a,6*Ib);return le(f,g,e,c?[0,-a]:[-Db,a-Db]);function f(a,c){return Math.cos(a)*Math.cos(c)>b}function g(a){var b,e,g,j,k;return{lineStart:function(){j=g=false;k=1},point:function(l,m){var n=[l,m],o,p=f(l,m),q=c?p?0:i(l,m):p?i(l+(l<0?Db:-Db),m):0;if(!b&&(j=g=p))a.lineStart();if(p!==g){o=h(b,n);if(Rd(b,o)||Rd(n,o)){n[0]+=Gb;n[1]+=Gb;p=f(n[0],n[1])}}if(p!==g){k=0;if(p){a.lineStart();o=h(n,b);a.point(o[0],o[1])}else{o=h(b,n);a.point(o[0],o[1]);a.lineEnd()}b=o}else if(d&&b&&c^p){var r;if(!(q&e)&&(r=h(n,b,true))){k=0;if(c){a.lineStart();a.point(r[0][0],r[0][1]);a.point(r[1][0],r[1][1]);a.lineEnd()}else{a.point(r[1][0],r[1][1]);a.lineEnd();a.lineStart();a.point(r[0][0],r[0][1])}}}if(p&&(!b||!Rd(b,n))){a.point(n[0],n[1])}b=n,g=p,e=q},lineEnd:function(){if(g)a.lineEnd();b=null},clean:function(){return k|(j&&g)<<1}}}function h(a,c,d){var e=Kd(a),f=Kd(c);var g=[1,0,0],h=Md(e,f),i=Ld(h,h),j=h[0],k=i-j*j;if(!k)return!d&&a;var l=b*i/k,m=-b*j/k,n=Md(g,h),o=Od(g,l),p=Od(h,m);Nd(o,p);var q=n,r=Ld(o,q),s=Ld(q,q),u=r*r-s*(Ld(o,o)-1);if(u<0)return;var v=Math.sqrt(u),w=Od(q,(-r-v)/s);Nd(w,o);w=Qd(w);if(!d)return w;var x=a[0],y=c[0],z=a[1],A=c[1],B;if(y<x)B=x,x=y,y=B;var C=y-x,D=t(C-Db)<Gb,E=D||C<Gb;if(!D&&A<z)B=z,z=A,A=B;if(E?D?z+A>0^w[1]<(t(w[0]-x)<Gb?z:A):z<=w[1]&&w[1]<=A:C>Db^(x<=w[0]&&w[0]<=y)){var F=Od(q,(-r+v)/s);Nd(F,o);return[w,Qd(F)]}}function i(b,d){var e=c?a:Db-a,f=0;if(b<-e)f|=1;else if(b>e)f|=2;if(d<-e)f|=4;else if(d>e)f|=8;return f}}function ve(a,b,c,d){return function(e){var f=e.a,g=e.b,h=f.x,i=f.y,j=g.x,k=g.y,l=0,m=1,n=j-h,o=k-i,p;p=a-h;if(!n&&p>0)return;p/=n;if(n<0){if(p<l)return;if(p<m)m=p}else if(n>0){if(p>m)return;if(p>l)l=p}p=c-h;if(!n&&p<0)return;p/=n;if(n<0){if(p>m)return;if(p>l)l=p}else if(n>0){if(p<l)return;if(p<m)m=p}p=b-i;if(!o&&p>0)return;p/=o;if(o<0){if(p<l)return;if(p<m)m=p}else if(o>0){if(p>m)return;if(p>l)l=p}p=d-i;if(!o&&p<0)return;p/=o;if(o<0){if(p>m)return;if(p>l)l=p}else if(o>0){if(p<l)return;if(p<m)m=p}if(l>0)e.a={x:h+l*n,y:i+l*o};if(m<1)e.b={x:h+m*n,y:i+m*o};return e}}var we=1e9;a.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){if(e)e.valid=false;e=f(a);e.valid=true;return e},extent:function(h){if(!arguments.length)return[[a,b],[c,d]];f=xe(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]);if(e)e.valid=false,e=null;return g}};return g.extent([[0,0],[960,500]])};function xe(b,c,d,e){return function(i){var j=i,k=ne(),l=ve(b,c,d,e),m,n,o;var p={point:t,lineStart:C,lineEnd:D,polygonStart:function(){i=k;m=[];n=[];B=true},polygonEnd:function(){i=j;m=a.merge(m);var c=q([b,e]),d=B&&c,f=m.length;if(d||f){i.polygonStart();if(d){i.lineStart();r(null,null,1,i);i.lineEnd()}if(f){ie(m,g,c,r,i)}i.polygonEnd()}m=n=o=null}};function q(a){var b=0,c=n.length,d=a[1];for(var e=0;e<c;++e){for(var f=1,g=n[e],h=g.length,i=g[0],j;f<h;++f){j=g[f];if(i[1]<=d){if(j[1]>d&&Lb(i,j,a)>0)++b}else{if(j[1]<=d&&Lb(i,j,a)<0)--b}i=j}}return b!==0}function r(a,g,i,j){var k=0,l=0;if(a==null||(k=f(a,i))!==(l=f(g,i))||h(a,g)<0^i>0){do{j.point(k===0||k===3?b:d,k>1?e:c)}while((k=(k+i+4)%4)!==l)}else{j.point(g[0],g[1])}}function s(a,f){return b<=a&&a<=d&&c<=f&&f<=e}function t(a,b){if(s(a,b))i.point(a,b)}var u,v,w,x,y,z,A,B;function C(){p.point=E;if(n)n.push(o=[]);A=true;z=false;x=y=NaN}function D(){if(m){E(u,v);if(w&&z)k.rejoin();m.push(k.buffer())}p.point=t;if(z)i.lineEnd()}function E(a,b){a=Math.max(-we,Math.min(we,a));b=Math.max(-we,Math.min(we,b));var c=s(a,b);if(n)o.push([a,b]);if(A){u=a,v=b,w=c;A=false;if(c){i.lineStart();i.point(a,b)}}else{if(c&&z)i.point(a,b);else{var d={a:{x:x,y:y},b:{x:a,y:b}};if(l(d)){if(!z){i.lineStart();i.point(d.a.x,d.a.y)}i.point(d.b.x,d.b.y);if(!c)i.lineEnd();B=false}else if(c){i.lineStart();i.point(a,b);B=false}}}x=a,y=b,z=c}return p};function f(a,e){return t(a[0]-b)<Gb?e>0?0:3:t(a[0]-d)<Gb?e>0?2:1:t(a[1]-c)<Gb?e>0?1:0:e>0?3:2}function g(a,b){return h(a.x,b.x)}function h(a,b){var c=f(a,1),d=f(b,1);return c!==d?c-d:c===0?b[1]-a[1]:c===1?a[0]-b[0]:c===2?a[1]-b[1]:b[0]-a[0]}}function ye(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}if(a.invert&&b.invert)c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])};return c}function ze(a){var b=0,c=Db/3,d=Ye(a),e=d(b,c);e.parallels=function(a){if(!arguments.length)return[b/Db*180,c/Db*180];return d(b=a[0]*Db/180,c=a[1]*Db/180)};return e}function Ae(a,b){var c=Math.sin(a),d=(c+Math.sin(b))/2,e=1+c*(2*d-c),f=Math.sqrt(e)/d;function g(a,b){var c=Math.sqrt(e-2*d*Math.sin(b))/d;return[c*Math.sin(a*=d),f-c*Math.cos(a)]}g.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/d,Nb((e-(a*a+c*c)*d*d)/(2*d))]};return g}(a.geo.conicEqualArea=function(){return ze(Ae)}).raw=Ae;a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};a.geo.albersUsa=function(){var b=a.geo.albers();var c=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var d=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var e,f={point:function(a,b){e=[a,b]}},g,h,i;function j(a){var b=a[0],c=a[1];e=null;(g(b,c),e)||(h(b,c),e)||i(b,c);return e}j.invert=function(a){var e=b.scale(),f=b.translate(),g=(a[0]-f[0])/e,h=(a[1]-f[1])/e;return(h>=.12&&h<.234&&g>=-.425&&g<-.214?c:h>=.166&&h<.234&&g>=-.214&&g<-.115?d:b).invert(a)};j.stream=function(a){var e=b.stream(a),f=c.stream(a),g=d.stream(a);return{point:function(a,b){e.point(a,b);f.point(a,b);g.point(a,b)},sphere:function(){e.sphere();f.sphere();g.sphere()},lineStart:function(){e.lineStart();f.lineStart();g.lineStart()},lineEnd:function(){e.lineEnd();f.lineEnd();g.lineEnd()},polygonStart:function(){e.polygonStart();f.polygonStart();g.polygonStart()},polygonEnd:function(){e.polygonEnd();f.polygonEnd();g.polygonEnd()}}};j.precision=function(a){if(!arguments.length)return b.precision();b.precision(a);c.precision(a);d.precision(a);return j};j.scale=function(a){if(!arguments.length)return b.scale();b.scale(a);c.scale(a*.35);d.scale(a);return j.translate(b.translate())};j.translate=function(a){if(!arguments.length)return b.translate();var e=b.scale(),k=+a[0],l=+a[1];g=b.translate(a).clipExtent([[k-.455*e,l-.238*e],[k+.455*e,l+.238*e]]).stream(f).point;h=c.translate([k-.307*e,l+.201*e]).clipExtent([[k-.425*e+Gb,l+.12*e+Gb],[k-.214*e-Gb,l+.234*e-Gb]]).stream(f).point;i=d.translate([k-.205*e,l+.212*e]).clipExtent([[k-.214*e+Gb,l+.166*e+Gb],[k-.115*e-Gb,l+.234*e-Gb]]).stream(f).point;return j};return j.scale(1070)};var Be,Ce,De={point:K,lineStart:K,lineEnd:K,polygonStart:function(){Ce=0;De.lineStart=Ee},polygonEnd:function(){De.lineStart=De.lineEnd=De.point=K;Be+=t(Ce/2)}};function Ee(){var a,b,c,d;De.point=function(f,g){De.point=e;a=c=f,b=d=g};function e(a,b){Ce+=d*a-c*b;c=a,d=b}De.lineEnd=function(){e(a,b)}}var Fe,Ge,He,Ie;var Je={point:Ke,lineStart:K,lineEnd:K,polygonStart:K,polygonEnd:K};function Ke(a,b){if(a<Fe)Fe=a;if(a>He)He=a;if(b<Ge)Ge=b;if(b>Ie)Ie=b}function Le(){var a=Me(4.5),b=[];var c={point:d,lineStart:function(){c.point=e},lineEnd:g,polygonStart:function(){c.lineEnd=h},polygonEnd:function(){c.lineEnd=g;c.point=d},pointRadius:function(b){a=Me(b);return c},result:function(){if(b.length){var a=b.join("");b=[];return a}}};function d(c,d){b.push("M",c,",",d,a)}function e(a,d){b.push("M",a,",",d);c.point=f}function f(a,c){b.push("L",a,",",c)}function g(){c.point=d}function h(){b.push("Z")}return c}function Me(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}var Ne={point:Oe,lineStart:Pe,lineEnd:Qe,polygonStart:function(){Ne.lineStart=Re},polygonEnd:function(){Ne.point=Oe;Ne.lineStart=Pe;Ne.lineEnd=Qe}};function Oe(a,b){Ud+=a;Vd+=b;++Wd}function Pe(){var a,b;Ne.point=function(d,e){Ne.point=c;Oe(a=d,b=e)};function c(c,d){var e=c-a,f=d-b,g=Math.sqrt(e*e+f*f);Xd+=g*(a+c)/2;Yd+=g*(b+d)/2;Zd+=g;Oe(a=c,b=d)}}function Qe(){Ne.point=Oe}function Re(){var a,b,c,d;Ne.point=function(f,g){Ne.point=e;Oe(a=c=f,b=d=g)};function e(a,b){var e=a-c,f=b-d,g=Math.sqrt(e*e+f*f);Xd+=g*(c+a)/2;Yd+=g*(d+b)/2;Zd+=g;g=d*a-c*b;$d+=g*(c+a);_d+=g*(d+b);ae+=g*3;Oe(c=a,d=b)}Ne.lineEnd=function(){e(a,b)}}function Se(a){var b=4.5;var c={point:d,lineStart:function(){c.point=e},lineEnd:g,polygonStart:function(){c.lineEnd=h},polygonEnd:function(){c.lineEnd=g;c.point=d},pointRadius:function(a){b=a;return c},result:K};function d(c,d){a.moveTo(c,d);a.arc(c,d,b,0,Eb)}function e(b,d){a.moveTo(b,d);c.point=f}function f(b,c){a.lineTo(b,c)}function g(){c.point=d}function h(){a.closePath()}return c}function Te(a){var b=.5,c=Math.cos(30*Ib),d=16;function e(a){return(d?g:f)(a)}function f(b){return We(b,function(c,d){c=a(c,d);b.point(c[0],c[1])})}function g(b){var c,e,f,g,i,j,k,l,m,n,o,p,q;var r={point:s,lineStart:t,lineEnd:v,polygonStart:function(){b.polygonStart();r.lineStart=w},polygonEnd:function(){b.polygonEnd();r.lineStart=t}};function s(c,d){c=a(c,d);b.point(c[0],c[1])}function t(){m=NaN;r.point=u;b.lineStart()}function u(c,e){var f=Kd([c,e]),g=a(c,e);h(m,n,l,o,p,q,m=g[0],n=g[1],l=c,o=f[0],p=f[1],q=f[2],d,b);b.point(m,n)}function v(){r.point=s;b.lineEnd()}function w(){t();r.point=x;r.lineEnd=y}function x(a,b){u(c=a,e=b),f=m,g=n,i=o,j=p,k=q;r.point=u}function y(){h(m,n,l,o,p,q,f,g,c,i,j,k,d,b);r.lineEnd=v;v()}return r}function h(d,e,f,g,i,j,k,l,m,n,o,p,q,r){var s=k-d,u=l-e,v=s*s+u*u;if(v>4*b&&q--){var w=g+n,x=i+o,y=j+p,z=Math.sqrt(w*w+x*x+y*y),A=Math.asin(y/=z),B=t(t(y)-1)<Gb||t(f-m)<Gb?(f+m)/2:Math.atan2(x,w),C=a(B,A),D=C[0],E=C[1],F=D-d,G=E-e,H=u*F-s*G;if(H*H/v>b||t((s*F+u*G)/v-.5)>.3||g*n+i*o+j*p<c){h(d,e,f,g,i,j,D,E,B,w/=z,x/=z,y,q,r);r.point(D,E);h(D,E,B,w,x,y,k,l,m,n,o,p,q,r)}}}e.precision=function(a){if(!arguments.length)return Math.sqrt(b);d=(b=a*a)>0&&16;return e};return e}a.geo.path=function(){var b=4.5,c,d,e,f,g;function h(c){if(c){if(typeof b==="function")f.pointRadius(+b.apply(this,arguments));if(!g||!g.valid)g=e(f);a.geo.stream(c,g)}return f.result()}h.area=function(b){Be=0;a.geo.stream(b,e(De));return Be};h.centroid=function(b){Ud=Vd=Wd=Xd=Yd=Zd=$d=_d=ae=0;a.geo.stream(b,e(Ne));return ae?[$d/ae,_d/ae]:Zd?[Xd/Zd,Yd/Zd]:Wd?[Ud/Wd,Vd/Wd]:[NaN,NaN]};h.bounds=function(b){He=Ie=-(Fe=Ge=Infinity);a.geo.stream(b,e(Je));return[[Fe,Ge],[He,Ie]]};h.projection=function(a){if(!arguments.length)return c;e=(c=a)?a.stream||Ue(a):Ac;return i()};h.context=function(a){if(!arguments.length)return d;f=(d=a)==null?new Le:new Se(a);if(typeof b!=="function")f.pointRadius(b);return i()};h.pointRadius=function(a){if(!arguments.length)return b;b=typeof a==="function"?a:(f.pointRadius(+a),+a);return h};function i(){g=null;return h}return h.projection(a.geo.albersUsa()).context(null)};function Ue(a){var b=Te(function(b,c){return a([b*Jb,c*Jb])});return function(a){return Ze(b(a))}}a.geo.transform=function(a){return{stream:function(b){var c=new Ve(b);for(var d in a)c[d]=a[d];return c}}};function Ve(a){this.stream=a}Ve.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function We(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}a.geo.projection=Xe;a.geo.projectionMutator=Ye;function Xe(a){return Ye(function(){return a})()}function Ye(b){var c,d,e,f=Te(function(a,b){a=c(a,b);return[a[0]*g+o,p-a[1]*g]}),g=150,h=480,i=250,j=0,k=0,l=0,m=0,n=0,o,p,q=pe,r=Ac,s=null,t=null,u;function v(a){a=e(a[0]*Ib,a[1]*Ib);return[a[0]*g+o,p-a[1]*g]}function w(a){a=e.invert((a[0]-o)/g,(p-a[1])/g);return a&&[a[0]*Jb,a[1]*Jb]}v.stream=function(a){if(u)u.valid=false;u=Ze(q(d,f(r(a))));u.valid=true;return u};v.clipAngle=function(a){if(!arguments.length)return s;q=a==null?(s=a,pe):ue((s=+a)*Ib);return y()};v.clipExtent=function(a){if(!arguments.length)return t;t=a;r=a?xe(a[0][0],a[0][1],a[1][0],a[1][1]):Ac;return y()};v.scale=function(a){if(!arguments.length)return g;g=+a;return x()};v.translate=function(a){if(!arguments.length)return[h,i];h=+a[0];i=+a[1];return x()};v.center=function(a){if(!arguments.length)return[j*Jb,k*Jb];j=a[0]%360*Ib;k=a[1]%360*Ib;return x()};v.rotate=function(a){if(!arguments.length)return[l*Jb,m*Jb,n*Jb];l=a[0]%360*Ib;m=a[1]%360*Ib;n=a.length>2?a[2]%360*Ib:0;return x()};a.rebind(v,f,"precision");function x(){e=ye(d=af(l,m,n),c);var a=c(j,k);o=h-a[0]*g;p=i+a[1]*g;return y()}function y(){if(u)u.valid=false,u=null;return v}return function(){c=b.apply(this,arguments);v.invert=c.invert&&w;return x()}}function Ze(a){return We(a,function(b,c){a.point(b*Ib,c*Ib)})}function $e(a,b){return[a,b]}(a.geo.equirectangular=function(){return Xe($e)}).raw=$e.invert=$e;a.geo.rotation=function(a){a=af(a[0]%360*Ib,a[1]*Ib,a.length>2?a[2]*Ib:0);function b(b){b=a(b[0]*Ib,b[1]*Ib);return b[0]*=Jb,b[1]*=Jb,b}b.invert=function(b){b=a.invert(b[0]*Ib,b[1]*Ib);return b[0]*=Jb,b[1]*=Jb,b};return b};function _e(a,b){return[a>Db?a-Eb:a<-Db?a+Eb:a,b]}_e.invert=$e;function af(a,b,c){return a?b||c?ye(cf(a),df(b,c)):cf(a):b||c?df(b,c):_e}function bf(a){return function(b,c){return b+=a,[b>Db?b-Eb:b<-Db?b+Eb:b,c]}}function cf(a){var b=bf(a);b.invert=bf(-a);return b}function df(a,b){var c=Math.cos(a),d=Math.sin(a),e=Math.cos(b),f=Math.sin(b);function g(a,b){var g=Math.cos(b),h=Math.cos(a)*g,i=Math.sin(a)*g,j=Math.sin(b),k=j*c+h*d;return[Math.atan2(i*e-k*f,h*c-j*d),Nb(k*e+i*f)]}g.invert=function(a,b){var g=Math.cos(b),h=Math.cos(a)*g,i=Math.sin(a)*g,j=Math.sin(b),k=j*e-i*f;return[Math.atan2(i*e+j*f,h*c+k*d),Nb(k*c-h*d)]};return g}a.geo.circle=function(){var a=[0,0],b,c=6,d;function e(){var b=typeof a==="function"?a.apply(this,arguments):a,c=af(-b[0]*Ib,-b[1]*Ib,0).invert,e=[];d(null,null,1,{point:function(a,b){e.push(a=c(a,b));a[0]*=Jb,a[1]*=Jb}});return{type:"Polygon",coordinates:[e]}}e.origin=function(b){if(!arguments.length)return a;a=b;return e};e.angle=function(a){if(!arguments.length)return b;d=ef((b=+a)*Ib,c*Ib);return e};e.precision=function(a){if(!arguments.length)return c;d=ef(b*Ib,(c=+a)*Ib);return e};return e.angle(90)};function ef(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;if(e!=null){e=ff(c,e);f=ff(c,f);if(g>0?e<f:e>f)e+=g*Eb}else{e=a+g*Eb;f=a-.5*i}for(var j,k=e;g>0?k>f:k<f;k-=i){h.point((j=Qd([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}}function ff(a,b){var c=Kd(b);c[0]-=a;Pd(c);var d=Mb(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Gb)%(2*Math.PI)}a.geo.distance=function(a,b){var c=(b[0]-a[0])*Ib,d=a[1]*Ib,e=b[1]*Ib,f=Math.sin(c),g=Math.cos(c),h=Math.sin(d),i=Math.cos(d),j=Math.sin(e),k=Math.cos(e),l;
return Math.atan2(Math.sqrt((l=k*f)*l+(l=i*j-h*k*g)*l),h*j+i*k*g)};a.geo.graticule=function(){var b,c,d,e,f,g,h,i,j=10,k=j,l=90,m=360,n,o,p,q,r=2.5;function s(){return{type:"MultiLineString",coordinates:u()}}function u(){return a.range(Math.ceil(e/l)*l,d,l).map(p).concat(a.range(Math.ceil(i/m)*m,h,m).map(q)).concat(a.range(Math.ceil(c/j)*j,b,j).filter(function(a){return t(a%l)>Gb}).map(n)).concat(a.range(Math.ceil(g/k)*k,f,k).filter(function(a){return t(a%m)>Gb}).map(o))}s.lines=function(){return u().map(function(a){return{type:"LineString",coordinates:a}})};s.outline=function(){return{type:"Polygon",coordinates:[p(e).concat(q(h).slice(1),p(d).reverse().slice(1),q(i).reverse().slice(1))]}};s.extent=function(a){if(!arguments.length)return s.minorExtent();return s.majorExtent(a).minorExtent(a)};s.majorExtent=function(a){if(!arguments.length)return[[e,i],[d,h]];e=+a[0][0],d=+a[1][0];i=+a[0][1],h=+a[1][1];if(e>d)a=e,e=d,d=a;if(i>h)a=i,i=h,h=a;return s.precision(r)};s.minorExtent=function(a){if(!arguments.length)return[[c,g],[b,f]];c=+a[0][0],b=+a[1][0];g=+a[0][1],f=+a[1][1];if(c>b)a=c,c=b,b=a;if(g>f)a=g,g=f,f=a;return s.precision(r)};s.step=function(a){if(!arguments.length)return s.minorStep();return s.majorStep(a).minorStep(a)};s.majorStep=function(a){if(!arguments.length)return[l,m];l=+a[0],m=+a[1];return s};s.minorStep=function(a){if(!arguments.length)return[j,k];j=+a[0],k=+a[1];return s};s.precision=function(a){if(!arguments.length)return r;r=+a;n=gf(g,f,90);o=hf(c,b,r);p=gf(i,h,90);q=hf(e,d,r);return s};return s.majorExtent([[-180,-90+Gb],[180,90-Gb]]).minorExtent([[-180,-80-Gb],[180,80+Gb]])};function gf(b,c,d){var e=a.range(b,c-Gb,d).concat(c);return function(a){return e.map(function(b){return[a,b]})}}function hf(b,c,d){var e=a.range(b,c-Gb,d).concat(c);return function(a){return e.map(function(b){return[b,a]})}}function jf(a){return a.source}function kf(a){return a.target}a.geo.greatArc=function(){var b=jf,c,d=kf,e;function f(){return{type:"LineString",coordinates:[c||b.apply(this,arguments),e||d.apply(this,arguments)]}}f.distance=function(){return a.geo.distance(c||b.apply(this,arguments),e||d.apply(this,arguments))};f.source=function(a){if(!arguments.length)return b;b=a,c=typeof a==="function"?null:a;return f};f.target=function(a){if(!arguments.length)return d;d=a,e=typeof a==="function"?null:a;return f};f.precision=function(){return arguments.length?f:0};return f};a.geo.interpolate=function(a,b){return lf(a[0]*Ib,a[1]*Ib,b[0]*Ib,b[1]*Ib)};function lf(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(Rb(d-b)+e*g*Rb(c-a))),n=1/Math.sin(m);var o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Jb,Math.atan2(g,Math.sqrt(d*d+e*e))*Jb]}:function(){return[a*Jb,b*Jb]};o.distance=m;return o}a.geo.length=function(b){mf=0;a.geo.stream(b,nf);return mf};var mf;var nf={sphere:K,point:K,lineStart:of,lineEnd:K,polygonStart:K,polygonEnd:K};function of(){var a,b,c;nf.point=function(e,f){a=e*Ib,b=Math.sin(f*=Ib),c=Math.cos(f);nf.point=d};nf.lineEnd=function(){nf.point=nf.lineEnd=K};function d(d,e){var f=Math.sin(e*=Ib),g=Math.cos(e),h=t((d*=Ib)-a),i=Math.cos(h);mf+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=c*f-b*g*i)*h),b*f+c*g*i);a=d,b=f,c=g}}function pf(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]};return c}var qf=pf(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(a.geo.azimuthalEqualArea=function(){return Xe(qf)}).raw=qf;var rf=pf(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},Ac);(a.geo.azimuthalEquidistant=function(){return Xe(rf)}).raw=rf;function sf(a,b){var c=Math.cos(a),d=function(a){return Math.tan(Db/4+a/2)},e=a===b?Math.sin(a):Math.log(c/Math.cos(b))/Math.log(d(b)/d(a)),f=c*Math.pow(d(a),e)/e;if(!e)return vf;function g(a,b){if(f>0){if(b<-Fb+Gb)b=-Fb+Gb}else{if(b>Fb-Gb)b=Fb-Gb}var c=f/Math.pow(d(b),e);return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}g.invert=function(a,b){var c=f-b,d=Kb(e)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-Fb]};return g}(a.geo.conicConformal=function(){return ze(sf)}).raw=sf;function tf(a,b){var c=Math.cos(a),d=a===b?Math.sin(a):(c-Math.cos(b))/(b-a),e=c/d+a;if(t(d)<Gb)return $e;function f(a,b){var c=e-b;return[c*Math.sin(d*a),e-c*Math.cos(d*a)]}f.invert=function(a,b){var c=e-b;return[Math.atan2(a,c)/d,e-Kb(d)*Math.sqrt(a*a+c*c)]};return f}(a.geo.conicEquidistant=function(){return ze(tf)}).raw=tf;var uf=pf(function(a){return 1/a},Math.atan);(a.geo.gnomonic=function(){return Xe(uf)}).raw=uf;function vf(a,b){return[a,Math.log(Math.tan(Db/4+b/2))]}vf.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Fb]};function wf(a){var b=Xe(a),c=b.scale,d=b.translate,e=b.clipExtent,f;b.scale=function(){var a=c.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.translate=function(){var a=d.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.clipExtent=function(a){var g=e.apply(b,arguments);if(g===b){if(f=a==null){var h=Db*c(),i=d();e([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else if(f){g=null}return g};return b.clipExtent(null)}(a.geo.mercator=function(){return wf(vf)}).raw=vf;var xf=pf(function(){return 1},Math.asin);(a.geo.orthographic=function(){return Xe(xf)}).raw=xf;var yf=pf(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(a.geo.stereographic=function(){return Xe(yf)}).raw=yf;function zf(a,b){return[Math.log(Math.tan(Db/4+b/2)),-a]}zf.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Fb]};(a.geo.transverseMercator=function(){var a=wf(zf),b=a.center,c=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])};a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])};return c([0,0,90])}).raw=zf;a.geom={};function Af(a){return a[0]}function Bf(a){return a[1]}a.geom.hull=function(a){var b=Af,c=Bf;if(arguments.length)return d(a);function d(a){if(a.length<3)return[];var d=zc(b),e=zc(c),f,g=a.length,h=[],i=[];for(f=0;f<g;f++){h.push([+d.call(this,a[f],f),+e.call(this,a[f],f),f])}h.sort(Df);for(f=0;f<g;f++)i.push([h[f][0],-h[f][1]]);var j=Cf(h),k=Cf(i);var l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(f=j.length-1;f>=0;--f)n.push(a[h[j[f]][2]]);for(f=+l;f<k.length-m;++f)n.push(a[h[k[f]][2]]);return n}d.x=function(a){return arguments.length?(b=a,d):b};d.y=function(a){return arguments.length?(c=a,d):c};return d};function Cf(a){var b=a.length,c=[0,1],d=2;for(var e=2;e<b;e++){while(d>1&&Lb(a[c[d-2]],a[c[d-1]],a[e])<=0)--d;c[d++]=e}return c.slice(0,d)}function Df(a,b){return a[0]-b[0]||a[1]-b[1]}a.geom.polygon=function(a){R(a,Ef);return a};var Ef=a.geom.polygon.prototype=[];Ef.area=function(){var a=-1,b=this.length,c,d=this[b-1],e=0;while(++a<b){c=d;d=this[a];e+=c[1]*d[0]-c[0]*d[1]}return e*.5};Ef.centroid=function(a){var b=-1,c=this.length,d=0,e=0,f,g=this[c-1],h;if(!arguments.length)a=-1/(6*this.area());while(++b<c){f=g;g=this[b];h=f[0]*g[1]-g[0]*f[1];d+=(f[0]+g[0])*h;e+=(f[1]+g[1])*h}return[d*a,e*a]};Ef.clip=function(a){var b,c=Hf(a),d=-1,e=this.length-Hf(this),f,g,h=this[e-1],i,j,k;while(++d<e){b=a.slice();a.length=0;i=this[d];j=b[(g=b.length-c)-1];f=-1;while(++f<g){k=b[f];if(Ff(k,h,i)){if(!Ff(j,h,i)){a.push(Gf(j,k,h,i))}a.push(k)}else if(Ff(j,h,i)){a.push(Gf(j,k,h,i))}j=k}if(c)a.push(a[0]);h=i}return a};function Ff(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Gf(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Hf(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}var If,Jf,Kf,Lf=[],Mf,Nf,Of=[];function Pf(){ig(this);this.edge=this.site=this.circle=null}function Qf(a){var b=Lf.pop()||new Pf;b.site=a;return b}function Rf(a){_f(a);Kf.remove(a);Lf.push(a);ig(a)}function Sf(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Rf(a);var i=f;while(i.circle&&t(c-i.circle.x)<Gb&&t(d-i.circle.cy)<Gb){f=i.P;h.unshift(i);Rf(i);i=f}h.unshift(i);_f(i);var j=g;while(j.circle&&t(c-j.circle.x)<Gb&&t(d-j.circle.cy)<Gb){g=j.N;h.push(j);Rf(j);j=g}h.push(j);_f(j);var k=h.length,l;for(l=1;l<k;++l){j=h[l];i=h[l-1];fg(j.edge,i.site,j.site,e)}i=h[0];j=h[k-1];j.edge=dg(i.site,j.site,null,e);$f(i);$f(j)}function Tf(a){var b=a.x,c=a.y,d,e,f,g,h=Kf._;while(h){f=Uf(h,c)-b;if(f>Gb)h=h.L;else{g=b-Vf(h,c);if(g>Gb){if(!h.R){d=h;break}h=h.R}else{if(f>-Gb){d=h.P;e=h}else if(g>-Gb){d=h;e=h.N}else{d=e=h}break}}}var i=Qf(a);Kf.insert(d,i);if(!d&&!e)return;if(d===e){_f(d);e=Qf(d.site);Kf.insert(i,e);i.edge=e.edge=dg(d.site,i.site);$f(d);$f(e);return}if(!e){i.edge=dg(d.site,i.site);return}_f(d);_f(e);var j=d.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=e.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};fg(e.edge,j,o,u);i.edge=dg(j,a,null,u);e.edge=dg(a,o,null,u);$f(d);$f(e)}function Uf(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-Infinity;c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;if(l)return(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d;return(d+h)/2}function Vf(a,b){var c=a.N;if(c)return Uf(c,b);var d=a.site;return d.y===b?d.x:Infinity}function Wf(a){this.site=a;this.edges=[]}Wf.prototype.prepare=function(){var a=this.edges,b=a.length,c;while(b--){c=a[b].edge;if(!c.b||!c.a)a.splice(b,1)}a.sort(Yf);return a.length};function Xf(a){var b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],f,g,h,i,j=Jf,k=j.length,l,m,n,o,p,q;while(k--){l=j[k];if(!l||!l.prepare())continue;n=l.edges;o=n.length;m=0;while(m<o){q=n[m].end(),h=q.x,i=q.y;p=n[++m%o].start(),f=p.x,g=p.y;if(t(h-f)>Gb||t(i-g)>Gb){n.splice(m,0,new gg(eg(l.site,q,t(h-b)<Gb&&e-i>Gb?{x:b,y:t(f-b)<Gb?g:e}:t(i-e)<Gb&&c-h>Gb?{x:t(g-e)<Gb?f:c,y:e}:t(h-c)<Gb&&i-d>Gb?{x:c,y:t(f-c)<Gb?g:d}:t(i-d)<Gb&&h-b>Gb?{x:t(g-d)<Gb?f:b,y:d}:null),l.site,null));++o}}}}function Yf(a,b){return b.angle-a.angle}function Zf(){ig(this);this.x=this.y=this.arc=this.site=this.cy=null}function $f(a){var b=a.P,c=a.N;if(!b||!c)return;var d=b.site,e=a.site,f=c.site;if(d===f)return;var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h;var m=2*(i*l-j*k);if(m>=-Hb)return;var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h;var r=Of.pop()||new Zf;r.arc=a;r.site=e;r.x=p+g;r.y=l+Math.sqrt(p*p+q*q);r.cy=l;a.circle=r;var s=null,t=Nf._;while(t){if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(t.L)t=t.L;else{s=t.P;break}}else{if(t.R)t=t.R;else{s=t;break}}}Nf.insert(s,r);if(!s)Mf=r}function _f(a){var b=a.circle;if(b){if(!b.P)Mf=b.N;Nf.remove(b);Of.push(b);ig(b);a.circle=null}}function ag(a){var b=If,c=ve(a[0][0],a[0][1],a[1][0],a[1][1]),d=b.length,e;while(d--){e=b[d];if(!bg(e,a)||!c(e)||t(e.a.x-e.b.x)<Gb&&t(e.a.y-e.b.y)<Gb){e.a=e.b=null;b.splice(d,1)}}}function bg(a,b){var c=a.b;if(c)return true;var d=a.a,e=b[0][0],f=b[1][0],g=b[0][1],h=b[1][1],i=a.l,j=a.r,k=i.x,l=i.y,m=j.x,n=j.y,o=(k+m)/2,p=(l+n)/2,q,r;if(n===l){if(o<e||o>=f)return;if(k>m){if(!d)d={x:o,y:g};else if(d.y>=h)return;c={x:o,y:h}}else{if(!d)d={x:o,y:h};else if(d.y<g)return;c={x:o,y:g}}}else{q=(k-m)/(n-l);r=p-q*o;if(q<-1||q>1){if(k>m){if(!d)d={x:(g-r)/q,y:g};else if(d.y>=h)return;c={x:(h-r)/q,y:h}}else{if(!d)d={x:(h-r)/q,y:h};else if(d.y<g)return;c={x:(g-r)/q,y:g}}}else{if(l<n){if(!d)d={x:e,y:q*e+r};else if(d.x>=f)return;c={x:f,y:q*f+r}}else{if(!d)d={x:f,y:q*f+r};else if(d.x<e)return;c={x:e,y:q*e+r}}}}a.a=d;a.b=c;return true}function cg(a,b){this.l=a;this.r=b;this.a=this.b=null}function dg(a,b,c,d){var e=new cg(a,b);If.push(e);if(c)fg(e,a,b,c);if(d)fg(e,b,a,d);Jf[a.i].edges.push(new gg(e,a,b));Jf[b.i].edges.push(new gg(e,b,a));return e}function eg(a,b,c){var d=new cg(a,null);d.a=b;d.b=c;If.push(d);return d}function fg(a,b,c,d){if(!a.a&&!a.b){a.a=d;a.l=b;a.r=c}else if(a.l===c){a.b=d}else{a.a=d}}function gg(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}gg.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function hg(){this._=null}function ig(a){a.U=a.C=a.L=a.R=a.P=a.N=null}hg.prototype={insert:function(a,b){var c,d,e;if(a){b.P=a;b.N=a.N;if(a.N)a.N.P=b;a.N=b;if(a.R){a=a.R;while(a.L)a=a.L;a.L=b}else{a.R=b}c=a}else if(this._){a=lg(this._);b.P=null;b.N=a;a.P=a.L=b;c=a}else{b.P=b.N=null;this._=b;c=null}b.L=b.R=null;b.U=c;b.C=true;a=b;while(c&&c.C){d=c.U;if(c===d.L){e=d.R;if(e&&e.C){c.C=e.C=false;d.C=true;a=d}else{if(a===c.R){jg(this,c);a=c;c=a.U}c.C=false;d.C=true;kg(this,d)}}else{e=d.L;if(e&&e.C){c.C=e.C=false;d.C=true;a=d}else{if(a===c.L){kg(this,c);a=c;c=a.U}c.C=false;d.C=true;jg(this,d)}}c=a.U}this._.C=false},remove:function(a){if(a.N)a.N.P=a.P;if(a.P)a.P.N=a.N;a.N=a.P=null;var b=a.U,c,d=a.L,e=a.R,f,g;if(!d)f=e;else if(!e)f=d;else f=lg(e);if(b){if(b.L===a)b.L=f;else b.R=f}else{this._=f}if(d&&e){g=f.C;f.C=a.C;f.L=d;d.U=f;if(f!==e){b=f.U;f.U=a.U;a=f.R;b.L=a;f.R=e;e.U=f}else{f.U=b;b=f;a=f.R}}else{g=a.C;a=f}if(a)a.U=b;if(g)return;if(a&&a.C){a.C=false;return}do{if(a===this._)break;if(a===b.L){c=b.R;if(c.C){c.C=false;b.C=true;jg(this,b);c=b.R}if(c.L&&c.L.C||c.R&&c.R.C){if(!c.R||!c.R.C){c.L.C=false;c.C=true;kg(this,c);c=b.R}c.C=b.C;b.C=c.R.C=false;jg(this,b);a=this._;break}}else{c=b.L;if(c.C){c.C=false;b.C=true;kg(this,b);c=b.L}if(c.L&&c.L.C||c.R&&c.R.C){if(!c.L||!c.L.C){c.R.C=false;c.C=true;jg(this,c);c=b.L}c.C=b.C;b.C=c.L.C=false;kg(this,b);a=this._;break}}c.C=true;a=b;b=b.U}while(!a.C);if(a)a.C=false}};function jg(a,b){var c=b,d=b.R,e=c.U;if(e){if(e.L===c)e.L=d;else e.R=d}else{a._=d}d.U=e;c.U=d;c.R=d.L;if(c.R)c.R.U=c;d.L=c}function kg(a,b){var c=b,d=b.L,e=c.U;if(e){if(e.L===c)e.L=d;else e.R=d}else{a._=d}d.U=e;c.U=d;c.L=d.R;if(c.L)c.L.U=c;d.R=c}function lg(a){while(a.L)a=a.L;return a}function mg(a,b){var c=a.sort(ng).pop(),d,e,f;If=[];Jf=new Array(a.length);Kf=new hg;Nf=new hg;while(true){f=Mf;if(c&&(!f||c.y<f.y||c.y===f.y&&c.x<f.x)){if(c.x!==d||c.y!==e){Jf[c.i]=new Wf(c);Tf(c);d=c.x,e=c.y}c=a.pop()}else if(f){Sf(f.arc)}else{break}}if(b)ag(b),Xf(b);var g={cells:Jf,edges:If};Kf=Nf=If=Jf=null;return g}function ng(a,b){return b.y-a.y||b.x-a.x}a.geom.voronoi=function(a){var b=Af,c=Bf,d=b,e=c,f=og;if(a)return g(a);function g(a){var b=new Array(a.length),c=f[0][0],d=f[0][1],e=f[1][0],g=f[1][1];mg(h(a),f).cells.forEach(function(f,h){var i=f.edges,j=f.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=c&&j.x<=e&&j.y>=d&&j.y<=g?[[c,g],[e,g],[e,d],[c,d]]:[];k.point=a[h]});return b}function h(a){return a.map(function(a,b){return{x:Math.round(d(a,b)/Gb)*Gb,y:Math.round(e(a,b)/Gb)*Gb,i:b}})}g.links=function(a){return mg(h(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})};g.triangles=function(a){var b=[];mg(h(a)).cells.forEach(function(c,d){var e=c.site,f=c.edges.sort(Yf),g=-1,h=f.length,i,j,k=f[h-1].edge,l=k.l===e?k.r:k.l;while(++g<h){i=k;j=l;k=f[g].edge;l=k.l===e?k.r:k.l;if(d<j.i&&d<l.i&&pg(e,j,l)<0){b.push([a[d],a[j.i],a[l.i]])}}});return b};g.x=function(a){return arguments.length?(d=zc(b=a),g):b};g.y=function(a){return arguments.length?(e=zc(c=a),g):c};g.clipExtent=function(a){if(!arguments.length)return f===og?null:f;f=a==null?og:a;return g};g.size=function(a){if(!arguments.length)return f===og?null:f&&f[1];return g.clipExtent(a&&[[0,0],a])};return g};var og=[[-1e6,-1e6],[1e6,1e6]];function pg(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}a.geom.delaunay=function(b){return a.geom.voronoi().triangles(b)};a.geom.quadtree=function(a,b,c,d,e){var f=Af,g=Bf,h;if(h=arguments.length){f=qg;g=rg;if(h===3){e=c;d=b;c=b=0}return i(a)}function i(a){var i,j=zc(f),k=zc(g),l,m,n,o,p,q,r,s;if(b!=null){p=b,q=c,r=d,s=e}else{r=s=-(p=q=Infinity);l=[],m=[];o=a.length;if(h)for(n=0;n<o;++n){i=a[n];if(i.x<p)p=i.x;if(i.y<q)q=i.y;if(i.x>r)r=i.x;if(i.y>s)s=i.y;l.push(i.x);m.push(i.y)}else for(n=0;n<o;++n){var u=+j(i=a[n],n),v=+k(i,n);if(u<p)p=u;if(v<q)q=v;if(u>r)r=u;if(v>s)s=v;l.push(u);m.push(v)}}var w=r-p,x=s-q;if(w>x)s=q+w;else r=p+x;function y(a,b,c,d,e,f,g,h){if(isNaN(c)||isNaN(d))return;if(a.leaf){var i=a.x,j=a.y;if(i!=null){if(t(i-c)+t(j-d)<.01){z(a,b,c,d,e,f,g,h)}else{var k=a.point;a.x=a.y=a.point=null;z(a,k,i,j,e,f,g,h);z(a,b,c,d,e,f,g,h)}}else{a.x=c,a.y=d,a.point=b}}else{z(a,b,c,d,e,f,g,h)}}function z(a,b,c,d,e,f,g,h){var i=(e+g)*.5,j=(f+h)*.5,k=c>=i,l=d>=j,m=(l<<1)+k;a.leaf=false;a=a.nodes[m]||(a.nodes[m]=sg());if(k)e=i;else g=i;if(l)f=j;else h=j;y(a,b,c,d,e,f,g,h)}var A=sg();A.add=function(a){y(A,a,+j(a,++n),+k(a,n),p,q,r,s)};A.visit=function(a){tg(a,A,p,q,r,s)};n=-1;if(b==null){while(++n<o){y(A,a[n],l[n],m[n],p,q,r,s)}--n}else a.forEach(A.add);l=m=a=i=null;return A}i.x=function(a){return arguments.length?(f=a,i):f};i.y=function(a){return arguments.length?(g=a,i):g};i.extent=function(a){if(!arguments.length)return b==null?null:[[b,c],[d,e]];if(a==null)b=c=d=e=null;else b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1];return i};i.size=function(a){if(!arguments.length)return b==null?null:[d-b,e-c];if(a==null)b=c=d=e=null;else b=c=0,d=+a[0],e=+a[1];return i};return i};function qg(a){return a.x}function rg(a){return a.y}function sg(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function tg(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=(c+e)*.5,h=(d+f)*.5,i=b.nodes;if(i[0])tg(a,i[0],c,d,g,h);if(i[1])tg(a,i[1],g,d,e,h);if(i[2])tg(a,i[2],c,h,g,f);if(i[3])tg(a,i[3],g,h,e,f)}}a.interpolateRgb=ug;function ug(b,c){b=a.rgb(b);c=a.rgb(c);var d=b.r,e=b.g,f=b.b,g=c.r-d,h=c.g-e,i=c.b-f;return function(a){return"#"+sc(Math.round(d+g*a))+sc(Math.round(e+h*a))+sc(Math.round(f+i*a))}}a.interpolateObject=vg;function vg(a,b){var c={},d={},e;for(e in a){if(e in b){c[e]=Ag(a[e],b[e])}else{d[e]=a[e]}}for(e in b){if(!(e in a)){d[e]=b[e]}}return function(a){for(e in c)d[e]=c[e](a);return d}}a.interpolateNumber=wg;function wg(a,b){a=+a,b=+b;return function(c){return a*(1-c)+b*c}}a.interpolateString=xg;function xg(a,b){var c=yg.lastIndex=zg.lastIndex=0,d,e,f,g=-1,h=[],i=[];a=a+"",b=b+"";while((d=yg.exec(a))&&(e=zg.exec(b))){if((f=e.index)>c){f=b.slice(c,f);if(h[g])h[g]+=f;else h[++g]=f}if((d=d[0])===(e=e[0])){if(h[g])h[g]+=e;else h[++g]=e}else{h[++g]=null;i.push({i:g,x:wg(d,e)})}c=zg.lastIndex}if(c<b.length){f=b.slice(c);if(h[g])h[g]+=f;else h[++g]=f}return h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c=0,d;c<b;++c)h[(d=i[c]).i]=d.x(a);return h.join("")})}var yg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zg=new RegExp(yg.source,"g");a.interpolate=Ag;function Ag(b,c){var d=a.interpolators.length,e;while(--d>=0&&!(e=a.interpolators[d](b,c)));return e}a.interpolators=[function(a,b){var c=typeof b;return(c==="string"?yc.has(b)||/^(#|rgb\(|hsl\()/.test(b)?ug:xg:b instanceof Yb?ug:Array.isArray(b)?Bg:c==="object"&&isNaN(b)?vg:wg)(a,b)}];a.interpolateArray=Bg;function Bg(a,b){var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length),h;for(h=0;h<g;++h)c.push(Ag(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}}var Cg=function(){return Ac};var Dg=a.map({linear:Cg,poly:Lg,quad:function(){return Ig},cubic:function(){return Jg},sin:function(){return Mg},exp:function(){return Ng},circle:function(){return Og},elastic:Pg,back:Qg,bounce:function(){return Rg}});var Eg=a.map({"in":Ac,out:Gg,"in-out":Hg,"out-in":function(a){return Hg(Gg(a))}});a.ease=function(a){var c=a.indexOf("-"),d=c>=0?a.slice(0,c):a,e=c>=0?a.slice(c+1):"in";d=Dg.get(d)||Cg;e=Eg.get(e)||Ac;return Fg(e(d.apply(null,b.call(arguments,1))))};function Fg(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function Gg(a){return function(b){return 1-a(1-b)}}function Hg(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function Ig(a){return a*a}function Jg(a){return a*a*a}function Kg(a){if(a<=0)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(a<.5?c:3*(a-b)+c-.75)}function Lg(a){return function(b){return Math.pow(b,a)}}function Mg(a){return 1-Math.cos(a*Fb)}function Ng(a){return Math.pow(2,10*(a-1))}function Og(a){return 1-Math.sqrt(1-a*a)}function Pg(a,b){var c;if(arguments.length<2)b=.45;if(arguments.length)c=b/Eb*Math.asin(1/a);else a=1,c=b/4;return function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Eb/b)}}function Qg(a){if(!a)a=1.70158;return function(b){return b*b*((a+1)*b-a)}}function Rg(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}a.interpolateHcl=Sg;function Sg(b,c){b=a.hcl(b);c=a.hcl(c);var d=b.h,e=b.c,f=b.l,g=c.h-d,h=c.c-e,i=c.l-f;if(isNaN(h))h=0,e=isNaN(e)?c.c:e;if(isNaN(g))g=0,d=isNaN(d)?c.h:d;else if(g>180)g-=360;else if(g<-180)g+=360;return function(a){return cc(d+g*a,e+h*a,f+i*a)+""}}a.interpolateHsl=Tg;function Tg(b,c){b=a.hsl(b);c=a.hsl(c);var d=b.h,e=b.s,f=b.l,g=c.h-d,h=c.s-e,i=c.l-f;if(isNaN(h))h=0,e=isNaN(e)?c.s:e;if(isNaN(g))g=0,d=isNaN(d)?c.h:d;else if(g>180)g-=360;else if(g<-180)g+=360;return function(a){return _b(d+g*a,e+h*a,f+i*a)+""}}a.interpolateLab=Ug;function Ug(b,c){b=a.lab(b);c=a.lab(c);var d=b.l,e=b.a,f=b.b,g=c.l-d,h=c.a-e,i=c.b-f;return function(a){return jc(d+g*a,e+h*a,f+i*a)+""}}a.interpolateRound=Vg;function Vg(a,b){b-=a;return function(c){return Math.round(a+b*c)}}a.transform=function(b){var c=d.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(a){if(a!=null){c.setAttribute("transform",a);var b=c.transform.baseVal.consolidate()}return new Wg(b?b.matrix:$g)})(b)};function Wg(a){var b=[a.a,a.b],c=[a.c,a.d],d=Yg(b),e=Xg(b,c),f=Yg(Zg(c,b,-e))||0;if(b[0]*c[1]<c[0]*b[1]){b[0]*=-1;b[1]*=-1;d*=-1;e*=-1}this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Jb;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*Jb:0}Wg.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Xg(a,b){return a[0]*b[0]+a[1]*b[1]}function Yg(a){var b=Math.sqrt(Xg(a,a));if(b){a[0]/=b;a[1]/=b}return b}function Zg(a,b,c){a[0]+=c*b[0];a[1]+=c*b[1];return a}var $g={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=_g;function _g(b,c){var d=[],e=[],f,g=a.transform(b),h=a.transform(c),i=g.translate,j=h.translate,k=g.rotate,l=h.rotate,m=g.skew,n=h.skew,o=g.scale,p=h.scale;if(i[0]!=j[0]||i[1]!=j[1]){d.push("translate(",null,",",null,")");e.push({i:1,x:wg(i[0],j[0])},{i:3,x:wg(i[1],j[1])})}else if(j[0]||j[1]){d.push("translate("+j+")")}else{d.push("")}if(k!=l){if(k-l>180)l+=360;else if(l-k>180)k+=360;e.push({i:d.push(d.pop()+"rotate(",null,")")-2,x:wg(k,l)})}else if(l){d.push(d.pop()+"rotate("+l+")")}if(m!=n){e.push({i:d.push(d.pop()+"skewX(",null,")")-2,x:wg(m,n)})}else if(n){d.push(d.pop()+"skewX("+n+")")}if(o[0]!=p[0]||o[1]!=p[1]){f=d.push(d.pop()+"scale(",null,",",null,")");e.push({i:f-4,x:wg(o[0],p[0])},{i:f-2,x:wg(o[1],p[1])})}else if(p[0]!=1||p[1]!=1){d.push(d.pop()+"scale("+p+")")}f=e.length;return function(a){var b=-1,c;while(++b<f)d[(c=e[b]).i]=c.x(a);return d.join("")}}function ah(a,b){b=(b-=a=+a)||1/b;return function(c){return(c-a)/b}}function bh(a,b){b=(b-=a=+a)||1/b;return function(c){return Math.max(0,Math.min(1,(c-a)/b))}}a.layout={};a.layout.bundle=function(){return function(a){var b=[],c=-1,d=a.length;while(++c<d)b.push(ch(a[c]));return b}};function ch(a){var b=a.source,c=a.target,d=eh(b,c),e=[b];while(b!==d){b=b.parent;e.push(b)}var f=e.length;while(c!==d){e.splice(f,0,c);c=c.parent}return e}function dh(a){var b=[],c=a.parent;while(c!=null){b.push(a);a=c;c=c.parent}b.push(a);return b}function eh(a,b){if(a===b)return a;var c=dh(a),d=dh(b),e=c.pop(),f=d.pop(),g=null;while(e===f){g=e;e=c.pop();f=d.pop()}return g}a.layout.chord=function(){var b={},c,d,e,f,g=0,h,i,j;function k(){var b={},k=[],m=a.range(f),n=[],o,p,q,r,s;c=[];d=[];o=0,r=-1;while(++r<f){p=0,s=-1;while(++s<f){p+=e[r][s]}k.push(p);n.push(a.range(f));o+=p}if(h){m.sort(function(a,b){return h(k[a],k[b])})}if(i){n.forEach(function(a,b){a.sort(function(a,c){return i(e[b][a],e[b][c])})})}o=(Eb-g*f)/o;p=0,r=-1;while(++r<f){q=p,s=-1;while(++s<f){var t=m[r],u=n[t][s],v=e[t][u],w=p,x=p+=v*o;b[t+"-"+u]={index:t,subindex:u,startAngle:w,endAngle:x,value:v}}d[t]={index:t,startAngle:q,endAngle:p,value:(p-q)/o};p+=g}r=-1;while(++r<f){s=r-1;while(++s<f){var y=b[r+"-"+s],z=b[s+"-"+r];if(y.value||z.value){c.push(y.value<z.value?{source:z,target:y}:{source:y,target:z})}}}if(j)l()}function l(){c.sort(function(a,b){return j((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}b.matrix=function(a){if(!arguments.length)return e;f=(e=a)&&e.length;c=d=null;return b};b.padding=function(a){if(!arguments.length)return g;g=a;c=d=null;return b};b.sortGroups=function(a){if(!arguments.length)return h;h=a;c=d=null;return b};b.sortSubgroups=function(a){if(!arguments.length)return i;i=a;c=null;return b};b.sortChords=function(a){if(!arguments.length)return j;j=a;if(c)l();return b};b.chords=function(){if(!c)k();return c};b.groups=function(){if(!d)k();return d};return b};a.layout.force=function(){var b={},c=a.dispatch("start","tick","end"),d=[1,1],e,f,g=.9,h=kh,i=lh,j=-30,k=mh,l=.1,m=.64,n=[],o=[],p,q,r;function s(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(h*h/m<i){if(i<k){var j=b.charge/i;a.px-=f*j;a.py-=g*j}return true}if(b.point&&i&&i<k){var j=b.pointCharge/i;a.px-=f*j;a.py-=g*j}}return!b.charge}}b.tick=function(){if((f*=.99)<.005){c.end({type:"end",alpha:f=0});return true}var b=n.length,e=o.length,h,i,k,m,t,u,v,w,x;for(i=0;i<e;++i){k=o[i];m=k.source;t=k.target;w=t.x-m.x;x=t.y-m.y;if(u=w*w+x*x){u=f*q[i]*((u=Math.sqrt(u))-p[i])/u;w*=u;x*=u;t.x-=w*(v=m.weight/(t.weight+m.weight));t.y-=x*v;m.x+=w*(v=1-v);m.y+=x*v}}if(v=f*l){w=d[0]/2;x=d[1]/2;i=-1;if(v)while(++i<b){k=n[i];k.x+=(w-k.x)*v;k.y+=(x-k.y)*v}}if(j){jh(h=a.geom.quadtree(n),f,r);i=-1;while(++i<b){if(!(k=n[i]).fixed){h.visit(s(k))}}}i=-1;while(++i<b){k=n[i];if(k.fixed){k.x=k.px;k.y=k.py}else{k.x-=(k.px-(k.px=k.x))*g;k.y-=(k.py-(k.py=k.y))*g}}c.tick({type:"tick",alpha:f})};b.nodes=function(a){if(!arguments.length)return n;n=a;return b};b.links=function(a){if(!arguments.length)return o;o=a;return b};b.size=function(a){if(!arguments.length)return d;d=a;return b};b.linkDistance=function(a){if(!arguments.length)return h;h=typeof a==="function"?a:+a;return b};b.distance=b.linkDistance;b.linkStrength=function(a){if(!arguments.length)return i;i=typeof a==="function"?a:+a;return b};b.friction=function(a){if(!arguments.length)return g;g=+a;return b};b.charge=function(a){if(!arguments.length)return j;j=typeof a==="function"?a:+a;return b};b.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(k);k=a*a;return b};b.gravity=function(a){if(!arguments.length)return l;l=+a;return b};b.theta=function(a){if(!arguments.length)return Math.sqrt(m);m=a*a;return b};b.alpha=function(d){if(!arguments.length)return f;d=+d;if(f){if(d>0)f=d;else f=0}else if(d>0){c.start({type:"start",alpha:f=d});a.timer(b.tick)}return b};b.start=function(){var a,c=n.length,e=o.length,f=d[0],g=d[1],k,l;for(a=0;a<c;++a){(l=n[a]).index=a;l.weight=0}for(a=0;a<e;++a){l=o[a];if(typeof l.source=="number")l.source=n[l.source];if(typeof l.target=="number")l.target=n[l.target];++l.source.weight;++l.target.weight}for(a=0;a<c;++a){l=n[a];if(isNaN(l.x))l.x=m("x",f);if(isNaN(l.y))l.y=m("y",g);if(isNaN(l.px))l.px=l.x;if(isNaN(l.py))l.py=l.y}p=[];if(typeof h==="function")for(a=0;a<e;++a)p[a]=+h.call(this,o[a],a);else for(a=0;a<e;++a)p[a]=h;q=[];if(typeof i==="function")for(a=0;a<e;++a)q[a]=+i.call(this,o[a],a);else for(a=0;a<e;++a)q[a]=i;r=[];if(typeof j==="function")for(a=0;a<c;++a)r[a]=+j.call(this,n[a],a);else for(a=0;a<c;++a)r[a]=j;function m(b,d){if(!k){k=new Array(c);for(g=0;g<c;++g){k[g]=[]}for(g=0;g<h;++g){var e=o[g];k[e.source.index].push(e.target);k[e.target.index].push(e.source)}}var f=k[a],g=-1,h=f.length,i;while(++g<h)if(!isNaN(i=f[g][b]))return i;return Math.random()*d}return b.resume()};b.resume=function(){return b.alpha(.1)};b.stop=function(){return b.alpha(0)};b.drag=function(){if(!e)e=a.behavior.drag().origin(Ac).on("dragstart.force",fh).on("drag.force",t).on("dragend.force",gh);if(!arguments.length)return e;this.on("mouseover.force",hh).on("mouseout.force",ih).call(e)};function t(c){c.px=a.event.x,c.py=a.event.y;b.resume()}return a.rebind(b,c,"on")};function fh(a){a.fixed|=2}function gh(a){a.fixed&=~6}function hh(a){a.fixed|=4;a.px=a.x,a.py=a.y}function ih(a){a.fixed&=~4}function jh(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf){var f=a.nodes,g=f.length,h=-1,i;while(++h<g){i=f[h];if(i==null)continue;jh(i,b,c);a.charge+=i.charge;d+=i.charge*i.cx;e+=i.charge*i.cy}}if(a.point){if(!a.leaf){a.point.x+=Math.random()-.5;a.point.y+=Math.random()-.5}var j=b*c[a.point.index];a.charge+=a.pointCharge=j;d+=j*a.point.x;e+=j*a.point.y}a.cx=d/a.charge;a.cy=e/a.charge}var kh=20,lh=1,mh=Infinity;a.layout.hierarchy=function(){var a=sh,b=qh,c=rh;function d(e){var f=[e],g=[],h;e.depth=0;while((h=f.pop())!=null){g.push(h);if((j=b.call(d,h,h.depth))&&(i=j.length)){var i,j,k;while(--i>=0){f.push(k=j[i]);k.parent=h;k.depth=h.depth+1}if(c)h.value=0;h.children=j}else{if(c)h.value=+c.call(d,h,h.depth)||0;delete h.children}}ph(e,function(b){var d,e;if(a&&(d=b.children))d.sort(a);if(c&&(e=b.parent))e.value+=b.value});return g}d.sort=function(b){if(!arguments.length)return a;a=b;return d};d.children=function(a){if(!arguments.length)return b;b=a;return d};d.value=function(a){if(!arguments.length)return c;c=a;return d};d.revalue=function(a){if(c){oh(a,function(a){if(a.children)a.value=0});ph(a,function(a){var b;if(!a.children)a.value=+c.call(d,a,a.depth)||0;if(b=a.parent)b.value+=a.value})}return a};return d};function nh(b,c){a.rebind(b,c,"sort","children","value");b.nodes=b;b.links=th;return b}function oh(a,b){var c=[a];while((a=c.pop())!=null){b(a);if((e=a.children)&&(d=e.length)){var d,e;while(--d>=0)c.push(e[d])}}}function ph(a,b){var c=[a],d=[];while((a=c.pop())!=null){d.push(a);if((g=a.children)&&(f=g.length)){var e=-1,f,g;while(++e<f)c.push(g[e])}}while((a=d.pop())!=null){b(a)}}function qh(a){return a.children}function rh(a){return a.value}function sh(a,b){return b.value-a.value}function th(b){return a.merge(b.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}a.layout.partition=function(){var b=a.layout.hierarchy(),c=[1,1];function d(a,b,c,e){var f=a.children;a.x=b;a.y=a.depth*e;a.dx=c;a.dy=e;if(f&&(h=f.length)){var g=-1,h,i,j;c=a.value?c/a.value:0;while(++g<h){d(i=f[g],b,j=i.value*c,e);b+=j}}}function e(a){var b=a.children,c=0;if(b&&(f=b.length)){var d=-1,f;while(++d<f)c=Math.max(c,e(b[d]))}return 1+c}function f(a,f){var g=b.call(this,a,f);d(g[0],0,c[0],c[1]/e(g[0]));return g}f.size=function(a){if(!arguments.length)return c;c=a;return f};return nh(f,b)};a.layout.pie=function(){var b=Number,c=uh,d=0,e=Eb;function f(g){var h=g.map(function(a,c){return+b.call(f,a,c)});var i=+(typeof d==="function"?d.apply(this,arguments):d);var j=((typeof e==="function"?e.apply(this,arguments):e)-i)/a.sum(h);var k=a.range(g.length);if(c!=null)k.sort(c===uh?function(a,b){return h[b]-h[a]}:function(a,b){return c(g[a],g[b])});var l=[];k.forEach(function(a){var b;l[a]={data:g[a],value:b=h[a],startAngle:i,endAngle:i+=b*j}});return l}f.value=function(a){if(!arguments.length)return b;b=a;return f};f.sort=function(a){if(!arguments.length)return c;c=a;return f};f.startAngle=function(a){if(!arguments.length)return d;d=a;return f};f.endAngle=function(a){if(!arguments.length)return e;e=a;return f};return f};var uh={};a.layout.stack=function(){var b=Ac,c=Ah,d=Bh,e=xh,f=vh,g=wh;function h(i,j){if(!(p=i.length))return i;var k=i.map(function(a,c){return b.call(h,a,c)});var l=k.map(function(a){return a.map(function(a,b){return[f.call(h,a,b),g.call(h,a,b)]})});var m=c.call(h,l,j);k=a.permute(k,m);l=a.permute(l,m);var n=d.call(h,l,j);
var o=k[0].length,p,q,r,s;for(r=0;r<o;++r){e.call(h,k[0][r],s=n[r],l[0][r][1]);for(q=1;q<p;++q){e.call(h,k[q][r],s+=l[q-1][r][1],l[q][r][1])}}return i}h.values=function(a){if(!arguments.length)return b;b=a;return h};h.order=function(a){if(!arguments.length)return c;c=typeof a==="function"?a:yh.get(a)||Ah;return h};h.offset=function(a){if(!arguments.length)return d;d=typeof a==="function"?a:zh.get(a)||Bh;return h};h.x=function(a){if(!arguments.length)return f;f=a;return h};h.y=function(a){if(!arguments.length)return g;g=a;return h};h.out=function(a){if(!arguments.length)return e;e=a;return h};return h};function vh(a){return a.x}function wh(a){return a.y}function xh(a,b,c){a.y0=b;a.y=c}var yh=a.map({"inside-out":function(b){var c=b.length,d,e,f=b.map(Ch),g=b.map(Dh),h=a.range(c).sort(function(a,b){return f[a]-f[b]}),i=0,j=0,k=[],l=[];for(d=0;d<c;++d){e=h[d];if(i<j){i+=g[e];k.push(e)}else{j+=g[e];l.push(e)}}return l.reverse().concat(k)},reverse:function(b){return a.range(b.length).reverse()},"default":Ah});var zh=a.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,i=[];for(g=0;g<c;++g){for(f=0,h=0;f<b;f++)h+=a[f][g][1];if(h>e)e=h;d.push(h)}for(g=0;g<c;++g){i[g]=(e-d[g])/2}return i},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e,f,g,h,i,j,k,l,m,n=[];n[0]=l=m=0;for(f=1;f<d;++f){for(e=0,h=0;e<b;++e)h+=a[e][f][1];for(e=0,i=0,k=c[f][0]-c[f-1][0];e<b;++e){for(g=0,j=(a[e][f][1]-a[e][f-1][1])/(2*k);g<e;++g){j+=(a[g][f][1]-a[g][f-1][1])/k}i+=j*a[e][f][1]}n[f]=l-=h?i/h*k:0;if(l<m)m=l}for(f=0;f<d;++f)n[f]-=m;return n},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(e=0,g=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:Bh});function Ah(b){return a.range(b.length)}function Bh(a){var b=-1,c=a[0].length,d=[];while(++b<c)d[b]=0;return d}function Ch(a){var b=1,c=0,d=a[0][1],e,f=a.length;for(;b<f;++b){if((e=a[b][1])>d){c=b;d=e}}return c}function Dh(a){return a.reduce(Eh,0)}function Eh(a,b){return a+b[1]}a.layout.histogram=function(){var b=true,c=Number,d=Hh,e=Fh;function f(f,g){var h=[],i=f.map(c,this),j=d.call(this,i,g),k=e.call(this,j,i,g),l,g=-1,m=i.length,n=k.length-1,o=b?1:1/m,p;while(++g<n){l=h[g]=[];l.dx=k[g+1]-(l.x=k[g]);l.y=0}if(n>0){g=-1;while(++g<m){p=i[g];if(p>=j[0]&&p<=j[1]){l=h[a.bisect(k,p,1,n)-1];l.y+=o;l.push(f[g])}}}return h}f.value=function(a){if(!arguments.length)return c;c=a;return f};f.range=function(a){if(!arguments.length)return d;d=zc(a);return f};f.bins=function(a){if(!arguments.length)return e;e=typeof a==="number"?function(b){return Gh(b,a)}:zc(a);return f};f.frequency=function(a){if(!arguments.length)return b;b=!!a;return f};return f};function Fh(a,b){return Gh(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Gh(a,b){var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];while(++c<=b)f[c]=e*c+d;return f}function Hh(b){return[a.min(b),a.max(b)]}a.layout.pack=function(){var b=a.layout.hierarchy().sort(Ih),c=0,d=[1,1],e;function f(a,f){var g=b.call(this,a,f),h=g[0],i=d[0],j=d[1],k=e==null?Math.sqrt:typeof e==="function"?e:function(){return e};h.x=h.y=0;ph(h,function(a){a.r=+k(a.value)});ph(h,Mh);if(c){var l=c*(e?1:Math.max(2*h.r/i,2*h.r/j))/2;ph(h,function(a){a.r+=l});ph(h,Mh);ph(h,function(a){a.r-=l})}Ph(h,i/2,j/2,e?1:1/Math.max(2*h.r/i,2*h.r/j));return g}f.size=function(a){if(!arguments.length)return d;d=a;return f};f.radius=function(a){if(!arguments.length)return e;e=a==null||typeof a==="function"?a:+a;return f};f.padding=function(a){if(!arguments.length)return c;c=+a;return f};return nh(f,b)};function Ih(a,b){return a.value-b.value}function Jh(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function Kh(a,b){a._pack_next=b;b._pack_prev=a}function Lh(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function Mh(a){if(!(b=a.children)||!(m=b.length))return;var b,c=Infinity,d=-Infinity,e=Infinity,f=-Infinity,g,h,i,j,k,l,m;function n(a){c=Math.min(a.x-a.r,c);d=Math.max(a.x+a.r,d);e=Math.min(a.y-a.r,e);f=Math.max(a.y+a.r,f)}b.forEach(Nh);g=b[0];g.x=-g.r;g.y=0;n(g);if(m>1){h=b[1];h.x=h.r;h.y=0;n(h);if(m>2){i=b[2];Qh(g,h,i);n(i);Jh(g,i);g._pack_prev=i;Jh(i,h);h=g._pack_next;for(j=3;j<m;j++){Qh(g,h,i=b[j]);var o=0,p=1,q=1;for(k=h._pack_next;k!==h;k=k._pack_next,p++){if(Lh(k,i)){o=1;break}}if(o==1){for(l=g._pack_prev;l!==k._pack_prev;l=l._pack_prev,q++){if(Lh(l,i)){break}}}if(o){if(p<q||p==q&&h.r<g.r)Kh(g,h=k);else Kh(g=l,h);j--}else{Jh(g,i);h=i;n(i)}}}}var r=(c+d)/2,s=(e+f)/2,t=0;for(j=0;j<m;j++){i=b[j];i.x-=r;i.y-=s;t=Math.max(t,i.r+Math.sqrt(i.x*i.x+i.y*i.y))}a.r=t;b.forEach(Oh)}function Nh(a){a._pack_next=a._pack_prev=a}function Oh(a){delete a._pack_next;delete a._pack_prev}function Ph(a,b,c,d){var e=a.children;a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=d;if(e){var f=-1,g=e.length;while(++f<g)Ph(e[f],b,c,d)}}function Qh(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g;d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f;c.y=a.y+i*f-j*e}else{c.x=a.x+d;c.y=a.y}}a.layout.tree=function(){var b=a.layout.hierarchy().sort(null).value(null),c=Rh,d=[1,1],e=null;function f(a,f){var j=b.call(this,a,f),l=j[0],m=g(l);ph(m,h),m.parent.m=-m.z;oh(m,i);if(e)oh(l,k);else{var n=l,o=l,p=l;oh(l,function(a){if(a.x<n.x)n=a;if(a.x>o.x)o=a;if(a.depth>p.depth)p=a});var q=c(n,o)/2-n.x,r=d[0]/(o.x+c(o,n)/2+q),s=d[1]/(p.depth||1);oh(l,function(a){a.x=(a.x+q)*r;a.y=a.depth*s})}return j}function g(a){var b={A:null,children:[a]},c=[b],d;while((d=c.pop())!=null){for(var e=d.children,f,g=0,h=e.length;g<h;++g){c.push((e[g]=f={_:e[g],parent:d,children:(f=e[g].children)&&f.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=f)}}return b.children[0]}function h(a){var b=a.children,d=a.parent.children,e=a.i?d[a.i-1]:null;if(b.length){Vh(a);var f=(b[0].z+b[b.length-1].z)/2;if(e){a.z=e.z+c(a._,e._);a.m=a.z-f}else{a.z=f}}else if(e){a.z=e.z+c(a._,e._)}a.parent.A=j(a,e,a.parent.A||d[0])}function i(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function j(a,b,d){if(b){var e=a,f=a,g=b,h=e.parent.children[0],i=e.m,j=f.m,k=g.m,l=h.m,m;while(g=Th(g),e=Sh(e),g&&e){h=Sh(h);f=Th(f);f.a=a;m=g.z+k-e.z-i+c(g._,e._);if(m>0){Uh(Wh(g,a,d),a,m);i+=m;j+=m}k+=g.m;i+=e.m;l+=h.m;j+=f.m}if(g&&!Th(f)){f.t=g;f.m+=k-j}if(e&&!Sh(h)){h.t=e;h.m+=i-l;d=a}}return d}function k(a){a.x*=d[0];a.y=a.depth*d[1]}f.separation=function(a){if(!arguments.length)return c;c=a;return f};f.size=function(a){if(!arguments.length)return e?null:d;e=(d=a)==null?k:null;return f};f.nodeSize=function(a){if(!arguments.length)return e?d:null;e=(d=a)==null?null:k;return f};return nh(f,b)};function Rh(a,b){return a.parent==b.parent?1:2}function Sh(a){var b=a.children;return b.length?b[0]:a.t}function Th(a){var b=a.children,c;return(c=b.length)?b[c-1]:a.t}function Uh(a,b,c){var d=c/(b.i-a.i);b.c-=d;b.s+=c;a.c+=d;b.z+=c;b.m+=c}function Vh(a){var b=0,c=0,d=a.children,e=d.length,f;while(--e>=0){f=d[e];f.z+=b;f.m+=b;b+=f.s+(c+=f.c)}}function Wh(a,b,c){return a.a.parent===b.parent?a.a:c}a.layout.cluster=function(){var b=a.layout.hierarchy().sort(null).value(null),c=Rh,d=[1,1],e=false;function f(a,f){var g=b.call(this,a,f),h=g[0],i,j=0;ph(h,function(a){var b=a.children;if(b&&b.length){a.x=Yh(b);a.y=Xh(b)}else{a.x=i?j+=c(a,i):0;a.y=0;i=a}});var k=Zh(h),l=$h(h),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;ph(h,e?function(a){a.x=(a.x-h.x)*d[0];a.y=(h.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0];a.y=(1-(h.y?a.y/h.y:1))*d[1]});return g}f.separation=function(a){if(!arguments.length)return c;c=a;return f};f.size=function(a){if(!arguments.length)return e?null:d;e=(d=a)==null;return f};f.nodeSize=function(a){if(!arguments.length)return e?d:null;e=(d=a)!=null;return f};return nh(f,b)};function Xh(b){return 1+a.max(b,function(a){return a.y})}function Yh(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Zh(a){var b=a.children;return b&&b.length?Zh(b[0]):a}function $h(a){var b=a.children,c;return b&&(c=b.length)?$h(b[c-1]):a}a.layout.treemap=function(){var b=a.layout.hierarchy(),c=Math.round,d=[1,1],e=null,f=_h,g=false,h,i="squarify",j=.5*(1+Math.sqrt(5));function k(a,b){var c=-1,d=a.length,e,f;while(++c<d){f=(e=a[c]).value*(b<0?0:b);e.area=isNaN(f)||f<=0?0:f}}function l(a){var b=a.children;if(b&&b.length){var c=f(a),d=[],e=b.slice(),g,h=Infinity,j,m=i==="slice"?c.dx:i==="dice"?c.dy:i==="slice-dice"?a.depth&1?c.dy:c.dx:Math.min(c.dx,c.dy),p;k(e,c.dx*c.dy/a.value);d.area=0;while((p=e.length)>0){d.push(g=e[p-1]);d.area+=g.area;if(i!=="squarify"||(j=n(d,m))<=h){e.pop();h=j}else{d.area-=d.pop().area;o(d,m,c,false);m=Math.min(c.dx,c.dy);d.length=d.area=0;h=Infinity}}if(d.length){o(d,m,c,true);d.length=d.area=0}b.forEach(l)}}function m(a){var b=a.children;if(b&&b.length){var c=f(a),d=b.slice(),e,g=[];k(d,c.dx*c.dy/a.value);g.area=0;while(e=d.pop()){g.push(e);g.area+=e.area;if(e.z!=null){o(g,e.z?c.dx:c.dy,c,!d.length);g.length=g.area=0}}b.forEach(m)}}function n(a,b){var c=a.area,d,e=0,f=Infinity,g=-1,h=a.length;while(++g<h){if(!(d=a[g].area))continue;if(d<f)f=d;if(d>e)e=d}c*=c;b*=b;return c?Math.max(b*e*j/c,c/(b*f*j)):Infinity}function o(a,b,d,e){var f=-1,g=a.length,h=d.x,i=d.y,j=b?c(a.area/b):0,k;if(b==d.dx){if(e||j>d.dy)j=d.dy;while(++f<g){k=a[f];k.x=h;k.y=i;k.dy=j;h+=k.dx=Math.min(d.x+d.dx-h,j?c(k.area/j):0)}k.z=true;k.dx+=d.x+d.dx-h;d.y+=j;d.dy-=j}else{if(e||j>d.dx)j=d.dx;while(++f<g){k=a[f];k.x=h;k.y=i;k.dx=j;i+=k.dy=Math.min(d.y+d.dy-i,j?c(k.area/j):0)}k.z=false;k.dy+=d.y+d.dy-i;d.x+=j;d.dx-=j}}function p(a){var c=h||b(a),e=c[0];e.x=0;e.y=0;e.dx=d[0];e.dy=d[1];if(h)b.revalue(e);k([e],e.dx*e.dy/e.value);(h?m:l)(e);if(g)h=c;return c}p.size=function(a){if(!arguments.length)return d;d=a;return p};p.padding=function(a){if(!arguments.length)return e;function b(b){var c=a.call(p,b,b.depth);return c==null?_h(b):ai(b,typeof c==="number"?[c,c,c,c]:c)}function c(b){return ai(b,a)}var d;f=(e=a)==null?_h:(d=typeof a)==="function"?b:d==="number"?(a=[a,a,a,a],c):c;return p};p.round=function(a){if(!arguments.length)return c!=Number;c=a?Math.round:Number;return p};p.sticky=function(a){if(!arguments.length)return g;g=a;h=null;return p};p.ratio=function(a){if(!arguments.length)return j;j=a;return p};p.mode=function(a){if(!arguments.length)return i;i=a+"";return p};return nh(p,b)};function _h(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function ai(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];if(e<0){c+=e/2;e=0}if(f<0){d+=f/2;f=0}return{x:c,y:d,dx:e,dy:f}}a.random={normal:function(a,b){var c=arguments.length;if(c<2)b=1;if(c<1)a=0;return function(){var c,d,e;do{c=Math.random()*2-1;d=Math.random()*2-1;e=c*c+d*d}while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var b=a.random.normal.apply(a,arguments);return function(){return Math.exp(b())}},bates:function(b){var c=a.random.irwinHall(b);return function(){return c()/b}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}};a.scale={};function bi(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function ci(a){return a.rangeExtent?a.rangeExtent():bi(a.range())}function di(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function ei(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;if(f<e){g=c,c=d,d=g;g=e,e=f,f=g}a[c]=b.floor(e);a[d]=b.ceil(f);return a}function fi(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:gi}var gi={floor:Ac,ceil:Ac};function hi(b,c,d,e){var f=[],g=[],h=0,i=Math.min(b.length,c.length)-1;if(b[i]<b[0]){b=b.slice().reverse();c=c.slice().reverse()}while(++h<=i){f.push(d(b[h-1],b[h]));g.push(e(c[h-1],c[h]))}return function(c){var d=a.bisect(b,c,1,i)-1;return g[d](f[d](c))}}a.scale.linear=function(){return ii([0,1],[0,1],Ag,false)};function ii(a,b,c,d){var e,f;function g(){var g=Math.min(a.length,b.length)>2?hi:di,i=d?bh:ah;e=g(a,b,i,c);f=g(b,a,i,Ag);return h}function h(a){return e(a)}h.invert=function(a){return f(a)};h.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return g()};h.range=function(a){if(!arguments.length)return b;b=a;return g()};h.rangeRound=function(a){return h.range(a).interpolate(Vg)};h.clamp=function(a){if(!arguments.length)return d;d=a;return g()};h.interpolate=function(a){if(!arguments.length)return c;c=a;return g()};h.ticks=function(b){return mi(a,b)};h.tickFormat=function(b,c){return ni(a,b,c)};h.nice=function(b){ki(a,b);return g()};h.copy=function(){return ii(a,b,c,d)};return g()}function ji(b,c){return a.rebind(b,c,"range","rangeRound","interpolate","clamp")}function ki(a,b){return ei(a,fi(li(a,b)[2]))}function li(a,b){if(b==null)b=10;var c=bi(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;if(f<=.15)e*=10;else if(f<=.35)e*=5;else if(f<=.75)e*=2;c[0]=Math.ceil(c[0]/e)*e;c[1]=Math.floor(c[1]/e)*e+e*.5;c[2]=e;return c}function mi(b,c){return a.range.apply(a,li(b,c))}function ni(b,c,d){var e=li(b,c);if(d){var f=Sc.exec(d);f.shift();if(f[8]==="s"){var g=a.formatPrefix(Math.max(t(e[0]),t(e[1])));if(!f[7])f[7]="."+pi(g.scale(e[2]));f[8]="f";d=a.format(f.join(""));return function(a){return d(g.scale(a))+g.symbol}}if(!f[7])f[7]="."+qi(f[8],e);d=f.join("")}else{d=",."+pi(e[2])+"f"}return a.format(d)}var oi={s:1,g:1,p:1,r:1,e:1};function pi(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function qi(a,b){var c=pi(b[2]);return a in oi?Math.abs(c-pi(Math.max(t(b[0]),t(b[1]))))+ +(a!=="e"):c-(a==="%")*2}a.scale.log=function(){return ri(a.scale.linear().domain([0,1]),10,true,[1,10])};function ri(b,c,d,e){function f(a){return(d?Math.log(a<0?0:a):-Math.log(a>0?0:-a))/Math.log(c)}function g(a){return d?Math.pow(c,a):-Math.pow(c,-a)}function h(a){return b(f(a))}h.invert=function(a){return g(b.invert(a))};h.domain=function(a){if(!arguments.length)return e;d=a[0]>=0;b.domain((e=a.map(Number)).map(f));return h};h.base=function(a){if(!arguments.length)return c;c=+a;b.domain(e.map(f));return h};h.nice=function(){var a=ei(e.map(f),d?Math:ti);b.domain(a);e=a.map(g);return h};h.ticks=function(){var a=bi(e),b=[],h=a[0],i=a[1],j=Math.floor(f(h)),k=Math.ceil(f(i)),l=c%1?2:c;if(isFinite(k-j)){if(d){for(;j<k;j++)for(var m=1;m<l;m++)b.push(g(j)*m);b.push(g(j))}else{b.push(g(j));for(;j++<k;)for(var m=l-1;m>0;m--)b.push(g(j)*m)}for(j=0;b[j]<h;j++){}for(k=b.length;b[k-1]>i;k--){}b=b.slice(j,k)}return b};h.tickFormat=function(b,c){if(!arguments.length)return si;if(arguments.length<2)c=si;else if(typeof c!=="function")c=a.format(c);var e=Math.max(.1,b/h.ticks().length),i=d?(j=1e-12,Math.ceil):(j=-1e-12,Math.floor),j;return function(a){return a/g(i(f(a)+j))<=e?c(a):""}};h.copy=function(){return ri(b.copy(),c,d,e)};return ji(h,b)}var si=a.format(".0e"),ti={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};a.scale.pow=function(){return ui(a.scale.linear(),1,[0,1])};function ui(a,b,c){var d=vi(b),e=vi(1/b);function f(b){return a(d(b))}f.invert=function(b){return e(a.invert(b))};f.domain=function(b){if(!arguments.length)return c;a.domain((c=b.map(Number)).map(d));return f};f.ticks=function(a){return mi(c,a)};f.tickFormat=function(a,b){return ni(c,a,b)};f.nice=function(a){return f.domain(ki(c,a))};f.exponent=function(g){if(!arguments.length)return b;d=vi(b=g);e=vi(1/b);a.domain(c.map(d));return f};f.copy=function(){return ui(a.copy(),b,c)};return ji(f,a)}function vi(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)};a.scale.ordinal=function(){return wi([],{t:"range",a:[[]]})};function wi(b,c){var d,e,f;function g(a){return e[((d.get(a)||(c.t==="range"?d.set(a,b.push(a)):NaN))-1)%e.length]}function h(c,d){return a.range(b.length).map(function(a){return c+d*a})}g.domain=function(a){if(!arguments.length)return b;b=[];d=new w;var e=-1,f=a.length,h;while(++e<f)if(!d.has(h=a[e]))d.set(h,b.push(h));return g[c.t].apply(g,c.a)};g.range=function(a){if(!arguments.length)return e;e=a;f=0;c={t:"range",a:arguments};return g};g.rangePoints=function(a,d){if(arguments.length<2)d=0;var i=a[0],j=a[1],k=(j-i)/(Math.max(1,b.length-1)+d);e=h(b.length<2?(i+j)/2:i+k*d/2,k);f=0;c={t:"rangePoints",a:arguments};return g};g.rangeBands=function(a,d,i){if(arguments.length<2)d=0;if(arguments.length<3)i=d;var j=a[1]<a[0],k=a[j-0],l=a[1-j],m=(l-k)/(b.length-d+2*i);e=h(k+m*i,m);if(j)e.reverse();f=m*(1-d);c={t:"rangeBands",a:arguments};return g};g.rangeRoundBands=function(a,d,i){if(arguments.length<2)d=0;if(arguments.length<3)i=d;var j=a[1]<a[0],k=a[j-0],l=a[1-j],m=Math.floor((l-k)/(b.length-d+2*i)),n=l-k-(b.length-d)*m;e=h(k+Math.round(n/2),m);if(j)e.reverse();f=Math.round(m*(1-d));c={t:"rangeRoundBands",a:arguments};return g};g.rangeBand=function(){return f};g.rangeExtent=function(){return bi(c.a[0])};g.copy=function(){return wi(b,c)};return g.domain(b)}a.scale.category10=function(){return a.scale.ordinal().range(xi)};a.scale.category20=function(){return a.scale.ordinal().range(yi)};a.scale.category20b=function(){return a.scale.ordinal().range(zi)};a.scale.category20c=function(){return a.scale.ordinal().range(Ai)};var xi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(qc);var yi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(qc);var zi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(qc);var Ai=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(qc);a.scale.quantile=function(){return Bi([],[])};function Bi(b,c){var d;function e(){var e=0,g=c.length;d=[];while(++e<g)d[e-1]=a.quantile(b,e/g);return f}function f(b){if(!isNaN(b=+b))return c[a.bisect(d,b)]}f.domain=function(a){if(!arguments.length)return b;b=a.map(o).filter(p).sort(n);return e()};f.range=function(a){if(!arguments.length)return c;c=a;return e()};f.quantiles=function(){return d};f.invertExtent=function(a){a=c.indexOf(a);return a<0?[NaN,NaN]:[a>0?d[a-1]:b[0],a<d.length?d[a]:b[b.length-1]]};f.copy=function(){return Bi(b,c)};return e()}a.scale.quantize=function(){return Ci(0,1,[0,1])};function Ci(a,b,c){var d,e;function f(b){return c[Math.max(0,Math.min(e,Math.floor(d*(b-a))))]}function g(){d=c.length/(b-a);e=c.length-1;return f}f.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=+c[c.length-1];return g()};f.range=function(a){if(!arguments.length)return c;c=a;return g()};f.invertExtent=function(b){b=c.indexOf(b);b=b<0?NaN:b/d+a;return[b,b+1/d]};f.copy=function(){return Ci(a,b,c)};return g()}a.scale.threshold=function(){return Di([.5],[0,1])};function Di(b,c){function d(d){if(d<=d)return c[a.bisect(b,d)]}d.domain=function(a){if(!arguments.length)return b;b=a;return d};d.range=function(a){if(!arguments.length)return c;c=a;return d};d.invertExtent=function(a){a=c.indexOf(a);return[b[a-1],b[a]]};d.copy=function(){return Di(b,c)};return d}a.scale.identity=function(){return Ei([0,1])};function Ei(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};b.ticks=function(b){return mi(a,b)};b.tickFormat=function(b,c){return ni(a,b,c)};b.copy=function(){return Ei(a)};return b}a.svg={};a.svg.arc=function(){var a=Hi,b=Ii,c=Ji,d=Ki;function e(){var e=a.apply(this,arguments),f=b.apply(this,arguments),g=c.apply(this,arguments)+Fi,h=d.apply(this,arguments)+Fi,i=(h<g&&(i=g,g=h,h=i),h-g),j=i<Db?"0":"1",k=Math.cos(g),l=Math.sin(g),m=Math.cos(h),n=Math.sin(h);return i>=Gi?e?"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+-f+"A"+f+","+f+" 0 1,1 0,"+f+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+-f+"A"+f+","+f+" 0 1,1 0,"+f+"Z":e?"M"+f*k+","+f*l+"A"+f+","+f+" 0 "+j+",1 "+f*m+","+f*n+"L"+e*m+","+e*n+"A"+e+","+e+" 0 "+j+",0 "+e*k+","+e*l+"Z":"M"+f*k+","+f*l+"A"+f+","+f+" 0 "+j+",1 "+f*m+","+f*n+"L0,0"+"Z"}e.innerRadius=function(b){if(!arguments.length)return a;a=zc(b);return e};e.outerRadius=function(a){if(!arguments.length)return b;b=zc(a);return e};e.startAngle=function(a){if(!arguments.length)return c;c=zc(a);return e};e.endAngle=function(a){if(!arguments.length)return d;d=zc(a);return e};e.centroid=function(){var e=(a.apply(this,arguments)+b.apply(this,arguments))/2,f=(c.apply(this,arguments)+d.apply(this,arguments))/2+Fi;return[Math.cos(f)*e,Math.sin(f)*e]};return e};var Fi=-Fb,Gi=Eb-Gb;function Hi(a){return a.innerRadius}function Ii(a){return a.outerRadius}function Ji(a){return a.startAngle}function Ki(a){return a.endAngle}function Li(a){var b=Af,c=Bf,d=he,e=Ni,f=e.key,g=.7;function h(f){var h=[],i=[],j=-1,k=f.length,l,m=zc(b),n=zc(c);function o(){h.push("M",e(a(i),g))}while(++j<k){if(d.call(this,l=f[j],j)){i.push([+m.call(this,l,j),+n.call(this,l,j)])}else if(i.length){o();i=[]}}if(i.length)o();return h.length?h.join(""):null}h.x=function(a){if(!arguments.length)return b;b=a;return h};h.y=function(a){if(!arguments.length)return c;c=a;return h};h.defined=function(a){if(!arguments.length)return d;d=a;return h};h.interpolate=function(a){if(!arguments.length)return f;if(typeof a==="function")f=e=a;else f=(e=Mi.get(a)||Ni).key;return h};h.tension=function(a){if(!arguments.length)return g;g=a;return h};return h}a.svg.line=function(){return Li(Ac)};var Mi=a.map({linear:Ni,"linear-closed":Oi,step:Pi,"step-before":Qi,"step-after":Ri,basis:Xi,"basis-open":Yi,"basis-closed":Zi,bundle:$i,cardinal:Ui,"cardinal-open":Si,"cardinal-closed":Ti,monotone:hj});Mi.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});function Ni(a){return a.join("L")}function Oi(a){return Ni(a)+"Z"}function Pi(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);if(c>1)e.push("H",d[0]);return e.join("")}function Qi(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Ri(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Si(a,b){return a.length<4?Ni(a):a[1]+Vi(a.slice(1,a.length-1),Wi(a,b))}function Ti(a,b){return a.length<3?Ni(a):a[0]+Vi((a.push(a[0]),a),Wi([a[a.length-2]].concat(a,[a[1]]),b))}function Ui(a,b){return a.length<3?Ni(a):a[0]+Vi(a,Wi(a,b))}function Vi(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2){return Ni(a)}var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c){d+="Q"+(f[0]-g[0]*2/3)+","+(f[1]-g[1]*2/3)+","+f[0]+","+f[1];e=a[1];i=2}if(b.length>1){h=b[1];f=a[i];i++;d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++){f=a[i];h=b[j];d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}}if(c){var k=a[i];d+="Q"+(f[0]+h[0]*2/3)+","+(f[1]+h[1]*2/3)+","+k[0]+","+k[1]}return d}function Wi(a,b){var c=[],d=(1-b)/2,e,f=a[0],g=a[1],h=1,i=a.length;while(++h<i){e=f;f=g;g=a[h];c.push([d*(g[0]-e[0]),d*(g[1]-e[1])])}return c}function Xi(a){if(a.length<3)return Ni(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",_i(cj,g),",",_i(cj,h)];a.push(a[c-1]);while(++b<=c){d=a[b];g.shift();g.push(d[0]);h.shift();h.push(d[1]);dj(i,g,h)}a.pop();i.push("L",d);return i.join("")}function Yi(a){if(a.length<4)return Ni(a);var b=[],c=-1,d=a.length,e,f=[0],g=[0];while(++c<3){e=a[c];f.push(e[0]);g.push(e[1])}b.push(_i(cj,f)+","+_i(cj,g));--c;while(++c<d){e=a[c];f.shift();f.push(e[0]);g.shift();g.push(e[1]);dj(b,f,g)}return b.join("")}function Zi(a){var b,c=-1,d=a.length,e=d+4,f,g=[],h=[];while(++c<4){f=a[c%d];g.push(f[0]);h.push(f[1])}b=[_i(cj,g),",",_i(cj,h)];--c;while(++c<e){f=a[c%d];g.shift();g.push(f[0]);h.shift();h.push(f[1]);dj(b,g,h)}return b.join("")}function $i(a,b){var c=a.length-1;if(c){var d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1,i,j;while(++h<=c){i=a[h];j=h/c;i[0]=b*i[0]+(1-b)*(d+j*f);i[1]=b*i[1]+(1-b)*(e+j*g)}}return Xi(a)}function _i(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}var aj=[0,2/3,1/3,0],bj=[0,1/3,2/3,0],cj=[0,1/6,2/3,1/6];function dj(a,b,c){a.push("C",_i(aj,b),",",_i(aj,c),",",_i(bj,b),",",_i(bj,c),",",_i(cj,b),",",_i(cj,c))}function ej(a,b){return(b[1]-a[1])/(b[0]-a[0])}function fj(a){var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=ej(e,f);while(++b<c){d[b]=(g+(g=ej(e=f,f=a[b+1])))/2}d[b]=g;return d}function gj(a){var b=[],c,d,e,f,g=fj(a),h=-1,i=a.length-1;while(++h<i){c=ej(a[h],a[h+1]);if(t(c)<Gb){g[h]=g[h+1]=0}else{d=g[h]/c;e=g[h+1]/c;f=d*d+e*e;if(f>9){f=c*3/Math.sqrt(f);g[h]=f*d;g[h+1]=f*e}}}h=-1;while(++h<=i){f=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h]));b.push([f||0,g[h]*f||0])}return b}function hj(a){return a.length<3?Ni(a):a[0]+Vi(a,gj(a))}a.svg.line.radial=function(){var a=Li(ij);a.radius=a.x,delete a.x;a.angle=a.y,delete a.y;return a};function ij(a){var b,c=-1,d=a.length,e,f;while(++c<d){b=a[c];e=b[0];f=b[1]+Fi;b[0]=e*Math.cos(f);b[1]=e*Math.sin(f)}return a}function jj(a){var b=Af,c=Af,d=0,e=Bf,f=he,g=Ni,h=g.key,i=g,j="L",k=.7;function l(h){var l=[],m=[],n=[],o=-1,p=h.length,q,r=zc(b),s=zc(d),t=b===c?function(){return v}:zc(c),u=d===e?function(){return w}:zc(e),v,w;function x(){l.push("M",g(a(n),k),j,i(a(m.reverse()),k),"Z")}while(++o<p){if(f.call(this,q=h[o],o)){m.push([v=+r.call(this,q,o),w=+s.call(this,q,o)]);n.push([+t.call(this,q,o),+u.call(this,q,o)])}else if(m.length){x();m=[];n=[]}}if(m.length)x();return l.length?l.join(""):null}l.x=function(a){if(!arguments.length)return c;b=c=a;return l};l.x0=function(a){if(!arguments.length)return b;b=a;return l};l.x1=function(a){if(!arguments.length)return c;c=a;return l};l.y=function(a){if(!arguments.length)return e;d=e=a;return l};l.y0=function(a){if(!arguments.length)return d;d=a;return l};l.y1=function(a){if(!arguments.length)return e;e=a;return l};l.defined=function(a){if(!arguments.length)return f;f=a;return l};l.interpolate=function(a){if(!arguments.length)return h;if(typeof a==="function")h=g=a;else h=(g=Mi.get(a)||Ni).key;i=g.reverse||g;j=g.closed?"M":"L";return l};l.tension=function(a){if(!arguments.length)return k;k=a;return l};return l}Qi.reverse=Ri;Ri.reverse=Qi;a.svg.area=function(){return jj(Ac)};a.svg.area.radial=function(){var a=jj(ij);a.radius=a.x,delete a.x;a.innerRadius=a.x0,delete a.x0;a.outerRadius=a.x1,delete a.x1;a.angle=a.y,delete a.y;a.startAngle=a.y0,delete a.y0;a.endAngle=a.y1,delete a.y1;return a};a.svg.chord=function(){var a=jf,b=kf,c=kj,d=Ji,e=Ki;function f(c,d){var e=g(this,a,c,d),f=g(this,b,c,d);return"M"+e.p0+i(e.r,e.p1,e.a1-e.a0)+(h(e,f)?j(e.r,e.p1,e.r,e.p0):j(e.r,e.p1,f.r,f.p0)+i(f.r,f.p1,f.a1-f.a0)+j(f.r,f.p1,e.r,e.p0))+"Z"}function g(a,b,f,g){var h=b.call(a,f,g),i=c.call(a,h,g),j=d.call(a,h,g)+Fi,k=e.call(a,h,g)+Fi;return{r:i,a0:j,a1:k,p0:[i*Math.cos(j),i*Math.sin(j)],p1:[i*Math.cos(k),i*Math.sin(k)]}}function h(a,b){return a.a0==b.a0&&a.a1==b.a1}function i(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Db)+",1 "+b}function j(a,b,c,d){return"Q 0,0 "+d}f.radius=function(a){if(!arguments.length)return c;c=zc(a);return f};f.source=function(b){if(!arguments.length)return a;a=zc(b);return f};f.target=function(a){if(!arguments.length)return b;b=zc(a);return f};f.startAngle=function(a){if(!arguments.length)return d;d=zc(a);return f};f.endAngle=function(a){if(!arguments.length)return e;e=zc(a);return f};return f};function kj(a){return a.radius}a.svg.diagonal=function(){var a=jf,b=kf,c=lj;function d(d,e){var f=a.call(this,d,e),g=b.call(this,d,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];i=i.map(c);return"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}d.source=function(b){if(!arguments.length)return a;a=zc(b);return d};d.target=function(a){if(!arguments.length)return b;b=zc(a);return d};d.projection=function(a){if(!arguments.length)return c;c=a;return d};return d};function lj(a){return[a.x,a.y]}a.svg.diagonal.radial=function(){var b=a.svg.diagonal(),c=lj,d=b.projection;b.projection=function(a){return arguments.length?d(mj(c=a)):c};return b};function mj(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]+Fi;return[c*Math.cos(d),c*Math.sin(d)]}}a.svg.symbol=function(){var a=oj,b=nj;function c(c,d){return(qj.get(a.call(this,c,d))||pj)(b.call(this,c,d))}c.type=function(b){if(!arguments.length)return a;a=zc(b);return c};c.size=function(a){if(!arguments.length)return b;b=zc(a);return c};return c};function nj(){return 64}function oj(){return"circle"}function pj(a){var b=Math.sqrt(a/Db);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}var qj=a.map({circle:pj,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*sj)),c=b*sj;return"M0,"+-b+"L"+c+",0"+" 0,"+b+" "+-c+",0"+"Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/rj),c=b*rj/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/rj),c=b*rj/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});a.svg.symbolTypes=qj.keys();var rj=Math.sqrt(3),sj=Math.tan(30*Ib);function tj(a,b){R(a,uj);a.id=b;return a}var uj=[],vj=0,wj,xj;uj.call=X.call;uj.empty=X.empty;uj.node=X.node;uj.size=X.size;a.transition=function(a){return arguments.length?wj?a.transition():a:qb.transition()};a.transition.prototype=uj;uj.select=function(a){var b=this.id,c=[],d,e,f;a=Y(a);for(var g=-1,h=this.length;++g<h;){c.push(d=[]);for(var i=this[g],j=-1,k=i.length;++j<k;){if((f=i[j])&&(e=a.call(f,f.__data__,j,g))){if("__data__"in f)e.__data__=f.__data__;Aj(e,j,b,f.__transition__[b]);d.push(e)}else{d.push(null)}}}return tj(c,b)};uj.selectAll=function(a){var b=this.id,c=[],d,e,f,g,h;a=Z(a);for(var i=-1,j=this.length;++i<j;){for(var k=this[i],l=-1,m=k.length;++l<m;){if(f=k[l]){h=f.__transition__[b];e=a.call(f,f.__data__,l,i);c.push(d=[]);for(var n=-1,o=e.length;++n<o;){if(g=e[n])Aj(g,n,b,h);d.push(g)}}}}return tj(c,b)};uj.filter=function(a){var b=[],c,d,e;if(typeof a!=="function")a=jb(a);for(var f=0,g=this.length;f<g;f++){b.push(c=[]);for(var d=this[f],h=0,i=d.length;h<i;h++){if((e=d[h])&&a.call(e,e.__data__,h,f)){c.push(e)}}}return tj(b,this.id)};uj.tween=function(a,b){var c=this.id;if(arguments.length<2)return this.node().__transition__[c].tween.get(a);return lb(this,b==null?function(b){b.__transition__[c].tween.remove(a)}:function(d){d.__transition__[c].tween.set(a,b)})};function yj(a,b,c,d){var e=a.id;return lb(a,typeof c==="function"?function(a,f,g){a.__transition__[e].tween.set(b,d(c.call(a,a.__data__,f,g)))}:(c=d(c),function(a){a.__transition__[e].tween.set(b,c)}))}uj.attr=function(b,c){if(arguments.length<2){for(c in b)this.attr(c,b[c]);return this}var d=b=="transform"?_g:Ag,e=a.ns.qualify(b);function f(){this.removeAttribute(e)}function g(){this.removeAttributeNS(e.space,e.local)}function h(a){return a==null?f:(a+="",function(){var b=this.getAttribute(e),c;return b!==a&&(c=d(b,a),function(a){this.setAttribute(e,c(a))})})}function i(a){return a==null?g:(a+="",function(){var b=this.getAttributeNS(e.space,e.local),c;return b!==a&&(c=d(b,a),function(a){this.setAttributeNS(e.space,e.local,c(a))})})}return yj(this,"attr."+b,c,e.local?i:h)};uj.attrTween=function(b,c){var d=a.ns.qualify(b);function e(a,b){var e=c.call(this,a,b,this.getAttribute(d));return e&&function(a){this.setAttribute(d,e(a))}}function f(a,b){var e=c.call(this,a,b,this.getAttributeNS(d.space,d.local));return e&&function(a){this.setAttributeNS(d.space,d.local,e(a))}}return this.tween("attr."+b,d.local?f:e)};uj.style=function(a,b,c){var d=arguments.length;if(d<3){if(typeof a!=="string"){if(d<2)b="";for(c in a)this.style(c,a[c],b);return this}c=""}function e(){this.style.removeProperty(a)}function g(b){return b==null?e:(b+="",function(){var d=f.getComputedStyle(this,null).getPropertyValue(a),e;return d!==b&&(e=Ag(d,b),function(b){this.style.setProperty(a,e(b),c)
})})}return yj(this,"style."+a,b,g)};uj.styleTween=function(a,b,c){if(arguments.length<3)c="";function d(d,e){var g=b.call(this,d,e,f.getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),c)}}return this.tween("style."+a,d)};uj.text=function(a){return yj(this,"text",a,zj)};function zj(a){if(a==null)a="";return function(){this.textContent=a}}uj.remove=function(){return this.each("end.transition",function(){var a;if(this.__transition__.count<2&&(a=this.parentNode))a.removeChild(this)})};uj.ease=function(b){var c=this.id;if(arguments.length<1)return this.node().__transition__[c].ease;if(typeof b!=="function")b=a.ease.apply(a,arguments);return lb(this,function(a){a.__transition__[c].ease=b})};uj.delay=function(a){var b=this.id;if(arguments.length<1)return this.node().__transition__[b].delay;return lb(this,typeof a==="function"?function(c,d,e){c.__transition__[b].delay=+a.call(c,c.__data__,d,e)}:(a=+a,function(c){c.__transition__[b].delay=a}))};uj.duration=function(a){var b=this.id;if(arguments.length<1)return this.node().__transition__[b].duration;return lb(this,typeof a==="function"?function(c,d,e){c.__transition__[b].duration=Math.max(1,a.call(c,c.__data__,d,e))}:(a=Math.max(1,a),function(c){c.__transition__[b].duration=a}))};uj.each=function(b,c){var d=this.id;if(arguments.length<2){var e=xj,f=wj;wj=d;lb(this,function(a,c,e){xj=a.__transition__[d];b.call(a,a.__data__,c,e)});xj=e;wj=f}else{lb(this,function(e){var f=e.__transition__[d];(f.event||(f.event=a.dispatch("start","end"))).on(b,c)})}return this};uj.transition=function(){var a=this.id,b=++vj,c=[],d,e,f,g;for(var h=0,i=this.length;h<i;h++){c.push(d=[]);for(var e=this[h],j=0,k=e.length;j<k;j++){if(f=e[j]){g=Object.create(f.__transition__[a]);g.delay+=g.duration;Aj(f,j,b,g)}d.push(f)}}return tj(c,b)};function Aj(b,c,d,e){var f=b.__transition__||(b.__transition__={active:0,count:0}),g=f[d];if(!g){var h=e.time;g=f[d]={tween:new w,time:h,ease:e.ease,delay:e.delay,duration:e.duration};++f.count;a.timer(function(e){var i=b.__data__,j=g.ease,k=g.delay,l=g.duration,m=Jc,n=[];m.t=k+h;if(k<=e)return o(e-k);m.c=o;function o(e){if(f.active>d)return q();f.active=d;g.event&&g.event.start.call(b,i,c);g.tween.forEach(function(a,d){if(d=d.call(b,i,c)){n.push(d)}});a.timer(function(){m.c=p(e||1)?he:p;return 1},0,h)}function p(a){if(f.active!==d)return q();var e=a/l,h=j(e),k=n.length;while(k>0){n[--k].call(b,h)}if(e>=1){g.event&&g.event.end.call(b,i,c);return q()}}function q(){if(--f.count)delete f[d];else delete b.__transition__;return 1}},0,h)}}a.svg.axis=function(){var b=a.scale.linear(),c=Bj,d=6,e=6,f=3,g=[10],h=null,i;function j(j){j.each(function(){var j=a.select(this);var k=this.__chart__||b,l=this.__chart__=b.copy();var m=h==null?l.ticks?l.ticks.apply(l,g):l.domain():h,n=i==null?l.tickFormat?l.tickFormat.apply(l,g):Ac:i,o=j.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Gb),q=a.transition(o.exit()).style("opacity",Gb).remove(),r=a.transition(o.order()).style("opacity",1),s=Math.max(d,0)+f,t;var u=ci(l),v=j.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),a.transition(v));p.append("line");p.append("text");var x=p.select("line"),y=r.select("line"),z=o.select("text").text(n),A=p.select("text"),B=r.select("text"),C=c==="top"||c==="left"?-1:1,D,E,F,G;if(c==="bottom"||c==="top"){t=Dj,D="x",F="y",E="x2",G="y2";z.attr("dy",C<0?"0em":".71em").style("text-anchor","middle");w.attr("d","M"+u[0]+","+C*e+"V0H"+u[1]+"V"+C*e)}else{t=Ej,D="y",F="x",E="y2",G="x2";z.attr("dy",".32em").style("text-anchor",C<0?"end":"start");w.attr("d","M"+C*e+","+u[0]+"H0V"+u[1]+"H"+C*e)}x.attr(G,C*d);A.attr(F,C*s);y.attr(E,0).attr(G,C*d);B.attr(D,0).attr(F,C*s);if(l.rangeBand){var H=l,I=H.rangeBand()/2;k=l=function(a){return H(a)+I}}else if(k.rangeBand){k=l}else{q.call(t,l,k)}p.call(t,k,l);r.call(t,l,l)})}j.scale=function(a){if(!arguments.length)return b;b=a;return j};j.orient=function(a){if(!arguments.length)return c;c=a in Cj?a+"":Bj;return j};j.ticks=function(){if(!arguments.length)return g;g=arguments;return j};j.tickValues=function(a){if(!arguments.length)return h;h=a;return j};j.tickFormat=function(a){if(!arguments.length)return i;i=a;return j};j.tickSize=function(a){var b=arguments.length;if(!b)return d;d=+a;e=+arguments[b-1];return j};j.innerTickSize=function(a){if(!arguments.length)return d;d=+a;return j};j.outerTickSize=function(a){if(!arguments.length)return e;e=+a;return j};j.tickPadding=function(a){if(!arguments.length)return f;f=+a;return j};j.tickSubdivide=function(){return arguments.length&&j};return j};var Bj="bottom",Cj={top:1,right:1,bottom:1,left:1};function Dj(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function Ej(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}a.svg.brush=function(){var b=P(m,"brushstart","brush","brushend"),c=null,d=null,e=[0,0],g=[0,0],h,i,j=true,k=true,l=Gj[0];function m(b){b.each(function(){var b=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",q).on("touchstart.brush",q);var e=b.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");b.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var f=b.selectAll(".resize").data(l,Ac);f.exit().remove();f.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Fj[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");f.style("display",m.empty()?"none":null);var g=a.transition(b),h=a.transition(e),i;if(c){i=ci(c);h.attr("x",i[0]).attr("width",i[1]-i[0]);o(g)}if(d){i=ci(d);h.attr("y",i[0]).attr("height",i[1]-i[0]);p(g)}n(g)})}m.event=function(c){c.each(function(){var c=b.of(this,arguments),d={x:e,y:g,i:h,j:i},f=this.__chart__||d;this.__chart__=d;if(wj){a.select(this).transition().each("start.brush",function(){h=f.i;i=f.j;e=f.x;g=f.y;c({type:"brushstart"})}).tween("brush:brush",function(){var a=Bg(e,d.x),b=Bg(g,d.y);h=i=null;return function(f){e=d.x=a(f);g=d.y=b(f);c({type:"brush",mode:"resize"})}}).each("end.brush",function(){h=d.i;i=d.j;c({type:"brush",mode:"resize"});c({type:"brushend"})})}else{c({type:"brushstart"});c({type:"brush",mode:"resize"});c({type:"brushend"})}})};function n(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+e[+/e$/.test(a)]+","+g[+/^s/.test(a)]+")"})}function o(a){a.select(".extent").attr("x",e[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",e[1]-e[0])}function p(a){a.select(".extent").attr("y",g[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",g[1]-g[0])}function q(){var l=this,q=a.select(a.event.target),r=b.of(l,arguments),s=a.select(l),t=q.datum(),u=!/^(n|s)$/.test(t)&&c,v=!/^(e|w)$/.test(t)&&d,w=q.classed("extent"),x=xb(),y,z=a.mouse(l),A;var B=a.select(f).on("keydown.brush",E).on("keyup.brush",F);if(a.event.changedTouches){B.on("touchmove.brush",G).on("touchend.brush",I)}else{B.on("mousemove.brush",G).on("mouseup.brush",I)}s.interrupt().selectAll("*").interrupt();if(w){z[0]=e[0]-z[0];z[1]=g[0]-z[1]}else if(t){var C=+/w$/.test(t),D=+/^n/.test(t);A=[e[1-C]-z[0],g[1-D]-z[1]];z[0]=e[C];z[1]=g[D]}else if(a.event.altKey)y=z.slice();s.style("pointer-events","none").selectAll(".resize").style("display",null);a.select("body").style("cursor",q.style("cursor"));r({type:"brushstart"});G();function E(){if(a.event.keyCode==32){if(!w){y=null;z[0]-=e[1];z[1]-=g[1];w=2}N()}}function F(){if(a.event.keyCode==32&&w==2){z[0]+=e[1];z[1]+=g[1];w=0;N()}}function G(){var b=a.mouse(l),f=false;if(A){b[0]+=A[0];b[1]+=A[1]}if(!w){if(a.event.altKey){if(!y)y=[(e[0]+e[1])/2,(g[0]+g[1])/2];z[0]=e[+(b[0]<y[0])];z[1]=g[+(b[1]<y[1])]}else y=null}if(u&&H(b,c,0)){o(s);f=true}if(v&&H(b,d,1)){p(s);f=true}if(f){n(s);r({type:"brush",mode:w?"move":"resize"})}}function H(a,b,c){var d=ci(b),f=d[0],l=d[1],m=z[c],n=c?g:e,o=n[1]-n[0],p,q;if(w){f-=m;l-=o+m}p=(c?k:j)?Math.max(f,Math.min(l,a[c])):a[c];if(w){q=(p+=m)+o}else{if(y)m=Math.max(f,Math.min(l,2*y[c]-p));if(m<p){q=p;p=m}else{q=m}}if(n[0]!=p||n[1]!=q){if(c)i=null;else h=null;n[0]=p;n[1]=q;return true}}function I(){G();s.style("pointer-events","all").selectAll(".resize").style("display",m.empty()?"none":null);a.select("body").style("cursor",null);B.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);x();r({type:"brushend"})}}m.x=function(a){if(!arguments.length)return c;c=a;l=Gj[!c<<1|!d];return m};m.y=function(a){if(!arguments.length)return d;d=a;l=Gj[!c<<1|!d];return m};m.clamp=function(a){if(!arguments.length)return c&&d?[j,k]:c?j:d?k:null;if(c&&d)j=!!a[0],k=!!a[1];else if(c)j=!!a;else if(d)k=!!a;return m};m.extent=function(a){var b,f,j,k,l;if(!arguments.length){if(c){if(h){b=h[0],f=h[1]}else{b=e[0],f=e[1];if(c.invert)b=c.invert(b),f=c.invert(f);if(f<b)l=b,b=f,f=l}}if(d){if(i){j=i[0],k=i[1]}else{j=g[0],k=g[1];if(d.invert)j=d.invert(j),k=d.invert(k);if(k<j)l=j,j=k,k=l}}return c&&d?[[b,j],[f,k]]:c?[b,f]:d&&[j,k]}if(c){b=a[0],f=a[1];if(d)b=b[0],f=f[0];h=[b,f];if(c.invert)b=c(b),f=c(f);if(f<b)l=b,b=f,f=l;if(b!=e[0]||f!=e[1])e=[b,f]}if(d){j=a[0],k=a[1];if(c)j=j[1],k=k[1];i=[j,k];if(d.invert)j=d(j),k=d(k);if(k<j)l=j,j=k,k=l;if(j!=g[0]||k!=g[1])g=[j,k]}return m};m.clear=function(){if(!m.empty()){e=[0,0],g=[0,0];h=i=null}return m};m.empty=function(){return!!c&&e[0]==e[1]||!!d&&g[0]==g[1]};return a.rebind(m,b,"on")};var Fj={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var Gj=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var Hj=Vc.format=xd.timeFormat;var Ij=Hj.utc;var Jj=Ij("%Y-%m-%dT%H:%M:%S.%LZ");Hj.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Kj:Jj;function Kj(a){return a.toISOString()}Kj.parse=function(a){var b=new Date(a);return isNaN(b)?null:b};Kj.toString=Jj.toString;Vc.second=Zc(function(a){return new Wc(Math.floor(a/1e3)*1e3)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*1e3)},function(a){return a.getSeconds()});Vc.seconds=Vc.second.range;Vc.seconds.utc=Vc.second.utc.range;Vc.minute=Zc(function(a){return new Wc(Math.floor(a/6e4)*6e4)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*6e4)},function(a){return a.getMinutes()});Vc.minutes=Vc.minute.range;Vc.minutes.utc=Vc.minute.utc.range;Vc.hour=Zc(function(a){var b=a.getTimezoneOffset()/60;return new Wc((Math.floor(a/36e5-b)+b)*36e5)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*36e5)},function(a){return a.getHours()});Vc.hours=Vc.hour.range;Vc.hours.utc=Vc.hour.utc.range;Vc.month=Zc(function(a){a=Vc.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});Vc.months=Vc.month.range;Vc.months.utc=Vc.month.utc.range;function Lj(b,c,d){function e(a){return b(a)}e.invert=function(a){return Mj(b.invert(a))};e.domain=function(a){if(!arguments.length)return b.domain().map(Mj);b.domain(a);return e};function f(b,d){var e=b[1]-b[0],f=e/d,g=a.bisect(Nj,f);return g==Nj.length?[c.year,li(b.map(function(a){return a/31536e6}),d)[2]]:!g?[Qj,li(b,d)[2]]:c[f/Nj[g-1]<Nj[g]/f?g-1:g]}e.nice=function(a,b){var c=e.domain(),d=bi(c),g=a==null?f(d,10):typeof a==="number"&&f(d,a);if(g)a=g[0],b=g[1];function h(c){return!isNaN(c)&&!a.range(c,Mj(+c+1),b).length}return e.domain(ei(c,b>1?{floor:function(b){while(h(b=a.floor(b)))b=Mj(b-1);return b},ceil:function(b){while(h(b=a.ceil(b)))b=Mj(+b+1);return b}}:a))};e.ticks=function(a,b){var c=bi(e.domain()),d=a==null?f(c,10):typeof a==="number"?f(c,a):!a.range&&[{range:a},b];if(d)a=d[0],b=d[1];return a.range(c[0],Mj(+c[1]+1),b<1?1:b)};e.tickFormat=function(){return d};e.copy=function(){return Lj(b.copy(),c,d)};return ji(e,b)}function Mj(a){return new Date(a)}var Nj=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var Oj=[[Vc.second,1],[Vc.second,5],[Vc.second,15],[Vc.second,30],[Vc.minute,1],[Vc.minute,5],[Vc.minute,15],[Vc.minute,30],[Vc.hour,1],[Vc.hour,3],[Vc.hour,6],[Vc.hour,12],[Vc.day,1],[Vc.day,2],[Vc.week,1],[Vc.month,1],[Vc.month,3],[Vc.year,1]];var Pj=Hj.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&a.getDate()!=1}],["%b %d",function(a){return a.getDate()!=1}],["%B",function(a){return a.getMonth()}],["%Y",he]]);var Qj={range:function(b,c,d){return a.range(Math.ceil(b/d)*d,+c,d).map(Mj)},floor:Ac,ceil:Ac};Oj.year=Vc.year;Vc.scale=function(){return Lj(a.scale.linear(),Oj,Pj)};var Rj=Oj.map(function(a){return[a[0].utc,a[1]]});var Sj=Ij.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],["%b %d",function(a){return a.getUTCDate()!=1}],["%B",function(a){return a.getUTCMonth()}],["%Y",he]]);Rj.year=Vc.year.utc;Vc.scale.utc=function(){return Lj(a.scale.linear(),Rj,Sj)};a.text=Bc(function(a){return a.responseText});a.json=function(a,b){return Cc(a,"application/json",Tj,b)};function Tj(a){return JSON.parse(a.responseText)}a.html=function(a,b){return Cc(a,"text/html",Uj,b)};function Uj(a){var b=d.createRange();b.selectNode(d.body);return b.createContextualFragment(a.responseText)}a.xml=Bc(function(a){return a.responseXML});if(typeof define==="function"&&define.amd)define(a);else if(typeof module==="object"&&module.exports)module.exports=a;this.d3=a}();(function(){var a=window.nv||{};a.version="1.1.15b";a.dev=true;window.nv=a;a.tooltip=a.tooltip||{};a.utils=a.utils||{};a.models=a.models||{};a.charts={};a.graphs=[];a.logs={};a.dispatch=d3.dispatch("render_start","render_end");if(a.dev){a.dispatch.on("render_start",function(b){a.logs.startTime=+new Date});a.dispatch.on("render_end",function(b){a.logs.endTime=+new Date;a.logs.totalTime=a.logs.endTime-a.logs.startTime;a.log("total",a.logs.totalTime)})}a.log=function(){if(a.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(a.dev&&typeof console.log=="function"&&Function.prototype.bind){var b=Function.prototype.bind.call(console.log,console);b.apply(console,arguments)}return arguments[arguments.length-1]};a.render=function e(b){b=b||1;a.render.active=true;a.dispatch.render_start();setTimeout(function(){var c,d;for(var e=0;e<b&&(d=a.render.queue[e]);e++){c=d.generate();if(typeof d.callback==typeof Function)d.callback(c);a.graphs.push(c)}a.render.queue.splice(0,e);if(a.render.queue.length)setTimeout(arguments.callee,0);else{a.dispatch.render_end();a.render.active=false}},0)};a.render.active=false;a.render.queue=[];a.addGraph=function(b){if(typeof arguments[0]===typeof Function)b={generate:arguments[0],callback:arguments[1]};a.render.queue.push(b);if(!a.render.active)a.render()};a.identity=function(a){return a};a.strip=function(a){return a.replace(/(\s|&)/g,"")};function b(a,b){return new Date(b,a+1,0).getDate()}function c(a,b,c){return function(d,e,f){var g=a(d),h=[];if(g<d)b(g);if(f>1){while(g<e){var i=new Date(+g);if(c(i)%f===0)h.push(i);b(g)}}else{while(g<e){h.push(new Date(+g));b(g)}}return h}}d3.time.monthEnd=function(a){return new Date(a.getFullYear(),a.getMonth(),0)};d3.time.monthEnds=c(d3.time.monthEnd,function(a){a.setUTCDate(a.getUTCDate()+1);a.setDate(b(a.getMonth()+1,a.getFullYear()))},function(a){return a.getMonth()});a.interactiveGuideline=function(){"use strict";var b=a.models.tooltip();var c=null,d=null,e={left:0,top:0},f=d3.scale.linear(),g=d3.scale.linear(),h=d3.dispatch("elementMousemove","elementMouseout","elementDblclick"),i=true,j=null;var k=navigator.userAgent.indexOf("MSIE")!==-1;function l(g){g.each(function(g){var m=d3.select(this);var n=c||960,o=d||400;var p=m.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([g]);var q=p.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");q.append("g").attr("class","nv-interactiveGuideLine");if(!j){return}function r(){var a=d3.mouse(this);var c=a[0];var d=a[1];var g=true;var i=false;if(k){c=d3.event.offsetX;d=d3.event.offsetY;if(d3.event.target.tagName!=="svg")g=false;if(d3.event.target.className.baseVal.match("nv-legend"))i=true}if(g){c-=e.left;d-=e.top}if(c<0||d<0||c>n||d>o||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined||i){if(k){if(d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined&&d3.event.relatedTarget.className.match(b.nvPointerEventsClass)){return}}h.elementMouseout({mouseX:c,mouseY:d});l.renderGuideLine(null);return}var j=f.invert(c);h.elementMousemove({mouseX:c,mouseY:d,pointXValue:j});if(d3.event.type==="dblclick"){h.elementDblclick({mouseX:c,mouseY:d,pointXValue:j})}}j.on("mousemove",r,true).on("mouseout",r,true).on("dblclick",r);l.renderGuideLine=function(b){if(!i)return;var c=p.select(".nv-interactiveGuideLine").selectAll("line").data(b!=null?[a.utils.NaNtoZero(b)]:[],String);c.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",o).attr("y2",0);c.exit().remove()}})}l.dispatch=h;l.tooltip=b;l.margin=function(a){if(!arguments.length)return e;e.top=typeof a.top!="undefined"?a.top:e.top;e.left=typeof a.left!="undefined"?a.left:e.left;return l};l.width=function(a){if(!arguments.length)return c;c=a;return l};l.height=function(a){if(!arguments.length)return d;d=a;return l};l.xScale=function(a){if(!arguments.length)return f;f=a;return l};l.showGuideLine=function(a){if(!arguments.length)return i;i=a;return l};l.svgContainer=function(a){if(!arguments.length)return j;j=a;return l};return l};a.interactiveBisect=function(a,b,c){"use strict";if(!a instanceof Array)return null;if(typeof c!=="function")c=function(a,b){return a.x};var d=d3.bisector(c).left;var e=d3.max([0,d(a,b)-1]);var f=c(a[e],e);if(typeof f==="undefined")f=e;if(f===b)return e;var g=d3.min([e+1,a.length-1]);var h=c(a[g],g);if(typeof h==="undefined")h=g;if(Math.abs(h-b)>=Math.abs(f-b))return e;else return g};a.nearestValueIndex=function(a,b,c){"use strict";var d=Infinity,e=null;a.forEach(function(a,f){var g=Math.abs(b-a);if(g<=d&&g<c){d=g;e=f}});return e};(function(){"use strict";window.nv.tooltip={};window.nv.models.tooltip=function(){var b=null,c=null,d="w",e=50,f=25,g=null,h=null,i=null,j=null,k={left:null,top:null},l=true,m="nvtooltip-"+Math.floor(Math.random()*1e5);var n="nv-pointer-events-none";var o=function(a,b){return a};var p=function(a){return a};var q=function(a){if(b!=null)return b;if(a==null)return"";var c=d3.select(document.createElement("table"));var d=c.selectAll("thead").data([a]).enter().append("thead");d.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",true).html(p(a.value));var e=c.selectAll("tbody").data([a]).enter().append("tbody");var f=e.selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});f.append("td").classed("legend-color-guide",true).append("div").style("background-color",function(a){return a.color});f.append("td").classed("key",true).html(function(a){return a.key});f.append("td").classed("value",true).html(function(a,b){return o(a.value,b)});f.selectAll("td").each(function(a){if(a.highlight){var b=d3.scale.linear().domain([0,1]).range(["#fff",a.color]);var c=.6;d3.select(this).style("border-bottom-color",b(c)).style("border-top-color",b(c))}});var g=c.node().outerHTML;if(a.footer!==undefined)g+="<div class='footer'>"+a.footer+"</div>";return g};var r=function(a){if(a&&a.series&&a.series.length>0)return true;return false};function s(){if(i){var a=d3.select(i);if(a.node().tagName!=="svg"){a=a.select("svg")}var b=a.node()?a.attr("viewBox"):null;if(b){b=b.split(" ");var c=parseInt(a.style("width"))/b[2];k.left=k.left*c;k.top=k.top*c}}}function t(a){var b;if(i)b=d3.select(i);else b=d3.select("body");var c=b.select(".nvtooltip");if(c.node()===null){c=b.append("div").attr("class","nvtooltip "+(h?h:"xy-tooltip")).attr("id",m)}c.node().innerHTML=a;c.style("top",0).style("left",0).style("opacity",0);c.selectAll("div, table, td, tr").classed(n,true);c.classed(n,true);return c.node()}function u(){if(!l)return;if(!r(c))return;s();var b=k.left;var h=g!=null?g:k.top;var m=t(q(c));j=m;if(i){var n=i.getElementsByTagName("svg")[0];var o=n?n.getBoundingClientRect():i.getBoundingClientRect();var p={left:0,top:0};if(n){var v=n.getBoundingClientRect();var w=i.getBoundingClientRect();var x=v.top;if(x<0){var y=i.getBoundingClientRect();x=Math.abs(x)>y.height?0:x}p.top=Math.abs(x-w.top);p.left=Math.abs(v.left-w.left)}b+=i.offsetLeft+p.left-2*i.scrollLeft;h+=i.offsetTop+p.top-2*i.scrollTop}if(f&&f>0){h=Math.floor(h/f)*f}a.tooltip.calcTooltipPosition([b,h],d,e,m);return u}u.nvPointerEventsClass=n;u.content=function(a){if(!arguments.length)return b;b=a;return u};u.tooltipElem=function(){return j};u.contentGenerator=function(a){if(!arguments.length)return q;if(typeof a==="function"){q=a}return u};u.data=function(a){if(!arguments.length)return c;c=a;return u};u.gravity=function(a){if(!arguments.length)return d;d=a;return u};u.distance=function(a){if(!arguments.length)return e;e=a;return u};u.snapDistance=function(a){if(!arguments.length)return f;f=a;return u};u.classes=function(a){if(!arguments.length)return h;h=a;return u};u.chartContainer=function(a){if(!arguments.length)return i;i=a;return u};u.position=function(a){if(!arguments.length)return k;k.left=typeof a.left!=="undefined"?a.left:k.left;k.top=typeof a.top!=="undefined"?a.top:k.top;return u};u.fixedTop=function(a){if(!arguments.length)return g;g=a;return u};u.enabled=function(a){if(!arguments.length)return l;l=a;return u};u.valueFormatter=function(a){if(!arguments.length)return o;if(typeof a==="function"){o=a}return u};u.headerFormatter=function(a){if(!arguments.length)return p;if(typeof a==="function"){p=a}return u};u.id=function(){return m};return u};a.tooltip.show=function(b,c,d,e,f,g){var h=document.createElement("div");h.className="nvtooltip "+(g?g:"xy-tooltip");var i=f;if(!f||f.tagName.match(/g|svg/i)){i=document.getElementsByTagName("body")[0]}h.style.left=0;h.style.top=0;h.style.opacity=0;h.innerHTML=c;i.appendChild(h);if(f){b[0]=b[0]-f.scrollLeft;b[1]=b[1]-f.scrollTop}a.tooltip.calcTooltipPosition(b,d,e,h)};a.tooltip.findFirstNonSVGParent=function(a){while(a.tagName.match(/^g|svg$/i)!==null){a=a.parentNode}return a};a.tooltip.findTotalOffsetTop=function(a,b){var c=b;do{if(!isNaN(a.offsetTop)){c+=a.offsetTop}}while(a=a.offsetParent);return c};a.tooltip.findTotalOffsetLeft=function(a,b){var c=b;do{if(!isNaN(a.offsetLeft)){c+=a.offsetLeft}}while(a=a.offsetParent);return c};a.tooltip.calcTooltipPosition=function(b,c,d,e){var f=parseInt(e.offsetHeight),g=parseInt(e.offsetWidth),h=a.utils.windowSize().width,i=a.utils.windowSize().height,j=window.pageYOffset,k=window.pageXOffset,l,m;i=window.innerWidth>=document.body.scrollWidth?i:i-16;h=window.innerHeight>=document.body.scrollHeight?h:h-16;c=c||"s";d=d||20;var n=function(b){return a.tooltip.findTotalOffsetTop(b,m)};var o=function(b){return a.tooltip.findTotalOffsetLeft(b,l)};switch(c){case"e":l=b[0]-g-d;m=b[1]-f/2;var p=o(e);var q=n(e);if(p<k)l=b[0]+d>k?b[0]+d:k-p+l;if(q<j)m=j-q+m;if(q+f>j+i)m=j+i-q+m-f;break;case"w":l=b[0]+d;m=b[1]-f/2;var p=o(e);var q=n(e);if(p+g>h)l=b[0]-g-d;if(q<j)m=j+5;if(q+f>j+i)m=j+i-q+m-f;break;case"n":l=b[0]-g/2-5;m=b[1]+d;var p=o(e);var q=n(e);if(p<k)l=k+5;if(p+g>h)l=l-g/2+5;if(q+f>j+i)m=j+i-q+m-f;break;case"s":l=b[0]-g/2;m=b[1]-f-d;var p=o(e);var q=n(e);if(p<k)l=k+5;if(p+g>h)l=l-g/2+5;if(j>q)m=j;break;case"none":l=b[0];m=b[1]-d;var p=o(e);var q=n(e);break}e.style.left=l+"px";e.style.top=m+"px";e.style.opacity=1;e.style.position="absolute";return e};a.tooltip.cleanup=function(){var a=document.getElementsByClassName("nvtooltip");var b=[];while(a.length){b.push(a[0]);a[0].style.transitionDelay="0 !important";a[0].style.opacity=0;a[0].className="nvtooltip-pending-removal"}setTimeout(function(){while(b.length){var a=b.pop();a.parentNode.removeChild(a)}},500)}})();a.utils.windowSize=function(){var a={width:640,height:480};if(document.body&&document.body.offsetWidth){a.width=document.body.offsetWidth;a.height=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){a.width=document.documentElement.offsetWidth;a.height=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){a.width=window.innerWidth;a.height=window.innerHeight}return a};a.utils.windowResize=function(a){if(a===undefined)return;var b=window.onresize;window.onresize=function(c){if(typeof b=="function")b(c);a(c)}};a.utils.getColor=function(b){if(!arguments.length)return a.utils.defaultColor();if(Object.prototype.toString.call(b)==="[object Array]")return function(a,c){return a.color||b[c%b.length]};else return b};a.utils.defaultColor=function(){var a=d3.scale.category20().range();return function(b,c){return b.color||a[c%a.length]}};a.utils.customTheme=function(a,b,c){b=b||function(a){return a.key};c=c||d3.scale.category20().range();var d=c.length;return function(e,f){var g=b(e);if(!d)d=c.length;if(typeof a[g]!=="undefined")return typeof a[g]==="function"?a[g]():a[g];else return c[--d]}};a.utils.pjax=function(b,c){d3.selectAll(b).on("click",function(){history.pushState(this.href,this.textContent,this.href);d(this.href);d3.event.preventDefault()});function d(d){d3.html(d,function(d){var e=d3.select(c).node();e.parentNode.replaceChild(d3.select(d).select(c).node(),e);a.utils.pjax(b,c)})}d3.select(window).on("popstate",function(){if(d3.event.state)d(d3.event.state)})};a.utils.calcApproxTextWidth=function(a){if(typeof a.style==="function"&&typeof a.text==="function"){var b=parseInt(a.style("font-size").replace("px",""));var c=a.text().length;return c*b*.5}return 0};a.utils.NaNtoZero=function(a){if(typeof a!=="number"||isNaN(a)||a===null||a===Infinity)return 0;return a};a.utils.optionsFunc=function(a){if(a){d3.map(a).forEach(function(a,b){if(typeof this[a]==="function"){this[a](b)}}.bind(this))}return this};a.models.axis=function(){"use strict";var b=d3.svg.axis();var c={top:0,right:0,bottom:0,left:0},d=75,e=60,f=d3.scale.linear(),g=null,h=true,i=true,j=0,k=true,l=false,m=false,n=null,o=12;b.scale(f).orient("bottom").tickFormat(function(a){return a});var p;function q(a){a.each(function(a){var e=d3.select(this);var q=e.selectAll("g.nv-wrap.nv-axis").data([a]);var r=q.enter().append("g").attr("class","nvd3 nv-wrap nv-axis");var s=r.append("g");var t=q.select("g");if(n!==null)b.ticks(n);else if(b.orient()=="top"||b.orient()=="bottom")b.ticks(Math.abs(f.range()[1]-f.range()[0])/100);t.transition().call(b);p=p||b.scale();var u=b.tickFormat();if(u==null){u=p.tickFormat()}var v=t.selectAll("text.nv-axislabel").data([g||null]);v.exit().remove();switch(b.orient()){case"top":v.enter().append("text").attr("class","nv-axislabel");var w=f.range().length==2?f.range()[1]:f.range()[f.range().length-1]+(f.range()[1]-f.range()[0]);v.attr("text-anchor","middle").attr("y",0).attr("x",w/2);if(h){var x=q.selectAll("g.nv-axisMaxMin").data(f.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text");x.exit().remove();x.attr("transform",function(a,b){return"translate("+f(a)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-b.tickPadding()).attr("text-anchor","middle").text(function(a,b){var c=u(a);return(""+c).match("NaN")?"":c});x.transition().attr("transform",function(a,b){return"translate("+f.range()[b]+",0)"})}break;case"bottom":var y=36;var z=30;var A=t.selectAll("g").select("text");if(j%360){A.each(function(a,b){var c=this.getBBox().width;if(c>z)z=c});var B=Math.abs(Math.sin(j*Math.PI/180));var y=(B?B*z:z)+30;A.attr("transform",function(a,b,c){return"rotate("+j+" 0,0)"}).style("text-anchor",j%360>0?"start":"end")}v.enter().append("text").attr("class","nv-axislabel");var w=f.range().length==2?f.range()[1]:f.range()[f.range().length-1]+(f.range()[1]-f.range()[0]);v.attr("text-anchor","middle").attr("y",y).attr("x",w/2);if(h){var x=q.selectAll("g.nv-axisMaxMin").data([f.domain()[0],f.domain()[f.domain().length-1]]);x.enter().append("g").attr("class","nv-axisMaxMin").append("text");x.exit().remove();x.attr("transform",function(a,b){return"translate("+(f(a)+(m?f.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",function(a,b,c){return"rotate("+j+" 0,0)"}).style("text-anchor",j?j%360>0?"start":"end":"middle").text(function(a,b){var c=u(a);return(""+c).match("NaN")?"":c});x.transition().attr("transform",function(a,b){return"translate("+(f(a)+(m?f.rangeBand()/2:0))+",0)"})}if(l)A.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"});break;case"right":v.enter().append("text").attr("class","nv-axislabel");v.style("text-anchor",k?"middle":"begin").attr("transform",k?"rotate(90)":"").attr("y",k?-Math.max(c.right,d)+12:-10).attr("x",k?f.range()[0]/2:b.tickPadding());if(h){var x=q.selectAll("g.nv-axisMaxMin").data(f.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);x.exit().remove();x.attr("transform",function(a,b){return"translate(0,"+f(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a,b){var c=u(a);return(""+c).match("NaN")?"":c});x.transition().attr("transform",function(a,b){return"translate(0,"+f.range()[b]+")"}).select("text").style("opacity",1)}break;case"left":v.enter().append("text").attr("class","nv-axislabel");v.style("text-anchor",k?"middle":"end").attr("transform",k?"rotate(-90)":"").attr("y",k?-Math.max(c.left,d)+o:-10).attr("x",k?-f.range()[0]/2:-b.tickPadding());if(h){var x=q.selectAll("g.nv-axisMaxMin").data(f.domain());x.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);x.exit().remove();x.attr("transform",function(a,b){return"translate(0,"+p(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a,b){var c=u(a);return(""+c).match("NaN")?"":c});x.transition().attr("transform",function(a,b){return"translate(0,"+f.range()[b]+")"}).select("text").style("opacity",1)}break}v.text(function(a){return a});if(h&&(b.orient()==="left"||b.orient()==="right")){t.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1);if(f(a)<f.range()[1]+10||f(a)>f.range()[0]-10){if(a>1e-10||a<-1e-10)d3.select(this).attr("opacity",0);d3.select(this).select("text").attr("opacity",0)}});if(f.domain()[0]==f.domain()[1]&&f.domain()[0]==0)q.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return!b?1:0})}if(h&&(b.orient()==="top"||b.orient()==="bottom")){var C=[];q.selectAll("g.nv-axisMaxMin").each(function(a,b){try{if(b)C.push(f(a)-this.getBBox().width-4);else C.push(f(a)+this.getBBox().width+4)}catch(c){if(b)C.push(f(a)-4);else C.push(f(a)+4)}});t.selectAll("g").each(function(a,b){if(f(a)<C[0]||f(a)>C[1]){if(a>1e-10||a<-1e-10)d3.select(this).remove();else d3.select(this).select("text").remove()}})}if(i)t.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(a.__data__*1e5)/1e6)&&a.__data__!==undefined}).classed("zero",true);p=f.copy()});return q}q.axis=b;d3.rebind(q,b,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(q,f,"domain","range","rangeBand","rangeBands");q.options=a.utils.optionsFunc.bind(q);q.margin=function(a){if(!arguments.length)return c;c.top=typeof a.top!="undefined"?a.top:c.top;c.right=typeof a.right!="undefined"?a.right:c.right;c.bottom=typeof a.bottom!="undefined"?a.bottom:c.bottom;
c.left=typeof a.left!="undefined"?a.left:c.left;return q};q.width=function(a){if(!arguments.length)return d;d=a;return q};q.ticks=function(a){if(!arguments.length)return n;n=a;return q};q.height=function(a){if(!arguments.length)return e;e=a;return q};q.axisLabel=function(a){if(!arguments.length)return g;g=a;return q};q.showMaxMin=function(a){if(!arguments.length)return h;h=a;return q};q.highlightZero=function(a){if(!arguments.length)return i;i=a;return q};q.scale=function(a){if(!arguments.length)return f;f=a;b.scale(f);m=typeof f.rangeBands==="function";d3.rebind(q,f,"domain","range","rangeBand","rangeBands");return q};q.rotateYLabel=function(a){if(!arguments.length)return k;k=a;return q};q.rotateLabels=function(a){if(!arguments.length)return j;j=a;return q};q.staggerLabels=function(a){if(!arguments.length)return l;l=a;return q};q.axisLabelDistance=function(a){if(!arguments.length)return o;o=a;return q};return q};a.models.historicalBar=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c=960,d=500,e=Math.floor(Math.random()*1e4),f=d3.scale.linear(),g=d3.scale.linear(),h=function(a){return a.x},i=function(a){return a.y},j=[],k=[0],l=false,m=true,n=a.utils.defaultColor(),o,p,q,r,s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),t=true;function u(v){v.each(function(u){var v=c-b.left-b.right,w=d-b.top-b.bottom,x=d3.select(this);f.domain(o||d3.extent(u[0].values.map(h).concat(j)));if(l)f.range(q||[v*.5/u[0].values.length,v*(u[0].values.length-.5)/u[0].values.length]);else f.range(q||[0,v]);g.domain(p||d3.extent(u[0].values.map(i).concat(k))).range(r||[w,0]);if(f.domain()[0]===f.domain()[1])f.domain()[0]?f.domain([f.domain()[0]-f.domain()[0]*.01,f.domain()[1]+f.domain()[1]*.01]):f.domain([-1,1]);if(g.domain()[0]===g.domain()[1])g.domain()[0]?g.domain([g.domain()[0]+g.domain()[0]*.01,g.domain()[1]-g.domain()[1]*.01]):g.domain([-1,1]);var y=x.selectAll("g.nv-wrap.nv-historicalBar-"+e).data([u[0].values]);var z=y.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+e);var A=z.append("defs");var B=z.append("g");var C=y.select("g");B.append("g").attr("class","nv-bars");y.attr("transform","translate("+b.left+","+b.top+")");x.on("click",function(a,b){s.chartClick({data:a,index:b,pos:d3.event,id:e})});A.append("clipPath").attr("id","nv-chart-clip-path-"+e).append("rect");y.select("#nv-chart-clip-path-"+e+" rect").attr("width",v).attr("height",w);C.attr("clip-path",m?"url(#nv-chart-clip-path-"+e+")":"");var D=y.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return h(a,b)});D.exit().remove();var E=D.enter().append("rect").attr("x",0).attr("y",function(b,c){return a.utils.NaNtoZero(g(Math.max(0,i(b,c))))}).attr("height",function(b,c){return a.utils.NaNtoZero(Math.abs(g(i(b,c))-g(0)))}).attr("transform",function(a,b){return"translate("+(f(h(a,b))-v/u[0].values.length*.45)+",0)"}).on("mouseover",function(a,b){if(!t)return;d3.select(this).classed("hover",true);s.elementMouseover({point:a,series:u[0],pos:[f(h(a,b)),g(i(a,b))],pointIndex:b,seriesIndex:0,e:d3.event})}).on("mouseout",function(a,b){if(!t)return;d3.select(this).classed("hover",false);s.elementMouseout({point:a,series:u[0],pointIndex:b,seriesIndex:0,e:d3.event})}).on("click",function(a,b){if(!t)return;s.elementClick({value:i(a,b),data:a,index:b,pos:[f(h(a,b)),g(i(a,b))],e:d3.event,id:e});d3.event.stopPropagation()}).on("dblclick",function(a,b){if(!t)return;s.elementDblClick({value:i(a,b),data:a,index:b,pos:[f(h(a,b)),g(i(a,b))],e:d3.event,id:e});d3.event.stopPropagation()});D.attr("fill",function(a,b){return n(a,b)}).attr("class",function(a,b,c){return(i(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).transition().attr("transform",function(a,b){return"translate("+(f(h(a,b))-v/u[0].values.length*.45)+",0)"}).attr("width",v/u[0].values.length*.9);D.transition().attr("y",function(b,c){var d=i(b,c)<0?g(0):g(0)-g(i(b,c))<1?g(0)-1:g(i(b,c));return a.utils.NaNtoZero(d)}).attr("height",function(b,c){return a.utils.NaNtoZero(Math.max(Math.abs(g(i(b,c))-g(0)),1))})});return u}u.highlightPoint=function(a,b){d3.select(".nv-historicalBar-"+e).select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};u.clearHighlights=function(){d3.select(".nv-historicalBar-"+e).select(".nv-bars .nv-bar.hover").classed("hover",false)};u.dispatch=s;u.options=a.utils.optionsFunc.bind(u);u.x=function(a){if(!arguments.length)return h;h=a;return u};u.y=function(a){if(!arguments.length)return i;i=a;return u};u.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return u};u.width=function(a){if(!arguments.length)return c;c=a;return u};u.height=function(a){if(!arguments.length)return d;d=a;return u};u.xScale=function(a){if(!arguments.length)return f;f=a;return u};u.yScale=function(a){if(!arguments.length)return g;g=a;return u};u.xDomain=function(a){if(!arguments.length)return o;o=a;return u};u.yDomain=function(a){if(!arguments.length)return p;p=a;return u};u.xRange=function(a){if(!arguments.length)return q;q=a;return u};u.yRange=function(a){if(!arguments.length)return r;r=a;return u};u.forceX=function(a){if(!arguments.length)return j;j=a;return u};u.forceY=function(a){if(!arguments.length)return k;k=a;return u};u.padData=function(a){if(!arguments.length)return l;l=a;return u};u.clipEdge=function(a){if(!arguments.length)return m;m=a;return u};u.color=function(b){if(!arguments.length)return n;n=a.utils.getColor(b);return u};u.id=function(a){if(!arguments.length)return e;e=a;return u};u.interactive=function(a){if(!arguments.length)return t;t=false;return u};return u};a.models.bullet=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c="left",d=false,e=function(a){return a.ranges},f=function(a){return a.markers},g=function(a){return a.measures},h=function(a){return a.rangeLabels?a.rangeLabels:[]},i=function(a){return a.markerLabels?a.markerLabels:[]},j=function(a){return a.measureLabels?a.measureLabels:[]},k=[0],l=380,m=30,n=null,o=a.utils.getColor(["#1f77b4"]),p=d3.dispatch("elementMouseover","elementMouseout");function q(a){a.each(function(a,c){var n=l-b.left-b.right,q=m-b.top-b.bottom,r=d3.select(this);var s=e.call(this,a,c).slice().sort(d3.descending),t=f.call(this,a,c).slice().sort(d3.descending),u=g.call(this,a,c).slice().sort(d3.descending),v=h.call(this,a,c).slice(),w=i.call(this,a,c).slice(),x=j.call(this,a,c).slice();var y=d3.scale.linear().domain(d3.extent(d3.merge([k,s]))).range(d?[n,0]:[0,n]);var z=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(y.range());this.__chart__=y;var A=d3.min(s),B=d3.max(s),C=s[1];var D=r.selectAll("g.nv-wrap.nv-bullet").data([a]);var E=D.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet");var F=E.append("g");var G=D.select("g");F.append("rect").attr("class","nv-range nv-rangeMax");F.append("rect").attr("class","nv-range nv-rangeAvg");F.append("rect").attr("class","nv-range nv-rangeMin");F.append("rect").attr("class","nv-measure");F.append("path").attr("class","nv-markerTriangle");D.attr("transform","translate("+b.left+","+b.top+")");var H=function(a){return Math.abs(z(a)-z(0))},I=function(a){return Math.abs(y(a)-y(0))};var J=function(a){return a<0?z(a):z(0)},K=function(a){return a<0?y(a):y(0)};G.select("rect.nv-rangeMax").attr("height",q).attr("width",I(B>0?B:A)).attr("x",K(B>0?B:A)).datum(B>0?B:A);G.select("rect.nv-rangeAvg").attr("height",q).attr("width",I(C)).attr("x",K(C)).datum(C);G.select("rect.nv-rangeMin").attr("height",q).attr("width",I(B)).attr("x",K(B)).attr("width",I(B>0?A:B)).attr("x",K(B>0?A:B)).datum(B>0?A:B);G.select("rect.nv-measure").style("fill",o).attr("height",q/3).attr("y",q/3).attr("width",u<0?y(0)-y(u[0]):y(u[0])-y(0)).attr("x",K(u)).on("mouseover",function(){p.elementMouseover({value:u[0],label:x[0]||"Current",pos:[y(u[0]),q/2]})}).on("mouseout",function(){p.elementMouseout({value:u[0],label:x[0]||"Current"})});var L=q/6;if(t[0]){G.selectAll("path.nv-markerTriangle").attr("transform",function(a){return"translate("+y(t[0])+","+q/2+")"}).attr("d","M0,"+L+"L"+L+","+-L+" "+-L+","+-L+"Z").on("mouseover",function(){p.elementMouseover({value:t[0],label:w[0]||"Previous",pos:[y(t[0]),q/2]})}).on("mouseout",function(){p.elementMouseout({value:t[0],label:w[0]||"Previous"})})}else{G.selectAll("path.nv-markerTriangle").remove()}D.selectAll(".nv-range").on("mouseover",function(a,b){var c=v[b]||(!b?"Maximum":b==1?"Mean":"Minimum");p.elementMouseover({value:a,label:c,pos:[y(a),q/2]})}).on("mouseout",function(a,b){var c=v[b]||(!b?"Maximum":b==1?"Mean":"Minimum");p.elementMouseout({value:a,label:c})})});return q}q.dispatch=p;q.options=a.utils.optionsFunc.bind(q);q.orient=function(a){if(!arguments.length)return c;c=a;d=c=="right"||c=="bottom";return q};q.ranges=function(a){if(!arguments.length)return e;e=a;return q};q.markers=function(a){if(!arguments.length)return f;f=a;return q};q.measures=function(a){if(!arguments.length)return g;g=a;return q};q.forceX=function(a){if(!arguments.length)return k;k=a;return q};q.width=function(a){if(!arguments.length)return l;l=a;return q};q.height=function(a){if(!arguments.length)return m;m=a;return q};q.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return q};q.tickFormat=function(a){if(!arguments.length)return n;n=a;return q};q.color=function(b){if(!arguments.length)return o;o=a.utils.getColor(b);return q};return q};a.models.bulletChart=function(){"use strict";var b=a.models.bullet();var c="left",d=false,e={top:5,right:40,bottom:20,left:120},f=function(a){return a.ranges},g=function(a){return a.markers},h=function(a){return a.measures},i=null,j=55,k=null,l=true,m=function(a,b,c,d,e){return"<h3>"+b+"</h3>"+"<p>"+c+"</p>"},n="No Data Available.",o=d3.dispatch("tooltipShow","tooltipHide");var p=function(b,c){var d=b.pos[0]+(c.offsetLeft||0)+e.left,f=b.pos[1]+(c.offsetTop||0)+e.top,g=m(b.key,b.label,b.value,b,q);a.tooltip.show([d,f],g,b.value<0?"e":"w",null,c)};function q(a){a.each(function(c,m){var r=d3.select(this);var s=(i||parseInt(r.style("width"))||960)-e.left-e.right,t=j-e.top-e.bottom,u=this;q.update=function(){q(a)};q.container=this;if(!c||!f.call(this,c,m)){var v=r.selectAll(".nv-noData").data([n]);v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");v.attr("x",e.left+s/2).attr("y",18+e.top+t/2).text(function(a){return a});return q}else{r.selectAll(".nv-noData").remove()}var w=f.call(this,c,m).slice().sort(d3.descending),x=g.call(this,c,m).slice().sort(d3.descending),y=h.call(this,c,m).slice().sort(d3.descending);var z=r.selectAll("g.nv-wrap.nv-bulletChart").data([c]);var A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart");var B=A.append("g");var C=z.select("g");B.append("g").attr("class","nv-bulletWrap");B.append("g").attr("class","nv-titles");z.attr("transform","translate("+e.left+","+e.top+")");var D=d3.scale.linear().domain([0,Math.max(w[0],x[0],y[0])]).range(d?[s,0]:[0,s]);var E=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(D.range());this.__chart__=D;var F=function(a){return Math.abs(E(a)-E(0))},G=function(a){return Math.abs(D(a)-D(0))};var H=B.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(j-e.top-e.bottom)/2+")");H.append("text").attr("class","nv-title").text(function(a){return a.title});H.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(s).height(t);var I=C.select(".nv-bulletWrap");d3.transition(I).call(b);var J=k||D.tickFormat(s/100);var K=C.selectAll("g.nv-tick").data(D.ticks(s/50),function(a){return this.textContent||J(a)});var L=K.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+E(a)+",0)"}).style("opacity",1e-6);L.append("line").attr("y1",t).attr("y2",t*7/6);L.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",t*7/6).text(J);var M=d3.transition(K).attr("transform",function(a){return"translate("+D(a)+",0)"}).style("opacity",1);M.select("line").attr("y1",t).attr("y2",t*7/6);M.select("text").attr("y",t*7/6);d3.transition(K.exit()).attr("transform",function(a){return"translate("+D(a)+",0)"}).style("opacity",1e-6).remove();o.on("tooltipShow",function(a){a.key=c.title;if(l)p(a,u.parentNode)})});d3.timer.flush();return q}b.dispatch.on("elementMouseover.tooltip",function(a){o.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){o.tooltipHide(a)});o.on("tooltipHide",function(){if(l)a.tooltip.cleanup()});q.dispatch=o;q.bullet=b;d3.rebind(q,b,"color");q.options=a.utils.optionsFunc.bind(q);q.orient=function(a){if(!arguments.length)return c;c=a;d=c=="right"||c=="bottom";return q};q.ranges=function(a){if(!arguments.length)return f;f=a;return q};q.markers=function(a){if(!arguments.length)return g;g=a;return q};q.measures=function(a){if(!arguments.length)return h;h=a;return q};q.width=function(a){if(!arguments.length)return i;i=a;return q};q.height=function(a){if(!arguments.length)return j;j=a;return q};q.margin=function(a){if(!arguments.length)return e;e.top=typeof a.top!="undefined"?a.top:e.top;e.right=typeof a.right!="undefined"?a.right:e.right;e.bottom=typeof a.bottom!="undefined"?a.bottom:e.bottom;e.left=typeof a.left!="undefined"?a.left:e.left;return q};q.tickFormat=function(a){if(!arguments.length)return k;k=a;return q};q.tooltips=function(a){if(!arguments.length)return l;l=a;return q};q.tooltipContent=function(a){if(!arguments.length)return m;m=a;return q};q.noData=function(a){if(!arguments.length)return n;n=a;return q};return q};a.models.cumulativeLineChart=function(){"use strict";var b=a.models.line(),c=a.models.axis(),d=a.models.axis(),e=a.models.legend(),f=a.models.legend(),g=a.interactiveGuideline();var h={top:30,right:30,bottom:50,left:60},i=a.utils.defaultColor(),j=null,k=null,l=true,m=true,n=true,o=false,p=true,q=true,r=false,s=true,t=function(a,b,c,d,e){return"<h3>"+a+"</h3>"+"<p>"+c+" at "+b+"</p>"},u,v,w=b.id(),x={index:0,rescaleY:s},y=null,z="No Data Available.",A=function(a){return a.average},B=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),C=250,D=false;c.orient("bottom").tickPadding(7);d.orient(o?"right":"left");f.updateState(false);var E=d3.scale.linear(),F={i:0,x:0};var G=function(e,f){var g=e.pos[0]+(f.offsetLeft||0),h=e.pos[1]+(f.offsetTop||0),i=c.tickFormat()(b.x()(e.point,e.pointIndex)),j=d.tickFormat()(b.y()(e.point,e.pointIndex)),k=t(e.series.key,i,j,e,H);a.tooltip.show([g,h],k,null,null,f)};function H(t){t.each(function(t){var D=d3.select(this).classed("nv-chart-"+w,true),J=this;var K=(j||parseInt(D.style("width"))||960)-h.left-h.right,L=(k||parseInt(D.style("height"))||400)-h.top-h.bottom;H.update=function(){D.transition().duration(C).call(H)};H.container=this;x.disabled=t.map(function(a){return!!a.disabled});if(!y){var M;y={};for(M in x){if(x[M]instanceof Array)y[M]=x[M].slice(0);else y[M]=x[M]}}var N=d3.behavior.drag().on("dragstart",O).on("drag",P).on("dragend",Q);function O(a,b){d3.select(H.container).style("cursor","ew-resize")}function P(a,b){F.x=d3.event.x;F.i=Math.round(E.invert(F.x));db()}function Q(a,b){d3.select(H.container).style("cursor","auto");x.index=F.i;B.stateChange(x)}if(!t||!t.length||!t.filter(function(a){return a.values.length}).length){var R=D.selectAll(".nv-noData").data([z]);R.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");R.attr("x",h.left+K/2).attr("y",h.top+L/2).text(function(a){return a});return H}else{D.selectAll(".nv-noData").remove()}u=b.xScale();v=b.yScale();if(!s){var S=t.filter(function(a){return!a.disabled}).map(function(a,c){var d=d3.extent(a.values,b.y());if(d[0]<-.95)d[0]=-.95;return[(d[0]-d[1])/(1+d[1]),(d[1]-d[0])/(1+d[0])]});var T=[d3.min(S,function(a){return a[0]}),d3.max(S,function(a){return a[1]})];b.yDomain(T)}else{b.yDomain(null)}E.domain([0,t[0].values.length-1]).range([0,K]).clamp(true);var t=I(F.i,t);var U=r?"none":"all";var V=D.selectAll("g.nv-wrap.nv-cumulativeLine").data([t]);var W=V.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g");var X=V.select("g");W.append("g").attr("class","nv-interactive");W.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");W.append("g").attr("class","nv-y nv-axis");W.append("g").attr("class","nv-background");W.append("g").attr("class","nv-linesWrap").style("pointer-events",U);W.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");W.append("g").attr("class","nv-legendWrap");W.append("g").attr("class","nv-controlsWrap");if(l){e.width(K);X.select(".nv-legendWrap").datum(t).call(e);if(h.top!=e.height()){h.top=e.height();L=(k||parseInt(D.style("height"))||400)-h.top-h.bottom}X.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")}if(q){var Y=[{key:"Re-scale y-axis",disabled:!s}];f.width(140).color(["#444","#444","#444"]).rightAlign(false).margin({top:5,right:0,bottom:5,left:20});X.select(".nv-controlsWrap").datum(Y).attr("transform","translate(0,"+-h.top+")").call(f)}V.attr("transform","translate("+h.left+","+h.top+")");if(o){X.select(".nv-y.nv-axis").attr("transform","translate("+K+",0)")}var Z=t.filter(function(a){return a.tempDisabled});V.select(".tempDisabled").remove();if(Z.length){V.append("text").attr("class","tempDisabled").attr("x",K/2).attr("y","-.71em").style("text-anchor","end").text(Z.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.")}if(r){g.width(K).height(L).margin({left:h.left,top:h.top}).svgContainer(D).xScale(u);V.select(".nv-interactive").call(g)}W.select(".nv-background").append("rect");X.select(".nv-background rect").attr("width",K).attr("height",L);b.y(function(a){return a.display.y}).width(K).height(L).color(t.map(function(a,b){return a.color||i(a,b)}).filter(function(a,b){return!t[b].disabled&&!t[b].tempDisabled}));var $=X.select(".nv-linesWrap").datum(t.filter(function(a){return!a.disabled&&!a.tempDisabled}));$.call(b);t.forEach(function(a,b){a.seriesIndex=b});var _=t.filter(function(a){return!a.disabled&&!!A(a)});var ab=X.select(".nv-avgLinesWrap").selectAll("line").data(_,function(a){return a.key});var bb=function(a){var b=v(A(a));if(b<0)return 0;if(b>L)return L;return b};ab.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,c){return b.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",K).attr("y1",bb).attr("y2",bb);ab.style("stroke-opacity",function(a){var b=v(A(a));if(b<0||b>L)return 0;return 1}).attr("x1",0).attr("x2",K).attr("y1",bb).attr("y2",bb);ab.exit().remove();var cb=$.selectAll(".nv-indexLine").data([F]);cb.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(N);cb.attr("transform",function(a){return"translate("+E(a.i)+",0)"}).attr("height",L);if(m){c.scale(u).ticks(Math.min(t[0].values.length,K/70)).tickSize(-L,0);X.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")");d3.transition(X.select(".nv-x.nv-axis")).call(c)}if(n){d.scale(v).ticks(L/36).tickSize(-K,0);d3.transition(X.select(".nv-y.nv-axis")).call(d)}function db(){cb.data([F]);var a=H.transitionDuration();H.transitionDuration(0);H.update();H.transitionDuration(a)}X.select(".nv-background rect").on("click",function(){F.x=d3.mouse(this)[0];F.i=Math.round(E.invert(F.x));x.index=F.i;B.stateChange(x);db()});b.dispatch.on("elementClick",function(a){F.i=a.pointIndex;F.x=E(F.i);x.index=F.i;B.stateChange(x);db()});f.dispatch.on("legendClick",function(a,b){a.disabled=!a.disabled;s=!a.disabled;x.rescaleY=s;B.stateChange(x);H.update()});e.dispatch.on("stateChange",function(a){x.disabled=a.disabled;B.stateChange(x);H.update()});g.dispatch.on("elementMousemove",function(e){b.clearHighlights();var f,j,k,l=[];t.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(c,d){j=a.interactiveBisect(c.values,e.pointXValue,H.x());b.highlightPoint(d,j,true);var g=c.values[j];if(typeof g==="undefined")return;if(typeof f==="undefined")f=g;if(typeof k==="undefined")k=H.xScale()(H.x()(g,j));l.push({key:c.key,value:H.y()(g,j),color:i(c,c.seriesIndex)})});if(l.length>2){var m=H.yScale().invert(e.mouseY);var n=Math.abs(H.yScale().domain()[0]-H.yScale().domain()[1]);var o=.03*n;var q=a.nearestValueIndex(l.map(function(a){return a.value}),m,o);if(q!==null)l[q].highlight=true}var r=c.tickFormat()(H.x()(f,j),j);g.tooltip.position({left:k+h.left,top:e.mouseY+h.top}).chartContainer(J.parentNode).enabled(p).valueFormatter(function(a,b){return d.tickFormat()(a)}).data({value:r,series:l})();g.renderGuideLine(k)});g.dispatch.on("elementMouseout",function(a){B.tooltipHide();b.clearHighlights()});B.on("tooltipShow",function(a){if(p)G(a,J.parentNode)});B.on("changeState",function(a){if(typeof a.disabled!=="undefined"){t.forEach(function(b,c){b.disabled=a.disabled[c]});x.disabled=a.disabled}if(typeof a.index!=="undefined"){F.i=a.index;F.x=E(F.i);x.index=a.index;cb.data([F])}if(typeof a.rescaleY!=="undefined"){s=a.rescaleY}H.update()})});return H}b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+h.left,a.pos[1]+h.top];B.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){B.tooltipHide(a)});B.on("tooltipHide",function(){if(p)a.tooltip.cleanup()});H.dispatch=B;H.lines=b;H.legend=e;H.xAxis=c;H.yAxis=d;H.interactiveLayer=g;d3.rebind(H,b,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id");H.options=a.utils.optionsFunc.bind(H);H.margin=function(a){if(!arguments.length)return h;h.top=typeof a.top!="undefined"?a.top:h.top;h.right=typeof a.right!="undefined"?a.right:h.right;h.bottom=typeof a.bottom!="undefined"?a.bottom:h.bottom;h.left=typeof a.left!="undefined"?a.left:h.left;return H};H.width=function(a){if(!arguments.length)return j;j=a;return H};H.height=function(a){if(!arguments.length)return k;k=a;return H};H.color=function(b){if(!arguments.length)return i;i=a.utils.getColor(b);e.color(i);return H};H.rescaleY=function(a){if(!arguments.length)return s;s=a;return H};H.showControls=function(a){if(!arguments.length)return q;q=a;return H};H.useInteractiveGuideline=function(a){if(!arguments.length)return r;r=a;if(a===true){H.interactive(false);H.useVoronoi(false)}return H};H.showLegend=function(a){if(!arguments.length)return l;l=a;return H};H.showXAxis=function(a){if(!arguments.length)return m;m=a;return H};H.showYAxis=function(a){if(!arguments.length)return n;n=a;return H};H.rightAlignYAxis=function(a){if(!arguments.length)return o;o=a;d.orient(a?"right":"left");return H};H.tooltips=function(a){if(!arguments.length)return p;p=a;return H};H.tooltipContent=function(a){if(!arguments.length)return t;t=a;return H};H.state=function(a){if(!arguments.length)return x;x=a;return H};H.defaultState=function(a){if(!arguments.length)return y;y=a;return H};H.noData=function(a){if(!arguments.length)return z;z=a;return H};H.average=function(a){if(!arguments.length)return A;A=a;return H};H.transitionDuration=function(a){if(!arguments.length)return C;C=a;return H};H.noErrorCheck=function(a){if(!arguments.length)return D;D=a;return H};function I(a,c){return c.map(function(c,d){if(!c.values){return c}var e=b.y()(c.values[a],a);if(e<-.95&&!D){c.tempDisabled=true;return c}c.tempDisabled=false;c.values=c.values.map(function(a,c){a.display={y:(b.y()(a,c)-e)/(1+e)};return a});return c})}return H};a.models.discreteBar=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c=960,d=500,e=Math.floor(Math.random()*1e4),f=d3.scale.ordinal(),g=d3.scale.linear(),h=function(a){return a.x},i=function(a){return a.y},j=[0],k=a.utils.defaultColor(),l=false,m=d3.format(",.2f"),n,o,p,q,r=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),s="discreteBar";var t,u;function v(a){a.each(function(a){var e=c-b.left-b.right,v=d-b.top-b.bottom,w=d3.select(this);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var x=n&&o?[]:a.map(function(a){return a.values.map(function(a,b){return{x:h(a,b),y:i(a,b),y0:a.y0}})});f.domain(n||d3.merge(x).map(function(a){return a.x})).rangeBands(p||[0,e],.1);g.domain(o||d3.extent(d3.merge(x).map(function(a){return a.y}).concat(j)));if(l)g.range(q||[v-(g.domain()[0]<0?12:0),g.domain()[1]>0?12:0]);else g.range(q||[v,0]);t=t||f;u=u||g.copy().range([g(0),g(0)]);var y=w.selectAll("g.nv-wrap.nv-discretebar").data([a]);var z=y.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar");var A=z.append("g");var B=y.select("g");A.append("g").attr("class","nv-groups");y.attr("transform","translate("+b.left+","+b.top+")");var C=y.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});C.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);C.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();C.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});C.transition().style("stroke-opacity",1).style("fill-opacity",.75);var D=C.selectAll("g.nv-bar").data(function(a){return a.values});D.exit().remove();var E=D.enter().append("g").attr("transform",function(a,b,c){return"translate("+(f(h(a,b))+f.rangeBand()*.05)+", "+g(0)+")"}).on("mouseover",function(b,c){d3.select(this).classed("hover",true);r.elementMouseover({value:i(b,c),point:b,series:a[b.series],pos:[f(h(b,c))+f.rangeBand()*(b.series+.5)/a.length,g(i(b,c))],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,c){d3.select(this).classed("hover",false);r.elementMouseout({value:i(b,c),point:b,series:a[b.series],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("click",function(b,c){r.elementClick({value:i(b,c),point:b,series:a[b.series],pos:[f(h(b,c))+f.rangeBand()*(b.series+.5)/a.length,g(i(b,c))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,c){r.elementDblClick({value:i(b,c),point:b,series:a[b.series],pos:[f(h(b,c))+f.rangeBand()*(b.series+.5)/a.length,g(i(b,c))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});E.append("rect").attr("height",0).attr("width",f.rangeBand()*.9/a.length);if(l){E.append("text").attr("text-anchor","middle");D.select("text").text(function(a,b){return m(i(a,b))}).transition().attr("x",f.rangeBand()*.9/2).attr("y",function(a,b){return i(a,b)<0?g(i(a,b))-g(0)+12:-4})}else{D.selectAll("text").remove()}D.attr("class",function(a,b){return i(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||k(a,b)}).style("stroke",function(a,b){return a.color||k(a,b)}).select("rect").attr("class",s).transition().attr("width",f.rangeBand()*.9/a.length);D.transition().attr("transform",function(a,b){var c=f(h(a,b))+f.rangeBand()*.05,d=i(a,b)<0?g(0):g(0)-g(i(a,b))<1?g(0)-1:g(i(a,b));return"translate("+c+", "+d+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(g(i(a,b))-g(o&&o[0]||0))||1)});t=f.copy();u=g.copy()});return v}v.dispatch=r;v.options=a.utils.optionsFunc.bind(v);v.x=function(a){if(!arguments.length)return h;h=a;return v};v.y=function(a){if(!arguments.length)return i;i=a;return v};v.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return v};v.width=function(a){if(!arguments.length)return c;c=a;return v};v.height=function(a){if(!arguments.length)return d;d=a;return v};v.xScale=function(a){if(!arguments.length)return f;f=a;return v};v.yScale=function(a){if(!arguments.length)return g;g=a;return v};v.xDomain=function(a){if(!arguments.length)return n;n=a;return v};v.yDomain=function(a){if(!arguments.length)return o;o=a;return v};v.xRange=function(a){if(!arguments.length)return p;p=a;return v};v.yRange=function(a){if(!arguments.length)return q;q=a;return v};v.forceY=function(a){if(!arguments.length)return j;j=a;return v};v.color=function(b){if(!arguments.length)return k;k=a.utils.getColor(b);return v};v.id=function(a){if(!arguments.length)return e;e=a;return v};v.showValues=function(a){if(!arguments.length)return l;l=a;return v};v.valueFormat=function(a){if(!arguments.length)return m;m=a;return v};v.rectClass=function(a){if(!arguments.length)return s;s=a;return v};return v};a.models.discreteBarChart=function(){"use strict";var b=a.models.discreteBar(),c=a.models.axis(),d=a.models.axis();var e={top:15,right:10,bottom:50,left:60},f=null,g=null,h=a.utils.getColor(),i=true,j=true,k=false,l=false,m=true,n=function(a,b,c,d,e){return"<h3>"+b+"</h3>"+"<p>"+c+"</p>"},o,p,q="No Data Available.",r=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),s=250;c.orient("bottom").highlightZero(false).showMaxMin(false).tickFormat(function(a){return a});d.orient(k?"right":"left").tickFormat(d3.format(",.1f"));var t=function(e,f){var g=e.pos[0]+(f.offsetLeft||0),h=e.pos[1]+(f.offsetTop||0),i=c.tickFormat()(b.x()(e.point,e.pointIndex)),j=d.tickFormat()(b.y()(e.point,e.pointIndex)),k=n(e.series.key,i,j,e,u);a.tooltip.show([g,h],k,e.value<0?"n":"s",null,f)};function u(a){a.each(function(a){var h=d3.select(this),n=this;var v=(f||parseInt(h.style("width"))||960)-e.left-e.right,w=(g||parseInt(h.style("height"))||400)-e.top-e.bottom;u.update=function(){r.beforeUpdate();h.transition().duration(s).call(u)};u.container=this;if(!a||!a.length||!a.filter(function(a){return a.values.length}).length){var x=h.selectAll(".nv-noData").data([q]);x.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");x.attr("x",e.left+v/2).attr("y",e.top+w/2).text(function(a){return a});return u}else{h.selectAll(".nv-noData").remove()}o=b.xScale();p=b.yScale().clamp(true);var y=h.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([a]);var z=y.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g");var A=z.append("defs");var B=y.select("g");z.append("g").attr("class","nv-x nv-axis");z.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");z.append("g").attr("class","nv-barsWrap");B.attr("transform","translate("+e.left+","+e.top+")");if(k){B.select(".nv-y.nv-axis").attr("transform","translate("+v+",0)")}b.width(v).height(w);var C=B.select(".nv-barsWrap").datum(a.filter(function(a){return!a.disabled}));C.transition().call(b);A.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");B.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",o.rangeBand()*(l?2:1)).attr("height",16).attr("x",-o.rangeBand()/(l?1:2));if(i){c.scale(o).ticks(v/100).tickSize(-w,0);B.select(".nv-x.nv-axis").attr("transform","translate(0,"+(p.range()[0]+(b.showValues()&&p.domain()[0]<0?16:0))+")");B.select(".nv-x.nv-axis").transition().call(c);var D=B.select(".nv-x.nv-axis").selectAll("g");if(l){D.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}}if(j){d.scale(p).ticks(w/36).tickSize(-v,0);B.select(".nv-y.nv-axis").transition().call(d)}B.select(".nv-zeroLine line").attr("x1",0).attr("x2",v).attr("y1",p(0)).attr("y2",p(0));r.on("tooltipShow",function(a){if(m)t(a,n.parentNode)})});return u}b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+e.left,a.pos[1]+e.top];r.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){r.tooltipHide(a)});r.on("tooltipHide",function(){if(m)a.tooltip.cleanup()});u.dispatch=r;u.discretebar=b;u.xAxis=c;u.yAxis=d;d3.rebind(u,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat");
u.options=a.utils.optionsFunc.bind(u);u.margin=function(a){if(!arguments.length)return e;e.top=typeof a.top!="undefined"?a.top:e.top;e.right=typeof a.right!="undefined"?a.right:e.right;e.bottom=typeof a.bottom!="undefined"?a.bottom:e.bottom;e.left=typeof a.left!="undefined"?a.left:e.left;return u};u.width=function(a){if(!arguments.length)return f;f=a;return u};u.height=function(a){if(!arguments.length)return g;g=a;return u};u.color=function(c){if(!arguments.length)return h;h=a.utils.getColor(c);b.color(h);return u};u.showXAxis=function(a){if(!arguments.length)return i;i=a;return u};u.showYAxis=function(a){if(!arguments.length)return j;j=a;return u};u.rightAlignYAxis=function(a){if(!arguments.length)return k;k=a;d.orient(a?"right":"left");return u};u.staggerLabels=function(a){if(!arguments.length)return l;l=a;return u};u.tooltips=function(a){if(!arguments.length)return m;m=a;return u};u.tooltipContent=function(a){if(!arguments.length)return n;n=a;return u};u.noData=function(a){if(!arguments.length)return q;q=a;return u};u.transitionDuration=function(a){if(!arguments.length)return s;s=a;return u};return u};a.models.distribution=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c=400,d=8,e="x",f=function(a){return a[e]},g=a.utils.defaultColor(),h=d3.scale.linear(),i;var j;function k(a){a.each(function(a){var i=c-(e==="x"?b.left+b.right:b.top+b.bottom),k=e=="x"?"y":"x",l=d3.select(this);j=j||h;var m=l.selectAll("g.nv-distribution").data([a]);var n=m.enter().append("g").attr("class","nvd3 nv-distribution");var o=n.append("g");var p=m.select("g");m.attr("transform","translate("+b.left+","+b.top+")");var q=p.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});q.enter().append("g");q.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return g(a,b)});var r=q.selectAll("line.nv-dist"+e).data(function(a){return a.values});r.enter().append("line").attr(e+"1",function(a,b){return j(f(a,b))}).attr(e+"2",function(a,b){return j(f(a,b))});q.exit().selectAll("line.nv-dist"+e).transition().attr(e+"1",function(a,b){return h(f(a,b))}).attr(e+"2",function(a,b){return h(f(a,b))}).style("stroke-opacity",0).remove();r.attr("class",function(a,b){return"nv-dist"+e+" nv-dist"+e+"-"+b}).attr(k+"1",0).attr(k+"2",d);r.transition().attr(e+"1",function(a,b){return h(f(a,b))}).attr(e+"2",function(a,b){return h(f(a,b))});j=h.copy()});return k}k.options=a.utils.optionsFunc.bind(k);k.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return k};k.width=function(a){if(!arguments.length)return c;c=a;return k};k.axis=function(a){if(!arguments.length)return e;e=a;return k};k.size=function(a){if(!arguments.length)return d;d=a;return k};k.getData=function(a){if(!arguments.length)return f;f=d3.functor(a);return k};k.scale=function(a){if(!arguments.length)return h;h=a;return k};k.color=function(b){if(!arguments.length)return g;g=a.utils.getColor(b);return k};return k};a.models.historicalBarChart=function(){"use strict";var b=a.models.historicalBar(),c=a.models.axis(),d=a.models.axis(),e=a.models.legend();var f={top:30,right:90,bottom:50,left:90},g=a.utils.defaultColor(),h=null,i=null,j=false,k=true,l=true,m=false,n=true,o=function(a,b,c,d,e){return"<h3>"+a+"</h3>"+"<p>"+c+" at "+b+"</p>"},p,q,r={},s=null,t="No Data Available.",u=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),v=250;c.orient("bottom").tickPadding(7);d.orient(m?"right":"left");var w=function(e,f){if(f){var g=d3.select(f).select("svg");var h=g.node()?g.attr("viewBox"):null;if(h){h=h.split(" ");var i=parseInt(g.style("width"))/h[2];e.pos[0]=e.pos[0]*i;e.pos[1]=e.pos[1]*i}}var j=e.pos[0]+(f.offsetLeft||0),k=e.pos[1]+(f.offsetTop||0),l=c.tickFormat()(b.x()(e.point,e.pointIndex)),m=d.tickFormat()(b.y()(e.point,e.pointIndex)),n=o(e.series.key,l,m,e,x);a.tooltip.show([j,k],n,null,null,f)};function x(a){a.each(function(o){var y=d3.select(this),z=this;var A=(h||parseInt(y.style("width"))||960)-f.left-f.right,B=(i||parseInt(y.style("height"))||400)-f.top-f.bottom;x.update=function(){y.transition().duration(v).call(x)};x.container=this;r.disabled=o.map(function(a){return!!a.disabled});if(!s){var C;s={};for(C in r){if(r[C]instanceof Array)s[C]=r[C].slice(0);else s[C]=r[C]}}if(!o||!o.length||!o.filter(function(a){return a.values.length}).length){var D=y.selectAll(".nv-noData").data([t]);D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");D.attr("x",f.left+A/2).attr("y",f.top+B/2).text(function(a){return a});return x}else{y.selectAll(".nv-noData").remove()}p=b.xScale();q=b.yScale();var E=y.selectAll("g.nv-wrap.nv-historicalBarChart").data([o]);var F=E.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");var G=E.select("g");F.append("g").attr("class","nv-x nv-axis");F.append("g").attr("class","nv-y nv-axis");F.append("g").attr("class","nv-barsWrap");F.append("g").attr("class","nv-legendWrap");if(j){e.width(A);G.select(".nv-legendWrap").datum(o).call(e);if(f.top!=e.height()){f.top=e.height();B=(i||parseInt(y.style("height"))||400)-f.top-f.bottom}E.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")}E.attr("transform","translate("+f.left+","+f.top+")");if(m){G.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)")}b.width(A).height(B).color(o.map(function(a,b){return a.color||g(a,b)}).filter(function(a,b){return!o[b].disabled}));var H=G.select(".nv-barsWrap").datum(o.filter(function(a){return!a.disabled}));H.transition().call(b);if(k){c.scale(p).tickSize(-B,0);G.select(".nv-x.nv-axis").attr("transform","translate(0,"+q.range()[0]+")");G.select(".nv-x.nv-axis").transition().call(c)}if(l){d.scale(q).ticks(B/36).tickSize(-A,0);G.select(".nv-y.nv-axis").transition().call(d)}e.dispatch.on("legendClick",function(b,c){b.disabled=!b.disabled;if(!o.filter(function(a){return!a.disabled}).length){o.map(function(a){a.disabled=false;E.selectAll(".nv-series").classed("disabled",false);return a})}r.disabled=o.map(function(a){return!!a.disabled});u.stateChange(r);a.transition().call(x)});e.dispatch.on("legendDblclick",function(a){o.forEach(function(a){a.disabled=true});a.disabled=false;r.disabled=o.map(function(a){return!!a.disabled});u.stateChange(r);x.update()});u.on("tooltipShow",function(a){if(n)w(a,z.parentNode)});u.on("changeState",function(a){if(typeof a.disabled!=="undefined"){o.forEach(function(b,c){b.disabled=a.disabled[c]});r.disabled=a.disabled}x.update()})});return x}b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];u.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){u.tooltipHide(a)});u.on("tooltipHide",function(){if(n)a.tooltip.cleanup()});x.dispatch=u;x.bars=b;x.legend=e;x.xAxis=c;x.yAxis=d;d3.rebind(x,b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive");x.options=a.utils.optionsFunc.bind(x);x.margin=function(a){if(!arguments.length)return f;f.top=typeof a.top!="undefined"?a.top:f.top;f.right=typeof a.right!="undefined"?a.right:f.right;f.bottom=typeof a.bottom!="undefined"?a.bottom:f.bottom;f.left=typeof a.left!="undefined"?a.left:f.left;return x};x.width=function(a){if(!arguments.length)return h;h=a;return x};x.height=function(a){if(!arguments.length)return i;i=a;return x};x.color=function(b){if(!arguments.length)return g;g=a.utils.getColor(b);e.color(g);return x};x.showLegend=function(a){if(!arguments.length)return j;j=a;return x};x.showXAxis=function(a){if(!arguments.length)return k;k=a;return x};x.showYAxis=function(a){if(!arguments.length)return l;l=a;return x};x.rightAlignYAxis=function(a){if(!arguments.length)return m;m=a;d.orient(a?"right":"left");return x};x.tooltips=function(a){if(!arguments.length)return n;n=a;return x};x.tooltipContent=function(a){if(!arguments.length)return o;o=a;return x};x.state=function(a){if(!arguments.length)return r;r=a;return x};x.defaultState=function(a){if(!arguments.length)return s;s=a;return x};x.noData=function(a){if(!arguments.length)return t;t=a;return x};x.transitionDuration=function(a){if(!arguments.length)return v;v=a;return x};return x};a.models.indentedTree=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c=960,d=500,e=a.utils.defaultColor(),f=Math.floor(Math.random()*1e4),g=true,h=false,i="No Data Available.",j=20,k=[{key:"key",label:"Name",type:"text"}],l=null,m="images/grey-plus.png",n="images/grey-minus.png",o=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),p=function(a){return a.url};var q=0;function r(a){a.each(function(a){var b=1,c=d3.select(this);var e=d3.layout.tree().children(function(a){return a.values}).size([d,j]);r.update=function(){c.transition().duration(600).call(r)};if(!a[0])a[0]={key:i};var f=e.nodes(a[0]);var s=d3.select(this).selectAll("div").data([[f]]);var t=s.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree");var u=t.append("table");var v=s.select("table").attr("width","100%").attr("class",l);if(g){var w=u.append("thead");var x=w.append("tr");k.forEach(function(a){x.append("th").attr("width",a.width?a.width:"10%").style("text-align",a.type=="numeric"?"right":"left").append("span").text(a.label)})}var y=v.selectAll("tbody").data(function(a){return a});y.enter().append("tbody");b=d3.max(f,function(a){return a.depth});e.size([d,b*j]);var z=y.selectAll("tr").data(function(a){return a.filter(function(a){return h&&!a.children?h(a):true})},function(a,b){return a.id||(a.id||++q)});z.exit().remove();z.select("img.nv-treeicon").attr("src",C).classed("folded",D);var A=z.enter().append("tr");k.forEach(function(a,b){var c=A.append("td").style("padding-left",function(a){return(b?0:a.depth*j+12+(C(a)?0:16))+"px"},"important").style("text-align",a.type=="numeric"?"right":"left");if(b==0){c.append("img").classed("nv-treeicon",true).classed("nv-folded",D).attr("src",C).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(a){return C(a)?"inline-block":"none"}).on("click",B)}c.each(function(c){if(!b&&p(c))d3.select(this).append("a").attr("href",p).attr("class",d3.functor(a.classes)).append("span");else d3.select(this).append("span");d3.select(this).select("span").attr("class",d3.functor(a.classes)).text(function(b){return a.format?a.format(b):b[a.key]||"-"})});if(a.showCount){c.append("span").attr("class","nv-childrenCount");z.selectAll("span.nv-childrenCount").text(function(a){return a.values&&a.values.length||a._values&&a._values.length?"("+(a.values&&a.values.filter(function(a){return h?h(a):true}).length||a._values&&a._values.filter(function(a){return h?h(a):true}).length||0)+")":""})}});z.order().on("click",function(a){o.elementClick({row:this,data:a,pos:[a.x,a.y]})}).on("dblclick",function(a){o.elementDblclick({row:this,data:a,pos:[a.x,a.y]})}).on("mouseover",function(a){o.elementMouseover({row:this,data:a,pos:[a.x,a.y]})}).on("mouseout",function(a){o.elementMouseout({row:this,data:a,pos:[a.x,a.y]})});function B(a,b,c){d3.event.stopPropagation();if(d3.event.shiftKey&&!c){d3.event.shiftKey=false;a.values&&a.values.forEach(function(a){if(a.values||a._values){B(a,0,true)}});return true}if(!E(a)){return true}if(a.values){a._values=a.values;a.values=null}else{a.values=a._values;a._values=null}r.update()}function C(a){return a._values&&a._values.length?m:a.values&&a.values.length?n:""}function D(a){return a._values&&a._values.length}function E(a){var b=a.values||a._values;return b&&b.length}});return r}r.options=a.utils.optionsFunc.bind(r);r.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return r};r.width=function(a){if(!arguments.length)return c;c=a;return r};r.height=function(a){if(!arguments.length)return d;d=a;return r};r.color=function(b){if(!arguments.length)return e;e=a.utils.getColor(b);scatter.color(e);return r};r.id=function(a){if(!arguments.length)return f;f=a;return r};r.header=function(a){if(!arguments.length)return g;g=a;return r};r.noData=function(a){if(!arguments.length)return i;i=a;return r};r.filterZero=function(a){if(!arguments.length)return h;h=a;return r};r.columns=function(a){if(!arguments.length)return k;k=a;return r};r.tableClass=function(a){if(!arguments.length)return l;l=a;return r};r.iconOpen=function(a){if(!arguments.length)return m;m=a;return r};r.iconClose=function(a){if(!arguments.length)return n;n=a;return r};r.getUrl=function(a){if(!arguments.length)return p;p=a;return r};return r};a.models.legend=function(){"use strict";var b={top:5,right:0,bottom:5,left:0},c=400,d=20,e=function(a){return a.key},f=a.utils.defaultColor(),g=true,h=true,i=true,j=false,k=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");function l(m){m.each(function(l){var m=c-b.left-b.right,n=d3.select(this);var o=n.selectAll("g.nv-legend").data([l]);var p=o.enter().append("g").attr("class","nvd3 nv-legend").append("g");var q=o.select("g");o.attr("transform","translate("+b.left+","+b.top+")");var r=q.selectAll(".nv-series").data(function(a){return a});var s=r.enter().append("g").attr("class","nv-series").on("mouseover",function(a,b){k.legendMouseover(a,b)}).on("mouseout",function(a,b){k.legendMouseout(a,b)}).on("click",function(a,b){k.legendClick(a,b);if(i){if(j){l.forEach(function(a){a.disabled=true});a.disabled=false}else{a.disabled=!a.disabled;if(l.every(function(a){return a.disabled})){l.forEach(function(a){a.disabled=false})}}k.stateChange({disabled:l.map(function(a){return!!a.disabled})})}}).on("dblclick",function(a,b){k.legendDblclick(a,b);if(i){l.forEach(function(a){a.disabled=true});a.disabled=false;k.stateChange({disabled:l.map(function(a){return!!a.disabled})})}});s.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);s.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");r.classed("disabled",function(a){return a.disabled});r.exit().remove();r.select("circle").style("fill",function(a,b){return a.color||f(a,b)}).style("stroke",function(a,b){return a.color||f(a,b)});r.select("text").text(e);if(g){var t=[];r.each(function(b,c){var d=d3.select(this).select("text");var e;try{e=d.getComputedTextLength();if(e<=0)throw Error()}catch(f){e=a.utils.calcApproxTextWidth(d)}t.push(e+28)});var u=0;var v=0;var w=[];while(v<m&&u<t.length){w[u]=t[u];v+=t[u++]}if(u===0)u=1;while(v>m&&u>1){w=[];u--;for(var x=0;x<t.length;x++){if(t[x]>(w[x%u]||0))w[x%u]=t[x]}v=w.reduce(function(a,b,c,d){return a+b})}var y=[];for(var z=0,A=0;z<u;z++){y[z]=A;A+=w[z]}r.attr("transform",function(a,b){return"translate("+y[b%u]+","+(5+Math.floor(b/u)*20)+")"});if(h){q.attr("transform","translate("+(c-b.right-v)+","+b.top+")")}else{q.attr("transform","translate(0"+","+b.top+")")}d=b.top+b.bottom+Math.ceil(t.length/u)*20}else{var B=5,C=5,D=0,E;r.attr("transform",function(a,d){var e=d3.select(this).select("text").node().getComputedTextLength()+28;E=C;if(c<b.left+b.right+E+e){C=E=5;B+=20}C+=e;if(C>D)D=C;return"translate("+E+","+B+")"});q.attr("transform","translate("+(c-b.right-D)+","+b.top+")");d=b.top+b.bottom+B+15}});return l}l.dispatch=k;l.options=a.utils.optionsFunc.bind(l);l.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return l};l.width=function(a){if(!arguments.length)return c;c=a;return l};l.height=function(a){if(!arguments.length)return d;d=a;return l};l.key=function(a){if(!arguments.length)return e;e=a;return l};l.color=function(b){if(!arguments.length)return f;f=a.utils.getColor(b);return l};l.align=function(a){if(!arguments.length)return g;g=a;return l};l.rightAlign=function(a){if(!arguments.length)return h;h=a;return l};l.updateState=function(a){if(!arguments.length)return i;i=a;return l};l.radioButtonMode=function(a){if(!arguments.length)return j;j=a;return l};return l};a.models.line=function(){"use strict";var b=a.models.scatter();var c={top:0,right:0,bottom:0,left:0},d=960,e=500,f=a.utils.defaultColor(),g=function(a){return a.x},h=function(a){return a.y},i=function(a,b){return!isNaN(h(a,b))&&h(a,b)!==null},j=function(a){return a.area},k=false,l,m,n="linear";b.size(16).sizeDomain([16,256]);var o,p;function q(r){r.each(function(q){var r=d-c.left-c.right,s=e-c.top-c.bottom,t=d3.select(this);l=b.xScale();m=b.yScale();o=o||l;p=p||m;var u=t.selectAll("g.nv-wrap.nv-line").data([q]);var v=u.enter().append("g").attr("class","nvd3 nv-wrap nv-line");var w=v.append("defs");var x=v.append("g");var y=u.select("g");x.append("g").attr("class","nv-groups");x.append("g").attr("class","nv-scatterWrap");u.attr("transform","translate("+c.left+","+c.top+")");b.width(r).height(s);var z=u.select(".nv-scatterWrap");z.transition().call(b);w.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");u.select("#nv-edge-clip-"+b.id()+" rect").attr("width",r).attr("height",s>0?s:0);y.attr("clip-path",k?"url(#nv-edge-clip-"+b.id()+")":"");z.attr("clip-path",k?"url(#nv-edge-clip-"+b.id()+")":"");var A=u.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});A.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);A.exit().remove();A.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return f(a,b)}).style("stroke",function(a,b){return f(a,b)});A.transition().style("stroke-opacity",1).style("fill-opacity",.5);var B=A.selectAll("path.nv-area").data(function(a){return j(a)?[a]:[]});B.enter().append("path").attr("class","nv-area").attr("d",function(b){return d3.svg.area().interpolate(n).defined(i).x(function(b,c){return a.utils.NaNtoZero(o(g(b,c)))}).y0(function(b,c){return a.utils.NaNtoZero(p(h(b,c)))}).y1(function(a,b){return p(m.domain()[0]<=0?m.domain()[1]>=0?0:m.domain()[1]:m.domain()[0])}).apply(this,[b.values])});A.exit().selectAll("path.nv-area").remove();B.transition().attr("d",function(b){return d3.svg.area().interpolate(n).defined(i).x(function(b,c){return a.utils.NaNtoZero(l(g(b,c)))}).y0(function(b,c){return a.utils.NaNtoZero(m(h(b,c)))}).y1(function(a,b){return m(m.domain()[0]<=0?m.domain()[1]>=0?0:m.domain()[1]:m.domain()[0])}).apply(this,[b.values])});var C=A.selectAll("path.nv-line").data(function(a){return[a.values]});C.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(n).defined(i).x(function(b,c){return a.utils.NaNtoZero(o(g(b,c)))}).y(function(b,c){return a.utils.NaNtoZero(p(h(b,c)))}));C.transition().attr("d",d3.svg.line().interpolate(n).defined(i).x(function(b,c){return a.utils.NaNtoZero(l(g(b,c)))}).y(function(b,c){return a.utils.NaNtoZero(m(h(b,c)))}));o=l.copy();p=m.copy()});return q}q.dispatch=b.dispatch;q.scatter=b;d3.rebind(q,b,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights");q.options=a.utils.optionsFunc.bind(q);q.margin=function(a){if(!arguments.length)return c;c.top=typeof a.top!="undefined"?a.top:c.top;c.right=typeof a.right!="undefined"?a.right:c.right;c.bottom=typeof a.bottom!="undefined"?a.bottom:c.bottom;c.left=typeof a.left!="undefined"?a.left:c.left;return q};q.width=function(a){if(!arguments.length)return d;d=a;return q};q.height=function(a){if(!arguments.length)return e;e=a;return q};q.x=function(a){if(!arguments.length)return g;g=a;b.x(a);return q};q.y=function(a){if(!arguments.length)return h;h=a;b.y(a);return q};q.clipEdge=function(a){if(!arguments.length)return k;k=a;return q};q.color=function(c){if(!arguments.length)return f;f=a.utils.getColor(c);b.color(f);return q};q.interpolate=function(a){if(!arguments.length)return n;n=a;return q};q.defined=function(a){if(!arguments.length)return i;i=a;return q};q.isArea=function(a){if(!arguments.length)return j;j=d3.functor(a);return q};return q};a.models.lineChart=function(){"use strict";var b=a.models.line(),c=a.models.axis(),d=a.models.axis(),e=a.models.legend(),f=a.interactiveGuideline();var g={top:30,right:20,bottom:50,left:60},h=a.utils.defaultColor(),i=null,j=null,k=true,l=true,m=true,n=false,o=false,p=true,q=function(a,b,c,d,e){return"<h3>"+a+"</h3>"+"<p>"+c+" at "+b+"</p>"},r,s,t={},u=null,v="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),x=250;c.orient("bottom").tickPadding(7);d.orient(n?"right":"left");var y=function(e,f){var g=e.pos[0]+(f.offsetLeft||0),h=e.pos[1]+(f.offsetTop||0),i=c.tickFormat()(b.x()(e.point,e.pointIndex)),j=d.tickFormat()(b.y()(e.point,e.pointIndex)),k=q(e.series.key,i,j,e,z);a.tooltip.show([g,h],k,null,null,f)};function z(q){q.each(function(q){var A=d3.select(this),B=this;var C=(i||parseInt(A.style("width"))||960)-g.left-g.right,D=(j||parseInt(A.style("height"))||400)-g.top-g.bottom;z.update=function(){A.transition().duration(x).call(z)};z.container=this;t.disabled=q.map(function(a){return!!a.disabled});if(!u){var E;u={};for(E in t){if(t[E]instanceof Array)u[E]=t[E].slice(0);else u[E]=t[E]}}if(!q||!q.length||!q.filter(function(a){return a.values.length}).length){var F=A.selectAll(".nv-noData").data([v]);F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");F.attr("x",g.left+C/2).attr("y",g.top+D/2).text(function(a){return a});return z}else{A.selectAll(".nv-noData").remove()}r=b.xScale();s=b.yScale();var G=A.selectAll("g.nv-wrap.nv-lineChart").data([q]);var H=G.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g");var I=G.select("g");H.append("rect").style("opacity",0);H.append("g").attr("class","nv-x nv-axis");H.append("g").attr("class","nv-y nv-axis");H.append("g").attr("class","nv-linesWrap");H.append("g").attr("class","nv-legendWrap");H.append("g").attr("class","nv-interactive");I.select("rect").attr("width",C).attr("height",D>0?D:0);if(k){e.width(C);I.select(".nv-legendWrap").datum(q).call(e);if(g.top!=e.height()){g.top=e.height();D=(j||parseInt(A.style("height"))||400)-g.top-g.bottom}G.select(".nv-legendWrap").attr("transform","translate(0,"+-g.top+")")}G.attr("transform","translate("+g.left+","+g.top+")");if(n){I.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)")}if(o){f.width(C).height(D).margin({left:g.left,top:g.top}).svgContainer(A).xScale(r);G.select(".nv-interactive").call(f)}b.width(C).height(D).color(q.map(function(a,b){return a.color||h(a,b)}).filter(function(a,b){return!q[b].disabled}));var J=I.select(".nv-linesWrap").datum(q.filter(function(a){return!a.disabled}));J.transition().call(b);if(l){c.scale(r).ticks(C/100).tickSize(-D,0);I.select(".nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")");I.select(".nv-x.nv-axis").transition().call(c)}if(m){d.scale(s).ticks(D/36).tickSize(-C,0);I.select(".nv-y.nv-axis").transition().call(d)}e.dispatch.on("stateChange",function(a){t=a;w.stateChange(t);z.update()});f.dispatch.on("elementMousemove",function(e){b.clearHighlights();var i,j,k,l=[];q.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(c,d){j=a.interactiveBisect(c.values,e.pointXValue,z.x());b.highlightPoint(d,j,true);var f=c.values[j];if(typeof f==="undefined")return;if(typeof i==="undefined")i=f;if(typeof k==="undefined")k=z.xScale()(z.x()(f,j));l.push({key:c.key,value:z.y()(f,j),color:h(c,c.seriesIndex)})});if(l.length>2){var m=z.yScale().invert(e.mouseY);var n=Math.abs(z.yScale().domain()[0]-z.yScale().domain()[1]);var o=.03*n;var r=a.nearestValueIndex(l.map(function(a){return a.value}),m,o);if(r!==null)l[r].highlight=true}var s=c.tickFormat()(z.x()(i,j));f.tooltip.position({left:k+g.left,top:e.mouseY+g.top}).chartContainer(B.parentNode).enabled(p).valueFormatter(function(a,b){return d.tickFormat()(a)}).data({value:s,series:l})();f.renderGuideLine(k)});f.dispatch.on("elementMouseout",function(a){w.tooltipHide();b.clearHighlights()});w.on("tooltipShow",function(a){if(p)y(a,B.parentNode)});w.on("changeState",function(a){if(typeof a.disabled!=="undefined"&&q.length===a.disabled.length){q.forEach(function(b,c){b.disabled=a.disabled[c]});t.disabled=a.disabled}z.update()})});return z}b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+g.left,a.pos[1]+g.top];w.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});w.on("tooltipHide",function(){if(p)a.tooltip.cleanup()});z.dispatch=w;z.lines=b;z.legend=e;z.xAxis=c;z.yAxis=d;z.interactiveLayer=f;d3.rebind(z,b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate");z.options=a.utils.optionsFunc.bind(z);z.margin=function(a){if(!arguments.length)return g;g.top=typeof a.top!="undefined"?a.top:g.top;g.right=typeof a.right!="undefined"?a.right:g.right;g.bottom=typeof a.bottom!="undefined"?a.bottom:g.bottom;g.left=typeof a.left!="undefined"?a.left:g.left;return z};z.width=function(a){if(!arguments.length)return i;i=a;return z};z.height=function(a){if(!arguments.length)return j;j=a;return z};z.color=function(b){if(!arguments.length)return h;h=a.utils.getColor(b);e.color(h);return z};z.showLegend=function(a){if(!arguments.length)return k;k=a;return z};z.showXAxis=function(a){if(!arguments.length)return l;l=a;return z};z.showYAxis=function(a){if(!arguments.length)return m;m=a;return z};z.rightAlignYAxis=function(a){if(!arguments.length)return n;n=a;d.orient(a?"right":"left");return z};z.useInteractiveGuideline=function(a){if(!arguments.length)return o;o=a;if(a===true){z.interactive(false);z.useVoronoi(false)}return z};z.tooltips=function(a){if(!arguments.length)return p;p=a;return z};z.tooltipContent=function(a){if(!arguments.length)return q;q=a;return z};z.state=function(a){if(!arguments.length)return t;t=a;return z};z.defaultState=function(a){if(!arguments.length)return u;u=a;return z};z.noData=function(a){if(!arguments.length)return v;v=a;return z};z.transitionDuration=function(a){if(!arguments.length)return x;x=a;return z};return z};a.models.linePlusBarChart=function(){"use strict";var b=a.models.line(),c=a.models.historicalBar(),d=a.models.axis(),e=a.models.axis(),f=a.models.axis(),g=a.models.legend();var h={top:30,right:60,bottom:50,left:60},i=null,j=null,k=function(a){return a.x},l=function(a){return a.y},m=a.utils.defaultColor(),n=true,o=true,p=function(a,b,c,d,e){return"<h3>"+a+"</h3>"+"<p>"+c+" at "+b+"</p>"},q,r,s,t={},u=null,v="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");c.padData(true);b.clipEdge(false).padData(true);d.orient("bottom").tickPadding(7).highlightZero(false);e.orient("left");f.orient("right");var x=function(c,g){var h=c.pos[0]+(g.offsetLeft||0),i=c.pos[1]+(g.offsetTop||0),j=d.tickFormat()(b.x()(c.point,c.pointIndex)),k=(c.series.bar?e:f).tickFormat()(b.y()(c.point,c.pointIndex)),l=p(c.series.key,j,k,c,y);a.tooltip.show([h,i],l,c.value<0?"n":"s",null,g)};function y(a){a.each(function(a){var k=d3.select(this),l=this;var p=(i||parseInt(k.style("width"))||960)-h.left-h.right,z=(j||parseInt(k.style("height"))||400)-h.top-h.bottom;y.update=function(){k.transition().call(y)};t.disabled=a.map(function(a){return!!a.disabled});if(!u){var A;u={};for(A in t){if(t[A]instanceof Array)u[A]=t[A].slice(0);else u[A]=t[A]}}if(!a||!a.length||!a.filter(function(a){return a.values.length}).length){var B=k.selectAll(".nv-noData").data([v]);B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");B.attr("x",h.left+p/2).attr("y",h.top+z/2).text(function(a){return a});return y}else{k.selectAll(".nv-noData").remove()}var C=a.filter(function(a){return!a.disabled&&a.bar});var D=a.filter(function(a){return!a.bar});q=D.filter(function(a){return!a.disabled}).length&&D.filter(function(a){return!a.disabled})[0].values.length?b.xScale():c.xScale();r=c.yScale();s=b.yScale();var E=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([a]);var F=E.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g");var G=E.select("g");F.append("g").attr("class","nv-x nv-axis");F.append("g").attr("class","nv-y1 nv-axis");F.append("g").attr("class","nv-y2 nv-axis");F.append("g").attr("class","nv-barsWrap");F.append("g").attr("class","nv-linesWrap");F.append("g").attr("class","nv-legendWrap");if(n){g.width(p/2);G.select(".nv-legendWrap").datum(a.map(function(a){a.originalKey=a.originalKey===undefined?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");return a})).call(g);if(h.top!=g.height()){h.top=g.height();z=(j||parseInt(k.style("height"))||400)-h.top-h.bottom}G.select(".nv-legendWrap").attr("transform","translate("+p/2+","+-h.top+")")}E.attr("transform","translate("+h.left+","+h.top+")");b.width(p).height(z).color(a.map(function(a,b){return a.color||m(a,b)}).filter(function(b,c){return!a[c].disabled&&!a[c].bar}));c.width(p).height(z).color(a.map(function(a,b){return a.color||m(a,b)}).filter(function(b,c){return!a[c].disabled&&a[c].bar}));var H=G.select(".nv-barsWrap").datum(C.length?C:[{values:[]}]);var I=G.select(".nv-linesWrap").datum(D[0]&&!D[0].disabled?D:[{values:[]}]);d3.transition(H).call(c);d3.transition(I).call(b);d.scale(q).ticks(p/100).tickSize(-z,0);G.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")");d3.transition(G.select(".nv-x.nv-axis")).call(d);e.scale(r).ticks(z/36).tickSize(-p,0);d3.transition(G.select(".nv-y1.nv-axis")).style("opacity",C.length?1:0).call(e);f.scale(s).ticks(z/36).tickSize(C.length?0:-p,0);G.select(".nv-y2.nv-axis").style("opacity",D.length?1:0).attr("transform","translate("+p+",0)");d3.transition(G.select(".nv-y2.nv-axis")).call(f);g.dispatch.on("stateChange",function(a){t=a;w.stateChange(t);y.update()});w.on("tooltipShow",function(a){if(o)x(a,l.parentNode)});w.on("changeState",function(b){if(typeof b.disabled!=="undefined"){a.forEach(function(a,c){a.disabled=b.disabled[c]});t.disabled=b.disabled}y.update()})});return y}b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+h.left,a.pos[1]+h.top];w.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});c.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+h.left,a.pos[1]+h.top];w.tooltipShow(a)});c.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});w.on("tooltipHide",function(){if(o)a.tooltip.cleanup()});y.dispatch=w;y.legend=g;y.lines=b;y.bars=c;y.xAxis=d;y.y1Axis=e;y.y2Axis=f;d3.rebind(y,b,"defined","size","clipVoronoi","interpolate");y.options=a.utils.optionsFunc.bind(y);y.x=function(a){if(!arguments.length)return k;k=a;b.x(a);c.x(a);return y};y.y=function(a){if(!arguments.length)return l;l=a;b.y(a);c.y(a);return y};y.margin=function(a){if(!arguments.length)return h;h.top=typeof a.top!="undefined"?a.top:h.top;h.right=typeof a.right!="undefined"?a.right:h.right;h.bottom=typeof a.bottom!="undefined"?a.bottom:h.bottom;h.left=typeof a.left!="undefined"?a.left:h.left;return y};y.width=function(a){if(!arguments.length)return i;i=a;return y};y.height=function(a){if(!arguments.length)return j;j=a;return y};y.color=function(b){if(!arguments.length)return m;m=a.utils.getColor(b);g.color(m);return y};y.showLegend=function(a){if(!arguments.length)return n;n=a;return y};y.tooltips=function(a){if(!arguments.length)return o;o=a;return y};y.tooltipContent=function(a){if(!arguments.length)return p;p=a;
return y};y.state=function(a){if(!arguments.length)return t;t=a;return y};y.defaultState=function(a){if(!arguments.length)return u;u=a;return y};y.noData=function(a){if(!arguments.length)return v;v=a;return y};return y};a.models.lineWithFocusChart=function(){"use strict";var b=a.models.line(),c=a.models.line(),d=a.models.axis(),e=a.models.axis(),f=a.models.axis(),g=a.models.axis(),h=a.models.legend(),i=d3.svg.brush();var j={top:30,right:30,bottom:30,left:60},k={top:0,right:30,bottom:20,left:60},l=a.utils.defaultColor(),m=null,n=null,o=100,p,q,r,s,t=true,u=null,v=true,w=function(a,b,c,d,e){return"<h3>"+a+"</h3>"+"<p>"+c+" at "+b+"</p>"},x="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","brush"),z=250;b.clipEdge(true);c.interactive(false);d.orient("bottom").tickPadding(5);e.orient("left");f.orient("bottom").tickPadding(5);g.orient("left");var A=function(c,f){var g=c.pos[0]+(f.offsetLeft||0),h=c.pos[1]+(f.offsetTop||0),i=d.tickFormat()(b.x()(c.point,c.pointIndex)),j=e.tickFormat()(b.y()(c.point,c.pointIndex)),k=w(c.series.key,i,j,c,B);a.tooltip.show([g,h],k,null,null,f)};function B(a){a.each(function(a){var w=d3.select(this),C=this;var D=(m||parseInt(w.style("width"))||960)-j.left-j.right,E=(n||parseInt(w.style("height"))||400)-j.top-j.bottom-o,F=o-k.top-k.bottom;B.update=function(){w.transition().duration(z).call(B)};B.container=this;if(!a||!a.length||!a.filter(function(a){return a.values.length}).length){var G=w.selectAll(".nv-noData").data([x]);G.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");G.attr("x",j.left+D/2).attr("y",j.top+E/2).text(function(a){return a});return B}else{w.selectAll(".nv-noData").remove()}p=b.xScale();q=b.yScale();r=c.xScale();s=c.yScale();var H=w.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([a]);var I=H.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g");var J=H.select("g");I.append("g").attr("class","nv-legendWrap");var K=I.append("g").attr("class","nv-focus");K.append("g").attr("class","nv-x nv-axis");K.append("g").attr("class","nv-y nv-axis");K.append("g").attr("class","nv-linesWrap");var L=I.append("g").attr("class","nv-context");L.append("g").attr("class","nv-x nv-axis");L.append("g").attr("class","nv-y nv-axis");L.append("g").attr("class","nv-linesWrap");L.append("g").attr("class","nv-brushBackground");L.append("g").attr("class","nv-x nv-brush");if(t){h.width(D);J.select(".nv-legendWrap").datum(a).call(h);if(j.top!=h.height()){j.top=h.height();E=(n||parseInt(w.style("height"))||400)-j.top-j.bottom-o}J.select(".nv-legendWrap").attr("transform","translate(0,"+-j.top+")")}H.attr("transform","translate("+j.left+","+j.top+")");b.width(D).height(E).color(a.map(function(a,b){return a.color||l(a,b)}).filter(function(b,c){return!a[c].disabled}));c.defined(b.defined()).width(D).height(F).color(a.map(function(a,b){return a.color||l(a,b)}).filter(function(b,c){return!a[c].disabled}));J.select(".nv-context").attr("transform","translate(0,"+(E+j.bottom+k.top)+")");var M=J.select(".nv-context .nv-linesWrap").datum(a.filter(function(a){return!a.disabled}));d3.transition(M).call(c);d.scale(p).ticks(D/100).tickSize(-E,0);e.scale(q).ticks(E/36).tickSize(-D,0);J.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+E+")");i.x(r).on("brush",function(){var a=B.transitionDuration();B.transitionDuration(0);S();B.transitionDuration(a)});if(u)i.extent(u);var N=J.select(".nv-brushBackground").selectAll("g").data([u||i.extent()]);var O=N.enter().append("g");O.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",F);O.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",F);var P=J.select(".nv-x.nv-brush").call(i);P.selectAll("rect").attr("height",F);P.selectAll(".resize").append("path").attr("d",Q);S();f.scale(r).ticks(D/100).tickSize(-F,0);J.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")");d3.transition(J.select(".nv-context .nv-x.nv-axis")).call(f);g.scale(s).ticks(F/36).tickSize(-D,0);d3.transition(J.select(".nv-context .nv-y.nv-axis")).call(g);J.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")");h.dispatch.on("stateChange",function(a){B.update()});y.on("tooltipShow",function(a){if(v)A(a,C.parentNode)});function Q(a){var b=+(a=="e"),c=b?1:-1,d=F/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"Z"+"M"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function R(){if(!i.empty())i.extent(u);N.data([i.empty()?r.domain():u]).each(function(a,b){var c=r(a[0])-p.range()[0],d=p.range()[1]-r(a[1]);d3.select(this).select(".left").attr("width",c<0?0:c);d3.select(this).select(".right").attr("x",r(a[1])).attr("width",d<0?0:d)})}function S(){u=i.empty()?null:i.extent();var c=i.empty()?r.domain():i.extent();if(Math.abs(c[0]-c[1])<=1){return}y.brush({extent:c,brush:i});R();var f=J.select(".nv-focus .nv-linesWrap").datum(a.filter(function(a){return!a.disabled}).map(function(a,d){return{key:a.key,values:a.values.filter(function(a,d){return b.x()(a,d)>=c[0]&&b.x()(a,d)<=c[1]})}}));f.transition().duration(z).call(b);J.select(".nv-focus .nv-x.nv-axis").transition().duration(z).call(d);J.select(".nv-focus .nv-y.nv-axis").transition().duration(z).call(e)}});return B}b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+j.left,a.pos[1]+j.top];y.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){y.tooltipHide(a)});y.on("tooltipHide",function(){if(v)a.tooltip.cleanup()});B.dispatch=y;B.legend=h;B.lines=b;B.lines2=c;B.xAxis=d;B.yAxis=e;B.x2Axis=f;B.y2Axis=g;d3.rebind(B,b,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id");B.options=a.utils.optionsFunc.bind(B);B.x=function(a){if(!arguments.length)return b.x;b.x(a);c.x(a);return B};B.y=function(a){if(!arguments.length)return b.y;b.y(a);c.y(a);return B};B.margin=function(a){if(!arguments.length)return j;j.top=typeof a.top!="undefined"?a.top:j.top;j.right=typeof a.right!="undefined"?a.right:j.right;j.bottom=typeof a.bottom!="undefined"?a.bottom:j.bottom;j.left=typeof a.left!="undefined"?a.left:j.left;return B};B.margin2=function(a){if(!arguments.length)return k;k=a;return B};B.width=function(a){if(!arguments.length)return m;m=a;return B};B.height=function(a){if(!arguments.length)return n;n=a;return B};B.height2=function(a){if(!arguments.length)return o;o=a;return B};B.color=function(b){if(!arguments.length)return l;l=a.utils.getColor(b);h.color(l);return B};B.showLegend=function(a){if(!arguments.length)return t;t=a;return B};B.tooltips=function(a){if(!arguments.length)return v;v=a;return B};B.tooltipContent=function(a){if(!arguments.length)return w;w=a;return B};B.interpolate=function(a){if(!arguments.length)return b.interpolate();b.interpolate(a);c.interpolate(a);return B};B.noData=function(a){if(!arguments.length)return x;x=a;return B};B.xTickFormat=function(a){if(!arguments.length)return d.tickFormat();d.tickFormat(a);f.tickFormat(a);return B};B.yTickFormat=function(a){if(!arguments.length)return e.tickFormat();e.tickFormat(a);g.tickFormat(a);return B};B.brushExtent=function(a){if(!arguments.length)return u;u=a;return B};B.transitionDuration=function(a){if(!arguments.length)return z;z=a;return B};return B};a.models.linePlusBarWithFocusChart=function(){"use strict";var b=a.models.line(),c=a.models.line(),d=a.models.historicalBar(),e=a.models.historicalBar(),f=a.models.axis(),g=a.models.axis(),h=a.models.axis(),i=a.models.axis(),j=a.models.axis(),k=a.models.axis(),l=a.models.legend(),m=d3.svg.brush();var n={top:30,right:30,bottom:30,left:60},o={top:0,right:30,bottom:20,left:60},p=null,q=null,r=100,s=function(a){return a.x},t=function(a){return a.y},u=a.utils.defaultColor(),v=true,w,x=null,y=true,z=function(a,b,c,d,e){return"<h3>"+a+"</h3>"+"<p>"+c+" at "+b+"</p>"},A,B,C,D,E,F,G="No Data Available.",H=d3.dispatch("tooltipShow","tooltipHide","brush"),I=0;b.clipEdge(true);c.interactive(false);f.orient("bottom").tickPadding(5);h.orient("left");i.orient("right");g.orient("bottom").tickPadding(5);j.orient("left");k.orient("right");var J=function(c,d){if(w){c.pointIndex+=Math.ceil(w[0])}var e=c.pos[0]+(d.offsetLeft||0),g=c.pos[1]+(d.offsetTop||0),j=f.tickFormat()(b.x()(c.point,c.pointIndex)),k=(c.series.bar?h:i).tickFormat()(b.y()(c.point,c.pointIndex)),l=z(c.series.key,j,k,c,K);a.tooltip.show([e,g],l,c.value<0?"n":"s",null,d)};function K(a){a.each(function(a){var z=d3.select(this),L=this;var M=(p||parseInt(z.style("width"))||960)-n.left-n.right,N=(q||parseInt(z.style("height"))||400)-n.top-n.bottom-r,O=r-o.top-o.bottom;K.update=function(){z.transition().duration(I).call(K)};K.container=this;if(!a||!a.length||!a.filter(function(a){return a.values.length}).length){var P=z.selectAll(".nv-noData").data([G]);P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");P.attr("x",n.left+M/2).attr("y",n.top+N/2).text(function(a){return a});return K}else{z.selectAll(".nv-noData").remove()}var Q=a.filter(function(a){return!a.disabled&&a.bar});var R=a.filter(function(a){return!a.bar});A=d.xScale();B=g.scale();C=d.yScale();D=b.yScale();E=e.yScale();F=c.yScale();var S=a.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:s(a,b),y:t(a,b)}})});var T=a.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,b){return{x:s(a,b),y:t(a,b)}})});A.range([0,M]);B.domain(d3.extent(d3.merge(S.concat(T)),function(a){return a.x})).range([0,M]);var U=z.selectAll("g.nv-wrap.nv-linePlusBar").data([a]);var V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g");var W=U.select("g");V.append("g").attr("class","nv-legendWrap");var X=V.append("g").attr("class","nv-focus");X.append("g").attr("class","nv-x nv-axis");X.append("g").attr("class","nv-y1 nv-axis");X.append("g").attr("class","nv-y2 nv-axis");X.append("g").attr("class","nv-barsWrap");X.append("g").attr("class","nv-linesWrap");var Y=V.append("g").attr("class","nv-context");Y.append("g").attr("class","nv-x nv-axis");Y.append("g").attr("class","nv-y1 nv-axis");Y.append("g").attr("class","nv-y2 nv-axis");Y.append("g").attr("class","nv-barsWrap");Y.append("g").attr("class","nv-linesWrap");Y.append("g").attr("class","nv-brushBackground");Y.append("g").attr("class","nv-x nv-brush");if(v){l.width(M/2);W.select(".nv-legendWrap").datum(a.map(function(a){a.originalKey=a.originalKey===undefined?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");return a})).call(l);if(n.top!=l.height()){n.top=l.height();N=(q||parseInt(z.style("height"))||400)-n.top-n.bottom-r}W.select(".nv-legendWrap").attr("transform","translate("+M/2+","+-n.top+")")}U.attr("transform","translate("+n.left+","+n.top+")");e.width(M).height(O).color(a.map(function(a,b){return a.color||u(a,b)}).filter(function(b,c){return!a[c].disabled&&a[c].bar}));c.width(M).height(O).color(a.map(function(a,b){return a.color||u(a,b)}).filter(function(b,c){return!a[c].disabled&&!a[c].bar}));var Z=W.select(".nv-context .nv-barsWrap").datum(Q.length?Q:[{values:[]}]);var $=W.select(".nv-context .nv-linesWrap").datum(!R[0].disabled?R:[{values:[]}]);W.select(".nv-context").attr("transform","translate(0,"+(N+n.bottom+o.top)+")");Z.transition().call(e);$.transition().call(c);m.x(B).on("brush",eb);if(x)m.extent(x);var _=W.select(".nv-brushBackground").selectAll("g").data([x||m.extent()]);var ab=_.enter().append("g");ab.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",O);ab.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",O);var bb=W.select(".nv-x.nv-brush").call(m);bb.selectAll("rect").attr("height",O);bb.selectAll(".resize").append("path").attr("d",cb);g.ticks(M/100).tickSize(-O,0);W.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+E.range()[0]+")");W.select(".nv-context .nv-x.nv-axis").transition().call(g);j.scale(E).ticks(O/36).tickSize(-M,0);W.select(".nv-context .nv-y1.nv-axis").style("opacity",Q.length?1:0).attr("transform","translate(0,"+B.range()[0]+")");W.select(".nv-context .nv-y1.nv-axis").transition().call(j);k.scale(F).ticks(O/36).tickSize(Q.length?0:-M,0);W.select(".nv-context .nv-y2.nv-axis").style("opacity",R.length?1:0).attr("transform","translate("+B.range()[1]+",0)");W.select(".nv-context .nv-y2.nv-axis").transition().call(k);l.dispatch.on("stateChange",function(a){K.update()});H.on("tooltipShow",function(a){if(y)J(a,L.parentNode)});function cb(a){var b=+(a=="e"),c=b?1:-1,d=O/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"Z"+"M"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function db(){if(!m.empty())m.extent(x);_.data([m.empty()?B.domain():x]).each(function(a,b){var c=B(a[0])-B.range()[0],d=B.range()[1]-B(a[1]);d3.select(this).select(".left").attr("width",c<0?0:c);d3.select(this).select(".right").attr("x",B(a[1])).attr("width",d<0?0:d)})}function eb(){x=m.empty()?null:m.extent();w=m.empty()?B.domain():m.extent();H.brush({extent:w,brush:m});db();d.width(M).height(N).color(a.map(function(a,b){return a.color||u(a,b)}).filter(function(b,c){return!a[c].disabled&&a[c].bar}));b.width(M).height(N).color(a.map(function(a,b){return a.color||u(a,b)}).filter(function(b,c){return!a[c].disabled&&!a[c].bar}));var c=W.select(".nv-focus .nv-barsWrap").datum(!Q.length?[{values:[]}]:Q.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,b){return d.x()(a,b)>=w[0]&&d.x()(a,b)<=w[1]})}}));var e=W.select(".nv-focus .nv-linesWrap").datum(R[0].disabled?[{values:[]}]:R.map(function(a,c){return{key:a.key,values:a.values.filter(function(a,c){return b.x()(a,c)>=w[0]&&b.x()(a,c)<=w[1]})}}));if(Q.length){A=d.xScale()}else{A=b.xScale()}f.scale(A).ticks(M/100).tickSize(-N,0);f.domain([Math.ceil(w[0]),Math.floor(w[1])]);W.select(".nv-x.nv-axis").transition().duration(I).call(f);c.transition().duration(I).call(d);e.transition().duration(I).call(b);W.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+C.range()[0]+")");h.scale(C).ticks(N/36).tickSize(-M,0);W.select(".nv-focus .nv-y1.nv-axis").style("opacity",Q.length?1:0);i.scale(D).ticks(N/36).tickSize(Q.length?0:-M,0);W.select(".nv-focus .nv-y2.nv-axis").style("opacity",R.length?1:0).attr("transform","translate("+A.range()[1]+",0)");W.select(".nv-focus .nv-y1.nv-axis").transition().duration(I).call(h);W.select(".nv-focus .nv-y2.nv-axis").transition().duration(I).call(i)}eb()});return K}b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+n.left,a.pos[1]+n.top];H.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){H.tooltipHide(a)});d.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+n.left,a.pos[1]+n.top];H.tooltipShow(a)});d.dispatch.on("elementMouseout.tooltip",function(a){H.tooltipHide(a)});H.on("tooltipHide",function(){if(y)a.tooltip.cleanup()});K.dispatch=H;K.legend=l;K.lines=b;K.lines2=c;K.bars=d;K.bars2=e;K.xAxis=f;K.x2Axis=g;K.y1Axis=h;K.y2Axis=i;K.y3Axis=j;K.y4Axis=k;d3.rebind(K,b,"defined","size","clipVoronoi","interpolate");K.options=a.utils.optionsFunc.bind(K);K.x=function(a){if(!arguments.length)return s;s=a;b.x(a);d.x(a);return K};K.y=function(a){if(!arguments.length)return t;t=a;b.y(a);d.y(a);return K};K.margin=function(a){if(!arguments.length)return n;n.top=typeof a.top!="undefined"?a.top:n.top;n.right=typeof a.right!="undefined"?a.right:n.right;n.bottom=typeof a.bottom!="undefined"?a.bottom:n.bottom;n.left=typeof a.left!="undefined"?a.left:n.left;return K};K.width=function(a){if(!arguments.length)return p;p=a;return K};K.height=function(a){if(!arguments.length)return q;q=a;return K};K.color=function(b){if(!arguments.length)return u;u=a.utils.getColor(b);l.color(u);return K};K.showLegend=function(a){if(!arguments.length)return v;v=a;return K};K.tooltips=function(a){if(!arguments.length)return y;y=a;return K};K.tooltipContent=function(a){if(!arguments.length)return z;z=a;return K};K.noData=function(a){if(!arguments.length)return G;G=a;return K};K.brushExtent=function(a){if(!arguments.length)return x;x=a;return K};return K};a.models.multiBar=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c=960,d=500,e=d3.scale.ordinal(),f=d3.scale.linear(),g=Math.floor(Math.random()*1e4),h=function(a){return a.x},i=function(a){return a.y},j=[0],k=true,l=false,m="zero",n=a.utils.defaultColor(),o=false,p=null,q,r=1200,s,t,u,v,w=.1,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var y,z;function A(a){a.each(function(a){var A=c-b.left-b.right,B=d-b.top-b.bottom,C=d3.select(this);if(o&&a.length)o=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}];if(l)a=d3.layout.stack().offset(m).values(function(a){return a.values}).y(i)(!a.length&&o?o:a);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});if(l)a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){var b=a.values[c];b.size=Math.abs(b.y);if(b.y<0){b.y1=e;e=e-b.size}else{b.y1=b.size+d;d=d+b.size}})});var D=s&&t?[]:a.map(function(a){return a.values.map(function(a,b){return{x:h(a,b),y:i(a,b),y0:a.y0,y1:a.y1}})});e.domain(s||d3.merge(D).map(function(a){return a.x})).rangeBands(u||[0,A],w);f.domain(t||d3.extent(d3.merge(D).map(function(a){return l?a.y>0?a.y1:a.y1+a.y:a.y}).concat(j))).range(v||[B,0]);if(e.domain()[0]===e.domain()[1])e.domain()[0]?e.domain([e.domain()[0]-e.domain()[0]*.01,e.domain()[1]+e.domain()[1]*.01]):e.domain([-1,1]);if(f.domain()[0]===f.domain()[1])f.domain()[0]?f.domain([f.domain()[0]+f.domain()[0]*.01,f.domain()[1]-f.domain()[1]*.01]):f.domain([-1,1]);y=y||e;z=z||f;var E=C.selectAll("g.nv-wrap.nv-multibar").data([a]);var F=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar");var G=F.append("defs");var H=F.append("g");var I=E.select("g");H.append("g").attr("class","nv-groups");E.attr("transform","translate("+b.left+","+b.top+")");G.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect");E.select("#nv-edge-clip-"+g+" rect").attr("width",A).attr("height",B);I.attr("clip-path",k?"url(#nv-edge-clip-"+g+")":"");var J=E.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});J.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);J.exit().transition().selectAll("rect.nv-bar").delay(function(b,c){return c*r/a[0].values.length}).attr("y",function(a){return l?z(a.y0):z(0)}).attr("height",0).remove();J.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return n(a,b)}).style("stroke",function(a,b){return n(a,b)});J.transition().style("stroke-opacity",1).style("fill-opacity",.75);var K=J.selectAll("rect.nv-bar").data(function(b){return o&&!a.length?o.values:b.values});K.exit().remove();var L=K.enter().append("rect").attr("class",function(a,b){return i(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,c,d){return l?0:d*e.rangeBand()/a.length}).attr("y",function(a){return z(l?a.y0:0)}).attr("height",0).attr("width",e.rangeBand()/(l?1:a.length)).attr("transform",function(a,b){return"translate("+e(h(a,b))+",0)"});K.style("fill",function(a,b,c){return n(a,c,b)}).style("stroke",function(a,b,c){return n(a,c,b)}).on("mouseover",function(b,c){d3.select(this).classed("hover",true);x.elementMouseover({value:i(b,c),point:b,series:a[b.series],pos:[e(h(b,c))+e.rangeBand()*(l?a.length/2:b.series+.5)/a.length,f(i(b,c)+(l?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,c){d3.select(this).classed("hover",false);x.elementMouseout({value:i(b,c),point:b,series:a[b.series],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("click",function(b,c){x.elementClick({value:i(b,c),point:b,series:a[b.series],pos:[e(h(b,c))+e.rangeBand()*(l?a.length/2:b.series+.5)/a.length,f(i(b,c)+(l?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,c){x.elementDblClick({value:i(b,c),point:b,series:a[b.series],pos:[e(h(b,c))+e.rangeBand()*(l?a.length/2:b.series+.5)/a.length,f(i(b,c)+(l?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});K.attr("class",function(a,b){return i(a,b)<0?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(a,b){return"translate("+e(h(a,b))+",0)"});if(p){if(!q)q=a.map(function(){return true});K.style("fill",function(a,b,c){return d3.rgb(p(a,b)).darker(q.map(function(a,b){return b}).filter(function(a,b){return!q[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(p(a,b)).darker(q.map(function(a,b){return b}).filter(function(a,b){return!q[b]})[c]).toString()})}if(l)K.transition().delay(function(b,c){return c*r/a[0].values.length}).attr("y",function(a,b){return f(l?a.y1:0)}).attr("height",function(a,b){return Math.max(Math.abs(f(a.y+(l?a.y0:0))-f(l?a.y0:0)),1)}).attr("x",function(b,c){return l?0:b.series*e.rangeBand()/a.length}).attr("width",e.rangeBand()/(l?1:a.length));else K.transition().delay(function(b,c){return c*r/a[0].values.length}).attr("x",function(b,c){return b.series*e.rangeBand()/a.length}).attr("width",e.rangeBand()/a.length).attr("y",function(a,b){return i(a,b)<0?f(0):f(0)-f(i(a,b))<1?f(0)-1:f(i(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(f(i(a,b))-f(0)),1)||0});y=e.copy();z=f.copy()});return A}A.dispatch=x;A.options=a.utils.optionsFunc.bind(A);A.x=function(a){if(!arguments.length)return h;h=a;return A};A.y=function(a){if(!arguments.length)return i;i=a;return A};A.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return A};A.width=function(a){if(!arguments.length)return c;c=a;return A};A.height=function(a){if(!arguments.length)return d;d=a;return A};A.xScale=function(a){if(!arguments.length)return e;e=a;return A};A.yScale=function(a){if(!arguments.length)return f;f=a;return A};A.xDomain=function(a){if(!arguments.length)return s;s=a;return A};A.yDomain=function(a){if(!arguments.length)return t;t=a;return A};A.xRange=function(a){if(!arguments.length)return u;u=a;return A};A.yRange=function(a){if(!arguments.length)return v;v=a;return A};A.forceY=function(a){if(!arguments.length)return j;j=a;return A};A.stacked=function(a){if(!arguments.length)return l;l=a;return A};A.stackOffset=function(a){if(!arguments.length)return m;m=a;return A};A.clipEdge=function(a){if(!arguments.length)return k;k=a;return A};A.color=function(b){if(!arguments.length)return n;n=a.utils.getColor(b);return A};A.barColor=function(b){if(!arguments.length)return p;p=a.utils.getColor(b);return A};A.disabled=function(a){if(!arguments.length)return q;q=a;return A};A.id=function(a){if(!arguments.length)return g;g=a;return A};A.hideable=function(a){if(!arguments.length)return o;o=a;return A};A.delay=function(a){if(!arguments.length)return r;r=a;return A};A.groupSpacing=function(a){if(!arguments.length)return w;w=a;return A};return A};a.models.multiBarChart=function(){"use strict";var b=a.models.multiBar(),c=a.models.axis(),d=a.models.axis(),e=a.models.legend(),f=a.models.legend();var g={top:30,right:20,bottom:50,left:60},h=null,i=null,j=a.utils.defaultColor(),k=true,l=true,m=true,n=true,o=false,p=true,q=false,r=0,s=true,t=function(a,b,c,d,e){return"<h3>"+a+"</h3>"+"<p>"+c+" on "+b+"</p>"},u,v,w={stacked:false},x=null,y="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),A=function(){return k?180:0},B=250;b.stacked(false);c.orient("bottom").tickPadding(7).highlightZero(true).showMaxMin(false).tickFormat(function(a){return a});d.orient(o?"right":"left").tickFormat(d3.format(",.1f"));f.updateState(false);var C=function(e,f){var g=e.pos[0]+(f.offsetLeft||0),h=e.pos[1]+(f.offsetTop||0),i=c.tickFormat()(b.x()(e.point,e.pointIndex)),j=d.tickFormat()(b.y()(e.point,e.pointIndex)),k=t(e.series.key,i,j,e,D);a.tooltip.show([g,h],k,e.value<0?"n":"s",null,f)};function D(a){a.each(function(a){var t=d3.select(this),E=this;var F=(h||parseInt(t.style("width"))||960)-g.left-g.right,G=(i||parseInt(t.style("height"))||400)-g.top-g.bottom;D.update=function(){t.transition().duration(B).call(D)};D.container=this;w.disabled=a.map(function(a){return!!a.disabled});if(!x){var H;x={};for(H in w){if(w[H]instanceof Array)x[H]=w[H].slice(0);else x[H]=w[H]}}if(!a||!a.length||!a.filter(function(a){return a.values.length}).length){var I=t.selectAll(".nv-noData").data([y]);I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");I.attr("x",g.left+F/2).attr("y",g.top+G/2).text(function(a){return a});return D}else{t.selectAll(".nv-noData").remove()}u=b.xScale();v=b.yScale();var J=t.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([a]);var K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");var L=J.select("g");K.append("g").attr("class","nv-x nv-axis");K.append("g").attr("class","nv-y nv-axis");K.append("g").attr("class","nv-barsWrap");K.append("g").attr("class","nv-legendWrap");K.append("g").attr("class","nv-controlsWrap");if(l){e.width(F-A());if(b.barColor())a.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(b*1.5).toString()});L.select(".nv-legendWrap").datum(a).call(e);if(g.top!=e.height()){g.top=e.height();G=(i||parseInt(t.style("height"))||400)-g.top-g.bottom}L.select(".nv-legendWrap").attr("transform","translate("+A()+","+-g.top+")")}if(k){var M=[{key:"Grouped",disabled:b.stacked()},{key:"Stacked",disabled:!b.stacked()}];f.width(A()).color(["#444","#444","#444"]);L.select(".nv-controlsWrap").datum(M).attr("transform","translate(0,"+-g.top+")").call(f)}J.attr("transform","translate("+g.left+","+g.top+")");if(o){L.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)")}b.disabled(a.map(function(a){return a.disabled})).width(F).height(G).color(a.map(function(a,b){return a.color||j(a,b)}).filter(function(b,c){return!a[c].disabled}));var N=L.select(".nv-barsWrap").datum(a.filter(function(a){return!a.disabled}));N.transition().call(b);if(m){c.scale(u).ticks(F/100).tickSize(-G,0);L.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")");L.select(".nv-x.nv-axis").transition().call(c);var O=L.select(".nv-x.nv-axis > g").selectAll("g");O.selectAll("line, text").style("opacity",1);if(q){var P=function(a,b){return"translate("+a+","+b+")"};var Q=5,R=17;O.selectAll("text").attr("transform",function(a,b,c){return P(0,c%2==0?Q:R)});var S=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;L.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return P(0,b===0||S%2!==0?R:Q)})}if(p)O.filter(function(b,c){return c%Math.ceil(a[0].values.length/(F/100))!==0}).selectAll("text, line").style("opacity",0);if(r)O.selectAll(".tick text").attr("transform","rotate("+r+" 0,0)").style("text-anchor",r>0?"start":"end");L.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}if(n){d.scale(v).ticks(G/36).tickSize(-F,0);L.select(".nv-y.nv-axis").transition().call(d)}e.dispatch.on("stateChange",function(a){w=a;z.stateChange(w);D.update()});f.dispatch.on("legendClick",function(a,c){if(!a.disabled)return;M=M.map(function(a){a.disabled=true;return a});a.disabled=false;switch(a.key){case"Grouped":b.stacked(false);break;case"Stacked":b.stacked(true);break}w.stacked=b.stacked();z.stateChange(w);D.update()});z.on("tooltipShow",function(a){if(s)C(a,E.parentNode)});z.on("changeState",function(c){if(typeof c.disabled!=="undefined"){a.forEach(function(a,b){a.disabled=c.disabled[b]});w.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);w.stacked=c.stacked}D.update()})});return D}b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+g.left,a.pos[1]+g.top];z.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){z.tooltipHide(a)});z.on("tooltipHide",function(){if(s)a.tooltip.cleanup()});D.dispatch=z;D.multibar=b;D.legend=e;D.xAxis=c;D.yAxis=d;d3.rebind(D,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing");D.options=a.utils.optionsFunc.bind(D);D.margin=function(a){if(!arguments.length)return g;g.top=typeof a.top!="undefined"?a.top:g.top;g.right=typeof a.right!="undefined"?a.right:g.right;g.bottom=typeof a.bottom!="undefined"?a.bottom:g.bottom;g.left=typeof a.left!="undefined"?a.left:g.left;return D};D.width=function(a){if(!arguments.length)return h;h=a;return D};D.height=function(a){if(!arguments.length)return i;i=a;return D};D.color=function(b){if(!arguments.length)return j;j=a.utils.getColor(b);e.color(j);return D};D.showControls=function(a){if(!arguments.length)return k;k=a;return D};D.showLegend=function(a){if(!arguments.length)return l;l=a;return D};D.showXAxis=function(a){if(!arguments.length)return m;m=a;return D};D.showYAxis=function(a){if(!arguments.length)return n;n=a;return D};D.rightAlignYAxis=function(a){if(!arguments.length)return o;o=a;d.orient(a?"right":"left");return D};D.reduceXTicks=function(a){if(!arguments.length)return p;p=a;return D};D.rotateLabels=function(a){if(!arguments.length)return r;r=a;return D};D.staggerLabels=function(a){if(!arguments.length)return q;q=a;return D};D.tooltip=function(a){if(!arguments.length)return t;t=a;return D};D.tooltips=function(a){if(!arguments.length)return s;s=a;return D};D.tooltipContent=function(a){if(!arguments.length)return t;t=a;return D};D.state=function(a){if(!arguments.length)return w;w=a;return D};D.defaultState=function(a){if(!arguments.length)return x;x=a;return D};D.noData=function(a){if(!arguments.length)return y;y=a;return D};D.transitionDuration=function(a){if(!arguments.length)return B;B=a;return D};return D};a.models.multiBarHorizontal=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c=960,d=500,e=Math.floor(Math.random()*1e4),f=d3.scale.ordinal(),g=d3.scale.linear(),h=function(a){return a.x},i=function(a){return a.y},j=[0],k=a.utils.defaultColor(),l=null,m,n=false,o=false,p=false,q=60,r=d3.format(",.2f"),s=1200,t,u,v,w,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var y,z;function A(a){a.each(function(a){var e=c-b.left-b.right,s=d-b.top-b.bottom,A=d3.select(this);if(n)a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(i)(a);a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});if(n)a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){var b=a.values[c];b.size=Math.abs(b.y);if(b.y<0){b.y1=e-b.size;e=e-b.size}else{b.y1=d;d=d+b.size}})});var B=t&&u?[]:a.map(function(a){return a.values.map(function(a,b){return{x:h(a,b),y:i(a,b),y0:a.y0,y1:a.y1}})});f.domain(t||d3.merge(B).map(function(a){return a.x})).rangeBands(v||[0,s],.1);g.domain(u||d3.extent(d3.merge(B).map(function(a){return n?a.y>0?a.y1+a.y:a.y1:a.y}).concat(j)));if(o&&!n)g.range(w||[g.domain()[0]<0?q:0,e-(g.domain()[1]>0?q:0)]);else g.range(w||[0,e]);y=y||f;z=z||d3.scale.linear().domain(g.domain()).range([g(0),g(0)]);var C=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);var D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");var E=D.append("defs");var F=D.append("g");var G=C.select("g");F.append("g").attr("class","nv-groups");C.attr("transform","translate("+b.left+","+b.top+")");var H=C.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});H.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);H.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();H.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return k(a,b)
}).style("stroke",function(a,b){return k(a,b)});H.transition().style("stroke-opacity",1).style("fill-opacity",.75);var I=H.selectAll("g.nv-bar").data(function(a){return a.values});I.exit().remove();var J=I.enter().append("g").attr("transform",function(b,c,d){return"translate("+z(n?b.y0:0)+","+(n?0:d*f.rangeBand()/a.length+f(h(b,c)))+")"});J.append("rect").attr("width",0).attr("height",f.rangeBand()/(n?1:a.length));I.on("mouseover",function(b,c){d3.select(this).classed("hover",true);x.elementMouseover({value:i(b,c),point:b,series:a[b.series],pos:[g(i(b,c)+(n?b.y0:0)),f(h(b,c))+f.rangeBand()*(n?a.length/2:b.series+.5)/a.length],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,c){d3.select(this).classed("hover",false);x.elementMouseout({value:i(b,c),point:b,series:a[b.series],pointIndex:c,seriesIndex:b.series,e:d3.event})}).on("click",function(b,c){x.elementClick({value:i(b,c),point:b,series:a[b.series],pos:[f(h(b,c))+f.rangeBand()*(n?a.length/2:b.series+.5)/a.length,g(i(b,c)+(n?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,c){x.elementDblClick({value:i(b,c),point:b,series:a[b.series],pos:[f(h(b,c))+f.rangeBand()*(n?a.length/2:b.series+.5)/a.length,g(i(b,c)+(n?b.y0:0))],pointIndex:c,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});J.append("text");if(o&&!n){I.select("text").attr("text-anchor",function(a,b){return i(a,b)<0?"end":"start"}).attr("y",f.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){return r(i(a,b))});I.transition().select("text").attr("x",function(a,b){return i(a,b)<0?-4:g(i(a,b))-g(0)+4})}else{I.selectAll("text").text("")}if(p&&!n){J.append("text").classed("nv-bar-label",true);I.select("text.nv-bar-label").attr("text-anchor",function(a,b){return i(a,b)<0?"start":"end"}).attr("y",f.rangeBand()/(a.length*2)).attr("dy",".32em").text(function(a,b){return h(a,b)});I.transition().select("text.nv-bar-label").attr("x",function(a,b){return i(a,b)<0?g(0)-g(i(a,b))+4:-4})}else{I.selectAll("text.nv-bar-label").text("")}I.attr("class",function(a,b){return i(a,b)<0?"nv-bar negative":"nv-bar positive"});if(l){if(!m)m=a.map(function(){return true});I.style("fill",function(a,b,c){return d3.rgb(l(a,b)).darker(m.map(function(a,b){return b}).filter(function(a,b){return!m[b]})[c]).toString()}).style("stroke",function(a,b,c){return d3.rgb(l(a,b)).darker(m.map(function(a,b){return b}).filter(function(a,b){return!m[b]})[c]).toString()})}if(n)I.transition().attr("transform",function(a,b){return"translate("+g(a.y1)+","+f(h(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(g(i(a,b)+a.y0)-g(a.y0))}).attr("height",f.rangeBand());else I.transition().attr("transform",function(b,c){return"translate("+(i(b,c)<0?g(i(b,c)):g(0))+","+(b.series*f.rangeBand()/a.length+f(h(b,c)))+")"}).select("rect").attr("height",f.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(g(i(a,b))-g(0)),1)});y=f.copy();z=g.copy()});return A}A.dispatch=x;A.options=a.utils.optionsFunc.bind(A);A.x=function(a){if(!arguments.length)return h;h=a;return A};A.y=function(a){if(!arguments.length)return i;i=a;return A};A.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return A};A.width=function(a){if(!arguments.length)return c;c=a;return A};A.height=function(a){if(!arguments.length)return d;d=a;return A};A.xScale=function(a){if(!arguments.length)return f;f=a;return A};A.yScale=function(a){if(!arguments.length)return g;g=a;return A};A.xDomain=function(a){if(!arguments.length)return t;t=a;return A};A.yDomain=function(a){if(!arguments.length)return u;u=a;return A};A.xRange=function(a){if(!arguments.length)return v;v=a;return A};A.yRange=function(a){if(!arguments.length)return w;w=a;return A};A.forceY=function(a){if(!arguments.length)return j;j=a;return A};A.stacked=function(a){if(!arguments.length)return n;n=a;return A};A.color=function(b){if(!arguments.length)return k;k=a.utils.getColor(b);return A};A.barColor=function(b){if(!arguments.length)return l;l=a.utils.getColor(b);return A};A.disabled=function(a){if(!arguments.length)return m;m=a;return A};A.id=function(a){if(!arguments.length)return e;e=a;return A};A.delay=function(a){if(!arguments.length)return s;s=a;return A};A.showValues=function(a){if(!arguments.length)return o;o=a;return A};A.showBarLabels=function(a){if(!arguments.length)return p;p=a;return A};A.valueFormat=function(a){if(!arguments.length)return r;r=a;return A};A.valuePadding=function(a){if(!arguments.length)return q;q=a;return A};return A};a.models.multiBarHorizontalChart=function(){"use strict";var b=a.models.multiBarHorizontal(),c=a.models.axis(),d=a.models.axis(),e=a.models.legend().height(30),f=a.models.legend().height(30);var g={top:30,right:20,bottom:50,left:60},h=null,i=null,j=a.utils.defaultColor(),k=true,l=true,m=true,n=true,o=false,p=true,q=function(a,b,c,d,e){return"<h3>"+a+" - "+b+"</h3>"+"<p>"+c+"</p>"},r,s,t={stacked:o},u=null,v="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),x=function(){return k?180:0},y=250;b.stacked(o);c.orient("left").tickPadding(5).highlightZero(false).showMaxMin(false).tickFormat(function(a){return a});d.orient("bottom").tickFormat(d3.format(",.1f"));f.updateState(false);var z=function(e,f){var g=e.pos[0]+(f.offsetLeft||0),h=e.pos[1]+(f.offsetTop||0),i=c.tickFormat()(b.x()(e.point,e.pointIndex)),j=d.tickFormat()(b.y()(e.point,e.pointIndex)),k=q(e.series.key,i,j,e,A);a.tooltip.show([g,h],k,e.value<0?"e":"w",null,f)};function A(a){a.each(function(a){var o=d3.select(this),q=this;var B=(h||parseInt(o.style("width"))||960)-g.left-g.right,C=(i||parseInt(o.style("height"))||400)-g.top-g.bottom;A.update=function(){o.transition().duration(y).call(A)};A.container=this;t.disabled=a.map(function(a){return!!a.disabled});if(!u){var D;u={};for(D in t){if(t[D]instanceof Array)u[D]=t[D].slice(0);else u[D]=t[D]}}if(!a||!a.length||!a.filter(function(a){return a.values.length}).length){var E=o.selectAll(".nv-noData").data([v]);E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");E.attr("x",g.left+B/2).attr("y",g.top+C/2).text(function(a){return a});return A}else{o.selectAll(".nv-noData").remove()}r=b.xScale();s=b.yScale();var F=o.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([a]);var G=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g");var H=F.select("g");G.append("g").attr("class","nv-x nv-axis");G.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");G.append("g").attr("class","nv-barsWrap");G.append("g").attr("class","nv-legendWrap");G.append("g").attr("class","nv-controlsWrap");if(l){e.width(B-x());if(b.barColor())a.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(b*1.5).toString()});H.select(".nv-legendWrap").datum(a).call(e);if(g.top!=e.height()){g.top=e.height();C=(i||parseInt(o.style("height"))||400)-g.top-g.bottom}H.select(".nv-legendWrap").attr("transform","translate("+x()+","+-g.top+")")}if(k){var I=[{key:"Grouped",disabled:b.stacked()},{key:"Stacked",disabled:!b.stacked()}];f.width(x()).color(["#444","#444","#444"]);H.select(".nv-controlsWrap").datum(I).attr("transform","translate(0,"+-g.top+")").call(f)}F.attr("transform","translate("+g.left+","+g.top+")");b.disabled(a.map(function(a){return a.disabled})).width(B).height(C).color(a.map(function(a,b){return a.color||j(a,b)}).filter(function(b,c){return!a[c].disabled}));var J=H.select(".nv-barsWrap").datum(a.filter(function(a){return!a.disabled}));J.transition().call(b);if(m){c.scale(r).ticks(C/24).tickSize(-B,0);H.select(".nv-x.nv-axis").transition().call(c);var K=H.select(".nv-x.nv-axis").selectAll("g");K.selectAll("line, text")}if(n){d.scale(s).ticks(B/100).tickSize(-C,0);H.select(".nv-y.nv-axis").attr("transform","translate(0,"+C+")");H.select(".nv-y.nv-axis").transition().call(d)}H.select(".nv-zeroLine line").attr("x1",s(0)).attr("x2",s(0)).attr("y1",0).attr("y2",-C);e.dispatch.on("stateChange",function(a){t=a;w.stateChange(t);A.update()});f.dispatch.on("legendClick",function(a,c){if(!a.disabled)return;I=I.map(function(a){a.disabled=true;return a});a.disabled=false;switch(a.key){case"Grouped":b.stacked(false);break;case"Stacked":b.stacked(true);break}t.stacked=b.stacked();w.stateChange(t);A.update()});w.on("tooltipShow",function(a){if(p)z(a,q.parentNode)});w.on("changeState",function(c){if(typeof c.disabled!=="undefined"){a.forEach(function(a,b){a.disabled=c.disabled[b]});t.disabled=c.disabled}if(typeof c.stacked!=="undefined"){b.stacked(c.stacked);t.stacked=c.stacked}A.update()})});return A}b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+g.left,a.pos[1]+g.top];w.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){w.tooltipHide(a)});w.on("tooltipHide",function(){if(p)a.tooltip.cleanup()});A.dispatch=w;A.multibar=b;A.legend=e;A.xAxis=c;A.yAxis=d;d3.rebind(A,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor");A.options=a.utils.optionsFunc.bind(A);A.margin=function(a){if(!arguments.length)return g;g.top=typeof a.top!="undefined"?a.top:g.top;g.right=typeof a.right!="undefined"?a.right:g.right;g.bottom=typeof a.bottom!="undefined"?a.bottom:g.bottom;g.left=typeof a.left!="undefined"?a.left:g.left;return A};A.width=function(a){if(!arguments.length)return h;h=a;return A};A.height=function(a){if(!arguments.length)return i;i=a;return A};A.color=function(b){if(!arguments.length)return j;j=a.utils.getColor(b);e.color(j);return A};A.showControls=function(a){if(!arguments.length)return k;k=a;return A};A.showLegend=function(a){if(!arguments.length)return l;l=a;return A};A.showXAxis=function(a){if(!arguments.length)return m;m=a;return A};A.showYAxis=function(a){if(!arguments.length)return n;n=a;return A};A.tooltip=function(a){if(!arguments.length)return q;q=a;return A};A.tooltips=function(a){if(!arguments.length)return p;p=a;return A};A.tooltipContent=function(a){if(!arguments.length)return q;q=a;return A};A.state=function(a){if(!arguments.length)return t;t=a;return A};A.defaultState=function(a){if(!arguments.length)return u;u=a;return A};A.noData=function(a){if(!arguments.length)return v;v=a;return A};A.transitionDuration=function(a){if(!arguments.length)return y;y=a;return A};return A};a.models.multiChart=function(){"use strict";var b={top:30,right:20,bottom:50,left:60},c=d3.scale.category20().range(),d=null,e=null,f=true,g=true,h=function(a,b,c,d,e){return"<h3>"+a+"</h3>"+"<p>"+c+" at "+b+"</p>"},i,j,k,l;var i=d3.scale.linear(),m=d3.scale.linear(),n=d3.scale.linear(),o=a.models.line().yScale(m),p=a.models.line().yScale(n),q=a.models.multiBar().stacked(false).yScale(m),r=a.models.multiBar().stacked(false).yScale(n),s=a.models.stackedArea().yScale(m),t=a.models.stackedArea().yScale(n),u=a.models.axis().scale(i).orient("bottom").tickPadding(5),v=a.models.axis().scale(m).orient("left"),w=a.models.axis().scale(n).orient("right"),x=a.models.legend().height(30),y=d3.dispatch("tooltipShow","tooltipHide");var z=function(b,c){var d=b.pos[0]+(c.offsetLeft||0),e=b.pos[1]+(c.offsetTop||0),f=u.tickFormat()(o.x()(b.point,b.pointIndex)),g=(b.series.yAxis==2?w:v).tickFormat()(o.y()(b.point,b.pointIndex)),i=h(b.series.key,f,g,b,A);a.tooltip.show([d,e],i,undefined,undefined,c.offsetParent)};function A(a){a.each(function(a){var h=d3.select(this),j=this;A.update=function(){h.transition().call(A)};A.container=this;var B=(d||parseInt(h.style("width"))||960)-b.left-b.right,C=(e||parseInt(h.style("height"))||400)-b.top-b.bottom;var D=a.filter(function(a){return!a.disabled&&a.type=="line"&&a.yAxis==1});var E=a.filter(function(a){return!a.disabled&&a.type=="line"&&a.yAxis==2});var F=a.filter(function(a){return!a.disabled&&a.type=="bar"&&a.yAxis==1});var G=a.filter(function(a){return!a.disabled&&a.type=="bar"&&a.yAxis==2});var H=a.filter(function(a){return!a.disabled&&a.type=="area"&&a.yAxis==1});var I=a.filter(function(a){return!a.disabled&&a.type=="area"&&a.yAxis==2});var J=a.filter(function(a){return!a.disabled&&a.yAxis==1}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})});var K=a.filter(function(a){return!a.disabled&&a.yAxis==2}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})});i.domain(d3.extent(d3.merge(J.concat(K)),function(a){return a.x})).range([0,B]);var L=h.selectAll("g.wrap.multiChart").data([a]);var M=L.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");M.append("g").attr("class","x axis");M.append("g").attr("class","y1 axis");M.append("g").attr("class","y2 axis");M.append("g").attr("class","lines1Wrap");M.append("g").attr("class","lines2Wrap");M.append("g").attr("class","bars1Wrap");M.append("g").attr("class","bars2Wrap");M.append("g").attr("class","stack1Wrap");M.append("g").attr("class","stack2Wrap");M.append("g").attr("class","legendWrap");var N=L.select("g");if(f){x.width(B/2);N.select(".legendWrap").datum(a.map(function(a){a.originalKey=a.originalKey===undefined?a.key:a.originalKey;a.key=a.originalKey+(a.yAxis==1?"":" (right axis)");return a})).call(x);if(b.top!=x.height()){b.top=x.height();C=(e||parseInt(h.style("height"))||400)-b.top-b.bottom}N.select(".legendWrap").attr("transform","translate("+B/2+","+-b.top+")")}o.width(B).height(C).interpolate("monotone").color(a.map(function(a,b){return a.color||c[b%c.length]}).filter(function(b,c){return!a[c].disabled&&a[c].yAxis==1&&a[c].type=="line"}));p.width(B).height(C).interpolate("monotone").color(a.map(function(a,b){return a.color||c[b%c.length]}).filter(function(b,c){return!a[c].disabled&&a[c].yAxis==2&&a[c].type=="line"}));q.width(B).height(C).color(a.map(function(a,b){return a.color||c[b%c.length]}).filter(function(b,c){return!a[c].disabled&&a[c].yAxis==1&&a[c].type=="bar"}));r.width(B).height(C).color(a.map(function(a,b){return a.color||c[b%c.length]}).filter(function(b,c){return!a[c].disabled&&a[c].yAxis==2&&a[c].type=="bar"}));s.width(B).height(C).color(a.map(function(a,b){return a.color||c[b%c.length]}).filter(function(b,c){return!a[c].disabled&&a[c].yAxis==1&&a[c].type=="area"}));t.width(B).height(C).color(a.map(function(a,b){return a.color||c[b%c.length]}).filter(function(b,c){return!a[c].disabled&&a[c].yAxis==2&&a[c].type=="area"}));N.attr("transform","translate("+b.left+","+b.top+")");var O=N.select(".lines1Wrap").datum(D);var P=N.select(".bars1Wrap").datum(F);var Q=N.select(".stack1Wrap").datum(H);var R=N.select(".lines2Wrap").datum(E);var S=N.select(".bars2Wrap").datum(G);var T=N.select(".stack2Wrap").datum(I);var U=H.length?H.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];var V=I.length?I.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}).concat([{x:0,y:0}]):[];m.domain(k||d3.extent(d3.merge(J).concat(U),function(a){return a.y})).range([0,C]);n.domain(l||d3.extent(d3.merge(K).concat(V),function(a){return a.y})).range([0,C]);o.yDomain(m.domain());q.yDomain(m.domain());s.yDomain(m.domain());p.yDomain(n.domain());r.yDomain(n.domain());t.yDomain(n.domain());if(H.length){d3.transition(Q).call(s)}if(I.length){d3.transition(T).call(t)}if(F.length){d3.transition(P).call(q)}if(G.length){d3.transition(S).call(r)}if(D.length){d3.transition(O).call(o)}if(E.length){d3.transition(R).call(p)}u.ticks(B/100).tickSize(-C,0);N.select(".x.axis").attr("transform","translate(0,"+C+")");d3.transition(N.select(".x.axis")).call(u);v.ticks(C/36).tickSize(-B,0);d3.transition(N.select(".y1.axis")).call(v);w.ticks(C/36).tickSize(-B,0);d3.transition(N.select(".y2.axis")).call(w);N.select(".y2.axis").style("opacity",K.length?1:0).attr("transform","translate("+i.range()[1]+",0)");x.dispatch.on("stateChange",function(a){A.update()});y.on("tooltipShow",function(a){if(g)z(a,j.parentNode)})});return A}o.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];y.tooltipShow(a)});o.dispatch.on("elementMouseout.tooltip",function(a){y.tooltipHide(a)});p.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];y.tooltipShow(a)});p.dispatch.on("elementMouseout.tooltip",function(a){y.tooltipHide(a)});q.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];y.tooltipShow(a)});q.dispatch.on("elementMouseout.tooltip",function(a){y.tooltipHide(a)});r.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];y.tooltipShow(a)});r.dispatch.on("elementMouseout.tooltip",function(a){y.tooltipHide(a)});s.dispatch.on("tooltipShow",function(a){if(!Math.round(s.y()(a.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}a.pos=[a.pos[0]+b.left,a.pos[1]+b.top],y.tooltipShow(a)});s.dispatch.on("tooltipHide",function(a){y.tooltipHide(a)});t.dispatch.on("tooltipShow",function(a){if(!Math.round(t.y()(a.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}a.pos=[a.pos[0]+b.left,a.pos[1]+b.top],y.tooltipShow(a)});t.dispatch.on("tooltipHide",function(a){y.tooltipHide(a)});o.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];y.tooltipShow(a)});o.dispatch.on("elementMouseout.tooltip",function(a){y.tooltipHide(a)});p.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];y.tooltipShow(a)});p.dispatch.on("elementMouseout.tooltip",function(a){y.tooltipHide(a)});y.on("tooltipHide",function(){if(g)a.tooltip.cleanup()});A.dispatch=y;A.lines1=o;A.lines2=p;A.bars1=q;A.bars2=r;A.stack1=s;A.stack2=t;A.xAxis=u;A.yAxis1=v;A.yAxis2=w;A.options=a.utils.optionsFunc.bind(A);A.x=function(a){if(!arguments.length)return getX;getX=a;o.x(a);q.x(a);return A};A.y=function(a){if(!arguments.length)return getY;getY=a;o.y(a);q.y(a);return A};A.yDomain1=function(a){if(!arguments.length)return k;k=a;return A};A.yDomain2=function(a){if(!arguments.length)return l;l=a;return A};A.margin=function(a){if(!arguments.length)return b;b=a;return A};A.width=function(a){if(!arguments.length)return d;d=a;return A};A.height=function(a){if(!arguments.length)return e;e=a;return A};A.color=function(a){if(!arguments.length)return c;c=a;x.color(a);return A};A.showLegend=function(a){if(!arguments.length)return f;f=a;return A};A.tooltips=function(a){if(!arguments.length)return g;g=a;return A};A.tooltipContent=function(a){if(!arguments.length)return h;h=a;return A};return A};a.models.ohlcBar=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c=960,d=500,e=Math.floor(Math.random()*1e4),f=d3.scale.linear(),g=d3.scale.linear(),h=function(a){return a.x},i=function(a){return a.y},j=function(a){return a.open},k=function(a){return a.close},l=function(a){return a.high},m=function(a){return a.low},n=[],o=[],p=false,q=true,r=a.utils.defaultColor(),s,t,u,v,w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function x(a){a.each(function(a){var r=c-b.left-b.right,x=d-b.top-b.bottom,y=d3.select(this);f.domain(s||d3.extent(a[0].values.map(h).concat(n)));if(p)f.range(u||[r*.5/a[0].values.length,r*(a[0].values.length-.5)/a[0].values.length]);else f.range(u||[0,r]);g.domain(t||[d3.min(a[0].values.map(m).concat(o)),d3.max(a[0].values.map(l).concat(o))]).range(v||[x,0]);if(f.domain()[0]===f.domain()[1])f.domain()[0]?f.domain([f.domain()[0]-f.domain()[0]*.01,f.domain()[1]+f.domain()[1]*.01]):f.domain([-1,1]);if(g.domain()[0]===g.domain()[1])g.domain()[0]?g.domain([g.domain()[0]+g.domain()[0]*.01,g.domain()[1]-g.domain()[1]*.01]):g.domain([-1,1]);var z=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]);var A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar");var B=A.append("defs");var C=A.append("g");var D=z.select("g");C.append("g").attr("class","nv-ticks");z.attr("transform","translate("+b.left+","+b.top+")");y.on("click",function(a,b){w.chartClick({data:a,index:b,pos:d3.event,id:e})});B.append("clipPath").attr("id","nv-chart-clip-path-"+e).append("rect");z.select("#nv-chart-clip-path-"+e+" rect").attr("width",r).attr("height",x);D.attr("clip-path",q?"url(#nv-chart-clip-path-"+e+")":"");var E=z.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});E.exit().remove();var F=E.enter().append("path").attr("class",function(a,b,c){return(j(a,b)>k(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(b,c){var d=r/a[0].values.length*.9;return"m0,0l0,"+(g(j(b,c))-g(l(b,c)))+"l"+-d/2+",0l"+d/2+",0l0,"+(g(m(b,c))-g(j(b,c)))+"l0,"+(g(k(b,c))-g(m(b,c)))+"l"+d/2+",0l"+-d/2+",0z"}).attr("transform",function(a,b){return"translate("+f(h(a,b))+","+g(l(a,b))+")"}).on("mouseover",function(b,c){d3.select(this).classed("hover",true);w.elementMouseover({point:b,series:a[0],pos:[f(h(b,c)),g(i(b,c))],pointIndex:c,seriesIndex:0,e:d3.event})}).on("mouseout",function(b,c){d3.select(this).classed("hover",false);w.elementMouseout({point:b,series:a[0],pointIndex:c,seriesIndex:0,e:d3.event})}).on("click",function(a,b){w.elementClick({value:i(a,b),data:a,index:b,pos:[f(h(a,b)),g(i(a,b))],e:d3.event,id:e});d3.event.stopPropagation()}).on("dblclick",function(a,b){w.elementDblClick({value:i(a,b),data:a,index:b,pos:[f(h(a,b)),g(i(a,b))],e:d3.event,id:e});d3.event.stopPropagation()});E.attr("class",function(a,b,c){return(j(a,b)>k(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});d3.transition(E).attr("transform",function(a,b){return"translate("+f(h(a,b))+","+g(l(a,b))+")"}).attr("d",function(b,c){var d=r/a[0].values.length*.9;return"m0,0l0,"+(g(j(b,c))-g(l(b,c)))+"l"+-d/2+",0l"+d/2+",0l0,"+(g(m(b,c))-g(j(b,c)))+"l0,"+(g(k(b,c))-g(m(b,c)))+"l"+d/2+",0l"+-d/2+",0z"})});return x}x.dispatch=w;x.options=a.utils.optionsFunc.bind(x);x.x=function(a){if(!arguments.length)return h;h=a;return x};x.y=function(a){if(!arguments.length)return i;i=a;return x};x.open=function(a){if(!arguments.length)return j;j=a;return x};x.close=function(a){if(!arguments.length)return k;k=a;return x};x.high=function(a){if(!arguments.length)return l;l=a;return x};x.low=function(a){if(!arguments.length)return m;m=a;return x};x.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return x};x.width=function(a){if(!arguments.length)return c;c=a;return x};x.height=function(a){if(!arguments.length)return d;d=a;return x};x.xScale=function(a){if(!arguments.length)return f;f=a;return x};x.yScale=function(a){if(!arguments.length)return g;g=a;return x};x.xDomain=function(a){if(!arguments.length)return s;s=a;return x};x.yDomain=function(a){if(!arguments.length)return t;t=a;return x};x.xRange=function(a){if(!arguments.length)return u;u=a;return x};x.yRange=function(a){if(!arguments.length)return v;v=a;return x};x.forceX=function(a){if(!arguments.length)return n;n=a;return x};x.forceY=function(a){if(!arguments.length)return o;o=a;return x};x.padData=function(a){if(!arguments.length)return p;p=a;return x};x.clipEdge=function(a){if(!arguments.length)return q;q=a;return x};x.color=function(b){if(!arguments.length)return r;r=a.utils.getColor(b);return x};x.id=function(a){if(!arguments.length)return e;e=a;return x};return x};a.models.pie=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c=500,e=500,f=function(a){return a.x},g=function(a){return a.y},h=function(a){return a.description},i=Math.floor(Math.random()*1e4),j=a.utils.defaultColor(),k=d3.format(",.2f"),l=true,m=true,n=false,o="key",p=.02,q=false,r=false,s=false,t=false,u=.5,v=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function w(a){a.each(function(a){var h=c-b.left-b.right,k=e-b.top-b.bottom,w=Math.min(h,k)/2,x=w-w/5,y=d3.select(this);var z=y.selectAll(".nv-wrap.nv-pie").data(a);var A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+i);var B=A.append("g");var C=z.select("g");B.append("g").attr("class","nv-pie");B.append("g").attr("class","nv-pieLabels");z.attr("transform","translate("+b.left+","+b.top+")");C.select(".nv-pie").attr("transform","translate("+h/2+","+k/2+")");C.select(".nv-pieLabels").attr("transform","translate("+h/2+","+k/2+")");y.on("click",function(a,b){v.chartClick({data:a,index:b,pos:d3.event,id:i})});var D=d3.svg.arc().outerRadius(x);if(s)D.startAngle(s);if(t)D.endAngle(t);if(q)D.innerRadius(w*u);var E=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:g(a)});var F=z.select(".nv-pie").selectAll(".nv-slice").data(E);var G=z.select(".nv-pieLabels").selectAll(".nv-label").data(E);F.exit().remove();G.exit().remove();var H=F.enter().append("g").attr("class","nv-slice").on("mouseover",function(a,b){d3.select(this).classed("hover",true);v.elementMouseover({label:f(a.data),value:g(a.data),point:a.data,pointIndex:b,pos:[d3.event.pageX,d3.event.pageY],id:i})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);v.elementMouseout({label:f(a.data),value:g(a.data),point:a.data,index:b,id:i})}).on("click",function(a,b){v.elementClick({label:f(a.data),value:g(a.data),point:a.data,index:b,pos:d3.event,id:i});d3.event.stopPropagation()}).on("dblclick",function(a,b){v.elementDblClick({label:f(a.data),value:g(a.data),point:a.data,index:b,pos:d3.event,id:i});d3.event.stopPropagation()});F.attr("fill",function(a,b){return j(a,b)}).attr("stroke",function(a,b){return j(a,b)});var I=H.append("path").each(function(a){this._current=a});F.select("path").transition().attr("d",D).attrTween("d",P);if(l){var J=d3.svg.arc().innerRadius(0);if(m){J=D}if(n){J=d3.svg.arc().outerRadius(D.outerRadius())}G.enter().append("g").classed("nv-label",true).each(function(a,b){var c=d3.select(this);c.attr("transform",function(a){if(r){a.outerRadius=x+10;a.innerRadius=x+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI);if((a.startAngle+a.endAngle)/2<Math.PI){b-=90}else{b+=90}return"translate("+J.centroid(a)+") rotate("+b+")"}else{a.outerRadius=w+10;a.innerRadius=w+15;return"translate("+J.centroid(a)+")"}});c.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);c.append("text").style("text-anchor",r?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var K={};var L=14;var M=140;var N=function(a){return Math.floor(a[0]/M)*M+","+Math.floor(a[1]/L)*L};G.transition().attr("transform",function(a){if(r){a.outerRadius=x+10;a.innerRadius=x+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI);if((a.startAngle+a.endAngle)/2<Math.PI){b-=90}else{b+=90}return"translate("+J.centroid(a)+") rotate("+b+")"}else{a.outerRadius=w+10;a.innerRadius=w+15;var c=J.centroid(a);var d=N(c);if(K[d]){c[1]-=L}K[N(c)]=true;return"translate("+c+")"}});G.select(".nv-label text").style("text-anchor",r?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(a,b){var c=(a.endAngle-a.startAngle)/(2*Math.PI);var d={key:f(a.data),value:g(a.data),percent:d3.format("%")(c)};return a.value&&c>p?d[o]:""})}function O(a){var b=(a.startAngle+a.endAngle)*90/Math.PI-90;return b>90?b-180:b}function P(a){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;if(!q)a.innerRadius=0;var b=d3.interpolate(this._current,a);this._current=b(0);return function(a){return D(b(a))}}function Q(a){a.innerRadius=0;var b=d3.interpolate({startAngle:0,endAngle:0},a);return function(a){return D(b(a))}}});return w}w.dispatch=v;w.options=a.utils.optionsFunc.bind(w);w.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return w};w.width=function(a){if(!arguments.length)return c;c=a;return w};w.height=function(a){if(!arguments.length)return e;e=a;return w};w.values=function(b){a.log("pie.values() is no longer supported.");return w};w.x=function(a){if(!arguments.length)return f;f=a;return w};w.y=function(a){if(!arguments.length)return g;g=d3.functor(a);return w};w.description=function(a){if(!arguments.length)return h;h=a;return w};w.showLabels=function(a){if(!arguments.length)return l;l=a;return w};w.labelSunbeamLayout=function(a){if(!arguments.length)return r;r=a;return w};w.donutLabelsOutside=function(a){if(!arguments.length)return n;n=a;return w};w.pieLabelsOutside=function(a){if(!arguments.length)return m;m=a;return w};w.labelType=function(a){if(!arguments.length)return o;o=a;o=o||"key";return w};w.donut=function(a){if(!arguments.length)return q;q=a;return w};w.donutRatio=function(a){if(!arguments.length)return u;u=a;return w};w.startAngle=function(a){if(!arguments.length)return s;s=a;return w};w.endAngle=function(a){if(!arguments.length)return t;t=a;return w};w.id=function(a){if(!arguments.length)return i;i=a;return w};w.color=function(b){if(!arguments.length)return j;j=a.utils.getColor(b);return w};w.valueFormat=function(a){if(!arguments.length)return k;k=a;return w};w.labelThreshold=function(a){if(!arguments.length)return p;p=a;return w};return w};a.models.pieChart=function(){"use strict";var b=a.models.pie(),c=a.models.legend();var d={top:30,right:20,bottom:20,left:20},e=null,f=null,g=true,h=a.utils.defaultColor(),i=true,j=function(a,b,c,d){return"<h3>"+a+"</h3>"+"<p>"+b+"</p>"},k={},l=null,m="No Data Available.",n=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");var o=function(c,d){var e=b.description()(c.point)||b.x()(c.point);var f=c.pos[0]+(d&&d.offsetLeft||0),g=c.pos[1]+(d&&d.offsetTop||0),h=b.valueFormat()(b.y()(c.point)),i=j(e,h,c,p);a.tooltip.show([f,g],i,c.value<0?"n":"s",null,d)};function p(a){a.each(function(a){var h=d3.select(this),i=this;var j=(e||parseInt(h.style("width"))||960)-d.left-d.right,o=(f||parseInt(h.style("height"))||400)-d.top-d.bottom;p.update=function(){h.transition().call(p)};p.container=this;k.disabled=a.map(function(a){return!!a.disabled});if(!l){var q;l={};for(q in k){if(k[q]instanceof Array)l[q]=k[q].slice(0);else l[q]=k[q]}}if(!a||!a.length){var r=h.selectAll(".nv-noData").data([m]);r.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");r.attr("x",d.left+j/2).attr("y",d.top+o/2).text(function(a){return a});return p}else{h.selectAll(".nv-noData").remove()}var s=h.selectAll("g.nv-wrap.nv-pieChart").data([a]);var t=s.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g");var u=s.select("g");t.append("g").attr("class","nv-pieWrap");t.append("g").attr("class","nv-legendWrap");if(g){c.width(j).key(b.x());s.select(".nv-legendWrap").datum(a).call(c);if(d.top!=c.height()){d.top=c.height();o=(f||parseInt(h.style("height"))||400)-d.top-d.bottom}s.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")}s.attr("transform","translate("+d.left+","+d.top+")");b.width(j).height(o);var v=u.select(".nv-pieWrap").datum([a]);d3.transition(v).call(b);c.dispatch.on("stateChange",function(a){k=a;n.stateChange(k);p.update()});b.dispatch.on("elementMouseout.tooltip",function(a){n.tooltipHide(a)});n.on("changeState",function(b){if(typeof b.disabled!=="undefined"){a.forEach(function(a,c){a.disabled=b.disabled[c]});k.disabled=b.disabled}p.update()})});return p}b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+d.left,a.pos[1]+d.top];n.tooltipShow(a)});n.on("tooltipShow",function(a){if(i)o(a)});n.on("tooltipHide",function(){if(i)a.tooltip.cleanup()});p.legend=c;p.dispatch=n;p.pie=b;d3.rebind(p,b,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold");
p.options=a.utils.optionsFunc.bind(p);p.margin=function(a){if(!arguments.length)return d;d.top=typeof a.top!="undefined"?a.top:d.top;d.right=typeof a.right!="undefined"?a.right:d.right;d.bottom=typeof a.bottom!="undefined"?a.bottom:d.bottom;d.left=typeof a.left!="undefined"?a.left:d.left;return p};p.width=function(a){if(!arguments.length)return e;e=a;return p};p.height=function(a){if(!arguments.length)return f;f=a;return p};p.color=function(d){if(!arguments.length)return h;h=a.utils.getColor(d);c.color(h);b.color(h);return p};p.showLegend=function(a){if(!arguments.length)return g;g=a;return p};p.tooltips=function(a){if(!arguments.length)return i;i=a;return p};p.tooltipContent=function(a){if(!arguments.length)return j;j=a;return p};p.state=function(a){if(!arguments.length)return k;k=a;return p};p.defaultState=function(a){if(!arguments.length)return l;l=a;return p};p.noData=function(a){if(!arguments.length)return m;m=a;return p};return p};a.models.scatter=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c=960,d=500,e=a.utils.defaultColor(),f=Math.floor(Math.random()*1e5),g=d3.scale.linear(),h=d3.scale.linear(),i=d3.scale.linear(),j=function(a){return a.x},k=function(a){return a.y},l=function(a){return a.size||1},m=function(a){return a.shape||"circle"},n=true,o=[],p=[],q=[],r=true,s=null,t=function(a){return!a.notActive},u=false,v=.1,w=false,x=true,y=function(){return 25},z=null,A=null,B=null,C=null,D=null,E=null,F=false,G=d3.dispatch("elementClick","elementMouseover","elementMouseout"),H=true;var I,J,K,L,M=false;function N(O){O.each(function(N){var O=c-b.left-b.right,P=d-b.top-b.bottom,Q=d3.select(this);N.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var R=z&&A&&D?[]:d3.merge(N.map(function(a){return a.values.map(function(a,b){return{x:j(a,b),y:k(a,b),size:l(a,b)}})}));g.domain(z||d3.extent(R.map(function(a){return a.x}).concat(o)));if(u&&N[0])g.range(B||[(O*v+O)/(2*N[0].values.length),O-O*(1+v)/(2*N[0].values.length)]);else g.range(B||[0,O]);h.domain(A||d3.extent(R.map(function(a){return a.y}).concat(p))).range(C||[P,0]);i.domain(D||d3.extent(R.map(function(a){return a.size}).concat(q))).range(E||[16,256]);if(g.domain()[0]===g.domain()[1]||h.domain()[0]===h.domain()[1])F=true;if(g.domain()[0]===g.domain()[1])g.domain()[0]?g.domain([g.domain()[0]-g.domain()[0]*.01,g.domain()[1]+g.domain()[1]*.01]):g.domain([-1,1]);if(h.domain()[0]===h.domain()[1])h.domain()[0]?h.domain([h.domain()[0]-h.domain()[0]*.01,h.domain()[1]+h.domain()[1]*.01]):h.domain([-1,1]);if(isNaN(g.domain()[0])){g.domain([-1,1])}if(isNaN(h.domain()[0])){h.domain([-1,1])}I=I||g;J=J||h;K=K||i;var S=Q.selectAll("g.nv-wrap.nv-scatter").data([N]);var T=S.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+f+(F?" nv-single-point":""));var U=T.append("defs");var V=T.append("g");var W=S.select("g");V.append("g").attr("class","nv-groups");V.append("g").attr("class","nv-point-paths");S.attr("transform","translate("+b.left+","+b.top+")");U.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");S.select("#nv-edge-clip-"+f+" rect").attr("width",O).attr("height",P>0?P:0);W.attr("clip-path",w?"url(#nv-edge-clip-"+f+")":"");function X(){if(!r)return false;var a;var e=d3.merge(N.map(function(a,b){return a.values.map(function(a,c){var d=j(a,c);var e=k(a,c);return[g(d)+Math.random()*1e-7,h(e)+Math.random()*1e-7,b,c,a]}).filter(function(a,b){return t(a[4],b)})}));if(H===true){if(x){var i=S.select("defs").selectAll(".nv-point-clips").data([f]).enter();i.append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+f);var l=S.select("#nv-points-clip-"+f).selectAll("circle").data(e);l.enter().append("circle").attr("r",y);l.exit().remove();l.attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]});S.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+f+")")}if(e.length){e.push([g.range()[0]-20,h.range()[0]-20,null,null]);e.push([g.range()[1]+20,h.range()[1]+20,null,null]);e.push([g.range()[0]-20,h.range()[0]+20,null,null]);e.push([g.range()[1]+20,h.range()[1]-20,null,null])}var m=d3.geom.polygon([[-10,-10],[-10,d+10],[c+10,d+10],[c+10,-10]]);var n=d3.geom.voronoi(e).map(function(a,b){return{data:m.clip(a),series:e[b][2],point:e[b][3]}});var o=S.select(".nv-point-paths").selectAll("path").data(n);o.enter().append("path").attr("class",function(a,b){return"nv-path-"+b});o.exit().remove();o.attr("d",function(a){if(a.data.length===0)return"M 0 0";else return"M"+a.data.join("L")+"Z"});var p=function(a,c){if(M)return 0;var d=N[a.series];if(typeof d==="undefined")return;var e=d.values[a.point];c({point:e,series:d,pos:[g(j(e,a.point))+b.left,h(k(e,a.point))+b.top],seriesIndex:a.series,pointIndex:a.point})};o.on("click",function(a){p(a,G.elementClick)}).on("mouseover",function(a){p(a,G.elementMouseover)}).on("mouseout",function(a,b){p(a,G.elementMouseout)})}else{S.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(a,c){if(M||!N[a.series])return 0;var d=N[a.series],e=d.values[c];G.elementClick({point:e,series:d,pos:[g(j(e,c))+b.left,h(k(e,c))+b.top],seriesIndex:a.series,pointIndex:c})}).on("mouseover",function(a,c){if(M||!N[a.series])return 0;var d=N[a.series],e=d.values[c];G.elementMouseover({point:e,series:d,pos:[g(j(e,c))+b.left,h(k(e,c))+b.top],seriesIndex:a.series,pointIndex:c})}).on("mouseout",function(a,b){if(M||!N[a.series])return 0;var c=N[a.series],d=c.values[b];G.elementMouseout({point:d,series:c,seriesIndex:a.series,pointIndex:b})})}M=false}M=true;var Y=S.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});Y.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);Y.exit().remove();Y.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});Y.transition().style("fill",function(a,b){return e(a,b)}).style("stroke",function(a,b){return e(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);if(n){var Z=Y.selectAll("circle.nv-point").data(function(a){return a.values},s);Z.enter().append("circle").style("fill",function(a,b){return a.color}).style("stroke",function(a,b){return a.color}).attr("cx",function(b,c){return a.utils.NaNtoZero(I(j(b,c)))}).attr("cy",function(b,c){return a.utils.NaNtoZero(J(k(b,c)))}).attr("r",function(a,b){return Math.sqrt(i(l(a,b))/Math.PI)});Z.exit().remove();Y.exit().selectAll("path.nv-point").transition().attr("cx",function(b,c){return a.utils.NaNtoZero(g(j(b,c)))}).attr("cy",function(b,c){return a.utils.NaNtoZero(h(k(b,c)))}).remove();Z.each(function(a,b){d3.select(this).classed("nv-point",true).classed("nv-point-"+b,true).classed("hover",false)});Z.transition().attr("cx",function(b,c){return a.utils.NaNtoZero(g(j(b,c)))}).attr("cy",function(b,c){return a.utils.NaNtoZero(h(k(b,c)))}).attr("r",function(a,b){return Math.sqrt(i(l(a,b))/Math.PI)})}else{var Z=Y.selectAll("path.nv-point").data(function(a){return a.values});Z.enter().append("path").style("fill",function(a,b){return a.color}).style("stroke",function(a,b){return a.color}).attr("transform",function(a,b){return"translate("+I(j(a,b))+","+J(k(a,b))+")"}).attr("d",d3.svg.symbol().type(m).size(function(a,b){return i(l(a,b))}));Z.exit().remove();Y.exit().selectAll("path.nv-point").transition().attr("transform",function(a,b){return"translate("+g(j(a,b))+","+h(k(a,b))+")"}).remove();Z.each(function(a,b){d3.select(this).classed("nv-point",true).classed("nv-point-"+b,true).classed("hover",false)});Z.transition().attr("transform",function(a,b){return"translate("+g(j(a,b))+","+h(k(a,b))+")"}).attr("d",d3.svg.symbol().type(m).size(function(a,b){return i(l(a,b))}))}clearTimeout(L);L=setTimeout(X,300);I=g.copy();J=h.copy();K=i.copy()});return N}N.clearHighlights=function(){d3.selectAll(".nv-chart-"+f+" .nv-point.hover").classed("hover",false)};N.highlightPoint=function(a,b,c){d3.select(".nv-chart-"+f+" .nv-series-"+a+" .nv-point-"+b).classed("hover",c)};G.on("elementMouseover.point",function(a){if(r)N.highlightPoint(a.seriesIndex,a.pointIndex,true)});G.on("elementMouseout.point",function(a){if(r)N.highlightPoint(a.seriesIndex,a.pointIndex,false)});N.dispatch=G;N.options=a.utils.optionsFunc.bind(N);N.x=function(a){if(!arguments.length)return j;j=d3.functor(a);return N};N.y=function(a){if(!arguments.length)return k;k=d3.functor(a);return N};N.size=function(a){if(!arguments.length)return l;l=d3.functor(a);return N};N.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return N};N.width=function(a){if(!arguments.length)return c;c=a;return N};N.height=function(a){if(!arguments.length)return d;d=a;return N};N.xScale=function(a){if(!arguments.length)return g;g=a;return N};N.yScale=function(a){if(!arguments.length)return h;h=a;return N};N.zScale=function(a){if(!arguments.length)return i;i=a;return N};N.xDomain=function(a){if(!arguments.length)return z;z=a;return N};N.yDomain=function(a){if(!arguments.length)return A;A=a;return N};N.sizeDomain=function(a){if(!arguments.length)return D;D=a;return N};N.xRange=function(a){if(!arguments.length)return B;B=a;return N};N.yRange=function(a){if(!arguments.length)return C;C=a;return N};N.sizeRange=function(a){if(!arguments.length)return E;E=a;return N};N.forceX=function(a){if(!arguments.length)return o;o=a;return N};N.forceY=function(a){if(!arguments.length)return p;p=a;return N};N.forceSize=function(a){if(!arguments.length)return q;q=a;return N};N.interactive=function(a){if(!arguments.length)return r;r=a;return N};N.pointKey=function(a){if(!arguments.length)return s;s=a;return N};N.pointActive=function(a){if(!arguments.length)return t;t=a;return N};N.padData=function(a){if(!arguments.length)return u;u=a;return N};N.padDataOuter=function(a){if(!arguments.length)return v;v=a;return N};N.clipEdge=function(a){if(!arguments.length)return w;w=a;return N};N.clipVoronoi=function(a){if(!arguments.length)return x;x=a;return N};N.useVoronoi=function(a){if(!arguments.length)return H;H=a;if(H===false){x=false}return N};N.clipRadius=function(a){if(!arguments.length)return y;y=a;return N};N.color=function(b){if(!arguments.length)return e;e=a.utils.getColor(b);return N};N.shape=function(a){if(!arguments.length)return m;m=a;return N};N.onlyCircles=function(a){if(!arguments.length)return n;n=a;return N};N.id=function(a){if(!arguments.length)return f;f=a;return N};N.singlePoint=function(a){if(!arguments.length)return F;F=a;return N};return N};a.models.scatterChart=function(){"use strict";var b=a.models.scatter(),c=a.models.axis(),d=a.models.axis(),e=a.models.legend(),f=a.models.legend(),g=a.models.distribution(),h=a.models.distribution();var i={top:30,right:20,bottom:50,left:75},j=null,k=null,l=a.utils.defaultColor(),m=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.xScale(),n=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),o=0,p=0,q=false,r=false,s=true,t=true,u=true,v=false,w=!!d3.fisheye,x=0,y=false,z=true,A=function(a,b,c){return"<strong>"+b+"</strong>"},B=function(a,b,c){return"<strong>"+c+"</strong>"},C=null,D={},E=null,F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),G="No Data Available.",H=250;b.xScale(m).yScale(n);c.orient("bottom").tickPadding(10);d.orient(v?"right":"left").tickPadding(10);g.axis("x");h.axis("y");f.updateState(false);var I,J;var K=function(e,f){var g=e.pos[0]+(f.offsetLeft||0),h=e.pos[1]+(f.offsetTop||0),j=e.pos[0]+(f.offsetLeft||0),k=n.range()[0]+i.top+(f.offsetTop||0),l=m.range()[0]+i.left+(f.offsetLeft||0),o=e.pos[1]+(f.offsetTop||0),p=c.tickFormat()(b.x()(e.point,e.pointIndex)),q=d.tickFormat()(b.y()(e.point,e.pointIndex));if(A!=null)a.tooltip.show([j,k],A(e.series.key,p,q,e,M),"n",1,f,"x-nvtooltip");if(B!=null)a.tooltip.show([l,o],B(e.series.key,p,q,e,M),"e",1,f,"y-nvtooltip");if(C!=null)a.tooltip.show([g,h],C(e.series.key,p,q,e,M),e.value<0?"n":"s",null,f)};var L=[{key:"Magnify",disabled:true}];function M(a){a.each(function(a){var A=d3.select(this),B=this;var C=(j||parseInt(A.style("width"))||960)-i.left-i.right,N=(k||parseInt(A.style("height"))||400)-i.top-i.bottom;M.update=function(){A.transition().duration(H).call(M)};M.container=this;D.disabled=a.map(function(a){return!!a.disabled});if(!E){var O;E={};for(O in D){if(D[O]instanceof Array)E[O]=D[O].slice(0);else E[O]=D[O]}}if(!a||!a.length||!a.filter(function(a){return a.values.length}).length){var P=A.selectAll(".nv-noData").data([G]);P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");P.attr("x",i.left+C/2).attr("y",i.top+N/2).text(function(a){return a});return M}else{A.selectAll(".nv-noData").remove()}I=I||m;J=J||n;var Q=A.selectAll("g.nv-wrap.nv-scatterChart").data([a]);var R=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id());var S=R.append("g");var T=Q.select("g");S.append("rect").attr("class","nvd3 nv-background");S.append("g").attr("class","nv-x nv-axis");S.append("g").attr("class","nv-y nv-axis");S.append("g").attr("class","nv-scatterWrap");S.append("g").attr("class","nv-distWrap");S.append("g").attr("class","nv-legendWrap");S.append("g").attr("class","nv-controlsWrap");if(s){var U=w?C/2:C;e.width(U);Q.select(".nv-legendWrap").datum(a).call(e);if(i.top!=e.height()){i.top=e.height();N=(k||parseInt(A.style("height"))||400)-i.top-i.bottom}Q.select(".nv-legendWrap").attr("transform","translate("+(C-U)+","+-i.top+")")}if(w){f.width(180).color(["#444"]);T.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+-i.top+")").call(f)}Q.attr("transform","translate("+i.left+","+i.top+")");if(v){T.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)")}b.width(C).height(N).color(a.map(function(a,b){return a.color||l(a,b)}).filter(function(b,c){return!a[c].disabled}));if(o!==0)b.xDomain(null);if(p!==0)b.yDomain(null);Q.select(".nv-scatterWrap").datum(a.filter(function(a){return!a.disabled})).call(b);if(o!==0){var V=m.domain()[1]-m.domain()[0];b.xDomain([m.domain()[0]-o*V,m.domain()[1]+o*V])}if(p!==0){var W=n.domain()[1]-n.domain()[0];b.yDomain([n.domain()[0]-p*W,n.domain()[1]+p*W])}if(p!==0||o!==0){Q.select(".nv-scatterWrap").datum(a.filter(function(a){return!a.disabled})).call(b)}if(t){c.scale(m).ticks(c.ticks()&&c.ticks().length?c.ticks():C/100).tickSize(-N,0);T.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")").call(c)}if(u){d.scale(n).ticks(d.ticks()&&d.ticks().length?d.ticks():N/36).tickSize(-C,0);T.select(".nv-y.nv-axis").call(d)}if(q){g.getData(b.x()).scale(m).width(C).color(a.map(function(a,b){return a.color||l(a,b)}).filter(function(b,c){return!a[c].disabled}));S.select(".nv-distWrap").append("g").attr("class","nv-distributionX");T.select(".nv-distributionX").attr("transform","translate(0,"+n.range()[0]+")").datum(a.filter(function(a){return!a.disabled})).call(g)}if(r){h.getData(b.y()).scale(n).width(N).color(a.map(function(a,b){return a.color||l(a,b)}).filter(function(b,c){return!a[c].disabled}));S.select(".nv-distWrap").append("g").attr("class","nv-distributionY");T.select(".nv-distributionY").attr("transform","translate("+(v?C:-h.size())+",0)").datum(a.filter(function(a){return!a.disabled})).call(h)}if(d3.fisheye){T.select(".nv-background").attr("width",C).attr("height",N);T.select(".nv-background").on("mousemove",X);T.select(".nv-background").on("click",function(){y=!y});b.dispatch.on("elementClick.freezeFisheye",function(){y=!y})}function X(){if(y){T.select(".nv-point-paths").style("pointer-events","all");return false}T.select(".nv-point-paths").style("pointer-events","none");var e=d3.mouse(this);m.distortion(x).focus(e[0]);n.distortion(x).focus(e[1]);T.select(".nv-scatterWrap").call(b);if(t)T.select(".nv-x.nv-axis").call(c);if(u)T.select(".nv-y.nv-axis").call(d);T.select(".nv-distributionX").datum(a.filter(function(a){return!a.disabled})).call(g);T.select(".nv-distributionY").datum(a.filter(function(a){return!a.disabled})).call(h)}f.dispatch.on("legendClick",function(a,e){a.disabled=!a.disabled;x=a.disabled?0:2.5;T.select(".nv-background").style("pointer-events",a.disabled?"none":"all");T.select(".nv-point-paths").style("pointer-events",a.disabled?"all":"none");if(a.disabled){m.distortion(x).focus(0);n.distortion(x).focus(0);T.select(".nv-scatterWrap").call(b);T.select(".nv-x.nv-axis").call(c);T.select(".nv-y.nv-axis").call(d)}else{y=false}M.update()});e.dispatch.on("stateChange",function(a){D.disabled=a.disabled;F.stateChange(D);M.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",function(b,c){return a.pos[1]-N});d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+g.size());a.pos=[a.pos[0]+i.left,a.pos[1]+i.top];F.tooltipShow(a)});F.on("tooltipShow",function(a){if(z)K(a,B.parentNode)});F.on("changeState",function(b){if(typeof b.disabled!=="undefined"){a.forEach(function(a,c){a.disabled=b.disabled[c]});D.disabled=b.disabled}M.update()});I=m.copy();J=n.copy()});return M}b.dispatch.on("elementMouseout.tooltip",function(a){F.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",h.size())});F.on("tooltipHide",function(){if(z)a.tooltip.cleanup()});M.dispatch=F;M.scatter=b;M.legend=e;M.controls=f;M.xAxis=c;M.yAxis=d;M.distX=g;M.distY=h;d3.rebind(M,b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");M.options=a.utils.optionsFunc.bind(M);M.margin=function(a){if(!arguments.length)return i;i.top=typeof a.top!="undefined"?a.top:i.top;i.right=typeof a.right!="undefined"?a.right:i.right;i.bottom=typeof a.bottom!="undefined"?a.bottom:i.bottom;i.left=typeof a.left!="undefined"?a.left:i.left;return M};M.width=function(a){if(!arguments.length)return j;j=a;return M};M.height=function(a){if(!arguments.length)return k;k=a;return M};M.color=function(b){if(!arguments.length)return l;l=a.utils.getColor(b);e.color(l);g.color(l);h.color(l);return M};M.showDistX=function(a){if(!arguments.length)return q;q=a;return M};M.showDistY=function(a){if(!arguments.length)return r;r=a;return M};M.showControls=function(a){if(!arguments.length)return w;w=a;return M};M.showLegend=function(a){if(!arguments.length)return s;s=a;return M};M.showXAxis=function(a){if(!arguments.length)return t;t=a;return M};M.showYAxis=function(a){if(!arguments.length)return u;u=a;return M};M.rightAlignYAxis=function(a){if(!arguments.length)return v;v=a;d.orient(a?"right":"left");return M};M.fisheye=function(a){if(!arguments.length)return x;x=a;return M};M.xPadding=function(a){if(!arguments.length)return o;o=a;return M};M.yPadding=function(a){if(!arguments.length)return p;p=a;return M};M.tooltips=function(a){if(!arguments.length)return z;z=a;return M};M.tooltipContent=function(a){if(!arguments.length)return C;C=a;return M};M.tooltipXContent=function(a){if(!arguments.length)return A;A=a;return M};M.tooltipYContent=function(a){if(!arguments.length)return B;B=a;return M};M.state=function(a){if(!arguments.length)return D;D=a;return M};M.defaultState=function(a){if(!arguments.length)return E;E=a;return M};M.noData=function(a){if(!arguments.length)return G;G=a;return M};M.transitionDuration=function(a){if(!arguments.length)return H;H=a;return M};return M};a.models.scatterPlusLineChart=function(){"use strict";var b=a.models.scatter(),c=a.models.axis(),d=a.models.axis(),e=a.models.legend(),f=a.models.legend(),g=a.models.distribution(),h=a.models.distribution();var i={top:30,right:20,bottom:50,left:75},j=null,k=null,l=a.utils.defaultColor(),m=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.xScale(),n=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),o=false,p=false,q=true,r=true,s=true,t=false,u=!!d3.fisheye,v=0,w=false,x=true,y=function(a,b,c){return"<strong>"+b+"</strong>"},z=function(a,b,c){return"<strong>"+c+"</strong>"},A=function(a,b,c,d){return"<h3>"+a+"</h3>"+"<p>"+d+"</p>"},B={},C=null,D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),E="No Data Available.",F=250;b.xScale(m).yScale(n);c.orient("bottom").tickPadding(10);d.orient(t?"right":"left").tickPadding(10);g.axis("x");h.axis("y");f.updateState(false);var G,H;var I=function(e,f){var g=e.pos[0]+(f.offsetLeft||0),h=e.pos[1]+(f.offsetTop||0),j=e.pos[0]+(f.offsetLeft||0),k=n.range()[0]+i.top+(f.offsetTop||0),l=m.range()[0]+i.left+(f.offsetLeft||0),o=e.pos[1]+(f.offsetTop||0),p=c.tickFormat()(b.x()(e.point,e.pointIndex)),q=d.tickFormat()(b.y()(e.point,e.pointIndex));if(y!=null)a.tooltip.show([j,k],y(e.series.key,p,q,e,K),"n",1,f,"x-nvtooltip");if(z!=null)a.tooltip.show([l,o],z(e.series.key,p,q,e,K),"e",1,f,"y-nvtooltip");if(A!=null)a.tooltip.show([g,h],A(e.series.key,p,q,e.point.tooltip,e,K),e.value<0?"n":"s",null,f)};var J=[{key:"Magnify",disabled:true}];function K(a){a.each(function(a){var y=d3.select(this),z=this;var A=(j||parseInt(y.style("width"))||960)-i.left-i.right,L=(k||parseInt(y.style("height"))||400)-i.top-i.bottom;K.update=function(){y.transition().duration(F).call(K)};K.container=this;B.disabled=a.map(function(a){return!!a.disabled});if(!C){var M;C={};for(M in B){if(B[M]instanceof Array)C[M]=B[M].slice(0);else C[M]=B[M]}}if(!a||!a.length||!a.filter(function(a){return a.values.length}).length){var N=y.selectAll(".nv-noData").data([E]);N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");N.attr("x",i.left+A/2).attr("y",i.top+L/2).text(function(a){return a});return K}else{y.selectAll(".nv-noData").remove()}m=b.xScale();n=b.yScale();G=G||m;H=H||n;var O=y.selectAll("g.nv-wrap.nv-scatterChart").data([a]);var P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id());var Q=P.append("g");var R=O.select("g");Q.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");Q.append("g").attr("class","nv-x nv-axis");Q.append("g").attr("class","nv-y nv-axis");Q.append("g").attr("class","nv-scatterWrap");Q.append("g").attr("class","nv-regressionLinesWrap");Q.append("g").attr("class","nv-distWrap");Q.append("g").attr("class","nv-legendWrap");Q.append("g").attr("class","nv-controlsWrap");O.attr("transform","translate("+i.left+","+i.top+")");if(t){R.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)")}if(q){e.width(A/2);O.select(".nv-legendWrap").datum(a).call(e);if(i.top!=e.height()){i.top=e.height();L=(k||parseInt(y.style("height"))||400)-i.top-i.bottom}O.select(".nv-legendWrap").attr("transform","translate("+A/2+","+-i.top+")")}if(u){f.width(180).color(["#444"]);R.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-i.top+")").call(f)}b.width(A).height(L).color(a.map(function(a,b){return a.color||l(a,b)}).filter(function(b,c){return!a[c].disabled}));O.select(".nv-scatterWrap").datum(a.filter(function(a){return!a.disabled})).call(b);O.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");var S=O.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});S.enter().append("g").attr("class","nv-regLines");var T=S.selectAll(".nv-regLine").data(function(a){return[a]});var U=T.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);T.transition().attr("x1",m.range()[0]).attr("x2",m.range()[1]).attr("y1",function(a,b){return n(m.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return n(m.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return l(a,c)}).style("stroke-opacity",function(a,b){return a.disabled||typeof a.slope==="undefined"||typeof a.intercept==="undefined"?0:1});if(r){c.scale(m).ticks(c.ticks()?c.ticks():A/100).tickSize(-L,0);R.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")").call(c)}if(s){d.scale(n).ticks(d.ticks()?d.ticks():L/36).tickSize(-A,0);R.select(".nv-y.nv-axis").call(d)}if(o){g.getData(b.x()).scale(m).width(A).color(a.map(function(a,b){return a.color||l(a,b)}).filter(function(b,c){return!a[c].disabled}));Q.select(".nv-distWrap").append("g").attr("class","nv-distributionX");R.select(".nv-distributionX").attr("transform","translate(0,"+n.range()[0]+")").datum(a.filter(function(a){return!a.disabled})).call(g)}if(p){h.getData(b.y()).scale(n).width(L).color(a.map(function(a,b){return a.color||l(a,b)}).filter(function(b,c){return!a[c].disabled}));Q.select(".nv-distWrap").append("g").attr("class","nv-distributionY");R.select(".nv-distributionY").attr("transform","translate("+(t?A:-h.size())+",0)").datum(a.filter(function(a){return!a.disabled})).call(h)}if(d3.fisheye){R.select(".nv-background").attr("width",A).attr("height",L);R.select(".nv-background").on("mousemove",V);R.select(".nv-background").on("click",function(){w=!w});b.dispatch.on("elementClick.freezeFisheye",function(){w=!w})}function V(){if(w){R.select(".nv-point-paths").style("pointer-events","all");return false}R.select(".nv-point-paths").style("pointer-events","none");var e=d3.mouse(this);m.distortion(v).focus(e[0]);n.distortion(v).focus(e[1]);R.select(".nv-scatterWrap").datum(a.filter(function(a){return!a.disabled})).call(b);if(r)R.select(".nv-x.nv-axis").call(c);if(s)R.select(".nv-y.nv-axis").call(d);R.select(".nv-distributionX").datum(a.filter(function(a){return!a.disabled})).call(g);R.select(".nv-distributionY").datum(a.filter(function(a){return!a.disabled})).call(h)}f.dispatch.on("legendClick",function(a,e){a.disabled=!a.disabled;v=a.disabled?0:2.5;R.select(".nv-background").style("pointer-events",a.disabled?"none":"all");R.select(".nv-point-paths").style("pointer-events",a.disabled?"all":"none");if(a.disabled){m.distortion(v).focus(0);n.distortion(v).focus(0);R.select(".nv-scatterWrap").call(b);R.select(".nv-x.nv-axis").call(c);R.select(".nv-y.nv-axis").call(d)}else{w=false}K.update()});e.dispatch.on("stateChange",function(a){B=a;D.stateChange(B);K.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos[1]-L);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+g.size());a.pos=[a.pos[0]+i.left,a.pos[1]+i.top];D.tooltipShow(a)});D.on("tooltipShow",function(a){if(x)I(a,z.parentNode)});D.on("changeState",function(b){if(typeof b.disabled!=="undefined"){a.forEach(function(a,c){a.disabled=b.disabled[c]});B.disabled=b.disabled}K.update()});G=m.copy();H=n.copy()});return K}b.dispatch.on("elementMouseout.tooltip",function(a){D.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",h.size())});D.on("tooltipHide",function(){if(x)a.tooltip.cleanup()});K.dispatch=D;K.scatter=b;K.legend=e;K.controls=f;K.xAxis=c;K.yAxis=d;K.distX=g;K.distY=h;d3.rebind(K,b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");K.options=a.utils.optionsFunc.bind(K);K.margin=function(a){if(!arguments.length)return i;i.top=typeof a.top!="undefined"?a.top:i.top;i.right=typeof a.right!="undefined"?a.right:i.right;i.bottom=typeof a.bottom!="undefined"?a.bottom:i.bottom;i.left=typeof a.left!="undefined"?a.left:i.left;return K};K.width=function(a){if(!arguments.length)return j;j=a;return K};K.height=function(a){if(!arguments.length)return k;k=a;return K};K.color=function(b){if(!arguments.length)return l;l=a.utils.getColor(b);e.color(l);g.color(l);h.color(l);return K};K.showDistX=function(a){if(!arguments.length)return o;o=a;return K};K.showDistY=function(a){if(!arguments.length)return p;p=a;return K};K.showControls=function(a){if(!arguments.length)return u;u=a;return K};K.showLegend=function(a){if(!arguments.length)return q;q=a;return K};K.showXAxis=function(a){if(!arguments.length)return r;r=a;return K};K.showYAxis=function(a){if(!arguments.length)return s;s=a;return K};K.rightAlignYAxis=function(a){if(!arguments.length)return t;t=a;d.orient(a?"right":"left");return K};K.fisheye=function(a){if(!arguments.length)return v;v=a;return K};K.tooltips=function(a){if(!arguments.length)return x;x=a;return K};K.tooltipContent=function(a){if(!arguments.length)return A;A=a;return K};K.tooltipXContent=function(a){if(!arguments.length)return y;y=a;return K};K.tooltipYContent=function(a){if(!arguments.length)return z;z=a;return K};K.state=function(a){if(!arguments.length)return B;B=a;return K};K.defaultState=function(a){if(!arguments.length)return C;C=a;return K};K.noData=function(a){if(!arguments.length)return E;E=a;return K};K.transitionDuration=function(a){if(!arguments.length)return F;F=a;return K};return K};a.models.sparkline=function(){"use strict";var b={top:2,right:0,bottom:2,left:0},c=400,d=32,e=true,f=d3.scale.linear(),g=d3.scale.linear(),h=function(a){return a.x},i=function(a){return a.y},j=a.utils.getColor(["#000"]),k,l,m,n;function o(a){a.each(function(a){var e=c-b.left-b.right,o=d-b.top-b.bottom,p=d3.select(this);f.domain(k||d3.extent(a,h)).range(m||[0,e]);g.domain(l||d3.extent(a,i)).range(n||[o,0]);var q=p.selectAll("g.nv-wrap.nv-sparkline").data([a]);var r=q.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");var s=r.append("g");var t=q.select("g");q.attr("transform","translate("+b.left+","+b.top+")");var u=q.selectAll("path").data(function(a){return[a]});u.enter().append("path");u.exit().remove();u.style("stroke",function(a,b){return a.color||j(a,b)}).attr("d",d3.svg.line().x(function(a,b){return f(h(a,b))}).y(function(a,b){return g(i(a,b))}));var v=q.selectAll("circle.nv-point").data(function(a){var b=a.map(function(a,b){return i(a,b)});function c(b){if(b!=-1){var c=a[b];c.pointIndex=b;return c}else{return null}}var d=c(b.lastIndexOf(g.domain()[1])),e=c(b.indexOf(g.domain()[0])),f=c(b.length-1);return[e,d,f].filter(function(a){return a!=null})});v.enter().append("circle");v.exit().remove();v.attr("cx",function(a,b){return f(h(a,a.pointIndex))}).attr("cy",function(a,b){return g(i(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return h(a,a.pointIndex)==f.domain()[1]?"nv-point nv-currentValue":i(a,a.pointIndex)==g.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return o}o.options=a.utils.optionsFunc.bind(o);o.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return o};o.width=function(a){if(!arguments.length)return c;c=a;return o};o.height=function(a){if(!arguments.length)return d;d=a;return o};o.x=function(a){if(!arguments.length)return h;h=d3.functor(a);return o};o.y=function(a){if(!arguments.length)return i;i=d3.functor(a);return o};o.xScale=function(a){if(!arguments.length)return f;f=a;return o};o.yScale=function(a){if(!arguments.length)return g;g=a;return o};o.xDomain=function(a){if(!arguments.length)return k;k=a;return o};o.yDomain=function(a){if(!arguments.length)return l;l=a;return o};o.xRange=function(a){if(!arguments.length)return m;m=a;return o};o.yRange=function(a){if(!arguments.length)return n;n=a;return o};o.animate=function(a){if(!arguments.length)return e;e=a;return o};o.color=function(b){if(!arguments.length)return j;j=a.utils.getColor(b);return o};return o};a.models.sparklinePlus=function(){"use strict";var b=a.models.sparkline();var c={top:15,right:100,bottom:10,left:50},d=null,e=null,f,g,h=[],i=false,j=d3.format(",r"),k=d3.format(",.2f"),l=true,m=true,n=false,o="No Data Available.";
function p(a){a.each(function(l){var q=d3.select(this);var r=(d||parseInt(q.style("width"))||960)-c.left-c.right,s=(e||parseInt(q.style("height"))||400)-c.top-c.bottom;p.update=function(){p(a)};p.container=this;if(!l||!l.length){var t=q.selectAll(".nv-noData").data([o]);t.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");t.attr("x",c.left+r/2).attr("y",c.top+s/2).text(function(a){return a});return p}else{q.selectAll(".nv-noData").remove()}var u=b.y()(l[l.length-1],l.length-1);f=b.xScale();g=b.yScale();var v=q.selectAll("g.nv-wrap.nv-sparklineplus").data([l]);var w=v.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus");var x=w.append("g");var y=v.select("g");x.append("g").attr("class","nv-sparklineWrap");x.append("g").attr("class","nv-valueWrap");x.append("g").attr("class","nv-hoverArea");v.attr("transform","translate("+c.left+","+c.top+")");var z=y.select(".nv-sparklineWrap");b.width(r).height(s);z.call(b);var A=y.select(".nv-valueWrap");var B=A.selectAll(".nv-currentValue").data([u]);B.enter().append("text").attr("class","nv-currentValue").attr("dx",n?-8:8).attr("dy",".9em").style("text-anchor",n?"end":"start");B.attr("x",r+(n?c.right:0)).attr("y",m?function(a){return g(a)}:0).style("fill",b.color()(l[l.length-1],l.length-1)).text(k(u));x.select(".nv-hoverArea").append("rect").on("mousemove",D).on("click",function(){i=!i}).on("mouseout",function(){h=[];C()});y.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-c.left+","+-c.top+")"}).attr("width",r+c.left+c.right).attr("height",s+c.top);function C(){if(i)return;var a=y.selectAll(".nv-hoverValue").data(h);var d=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+f(b.x()(l[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);if(!h.length)return;d.append("line").attr("x1",0).attr("y1",-c.top).attr("x2",0).attr("y2",s);d.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-c.top).attr("text-anchor","end").attr("dy",".9em");y.select(".nv-hoverValue .nv-xValue").text(j(b.x()(l[h[0]],h[0])));d.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-c.top).attr("text-anchor","start").attr("dy",".9em");y.select(".nv-hoverValue .nv-yValue").text(k(b.y()(l[h[0]],h[0])))}function D(){if(i)return;var a=d3.mouse(this)[0]-c.left;function d(a,c){var d=Math.abs(b.x()(a[0],0)-c);var e=0;for(var f=0;f<a.length;f++){if(Math.abs(b.x()(a[f],f)-c)<d){d=Math.abs(b.x()(a[f],f)-c);e=f}}return e}h=[d(l,Math.round(f.invert(a)))];C()}});return p}p.sparkline=b;d3.rebind(p,b,"x","y","xScale","yScale","color");p.options=a.utils.optionsFunc.bind(p);p.margin=function(a){if(!arguments.length)return c;c.top=typeof a.top!="undefined"?a.top:c.top;c.right=typeof a.right!="undefined"?a.right:c.right;c.bottom=typeof a.bottom!="undefined"?a.bottom:c.bottom;c.left=typeof a.left!="undefined"?a.left:c.left;return p};p.width=function(a){if(!arguments.length)return d;d=a;return p};p.height=function(a){if(!arguments.length)return e;e=a;return p};p.xTickFormat=function(a){if(!arguments.length)return j;j=a;return p};p.yTickFormat=function(a){if(!arguments.length)return k;k=a;return p};p.showValue=function(a){if(!arguments.length)return l;l=a;return p};p.alignValue=function(a){if(!arguments.length)return m;m=a;return p};p.rightAlignValue=function(a){if(!arguments.length)return n;n=a;return p};p.noData=function(a){if(!arguments.length)return o;o=a;return p};return p};a.models.stackedArea=function(){"use strict";var b={top:0,right:0,bottom:0,left:0},c=960,d=500,e=a.utils.defaultColor(),f=Math.floor(Math.random()*1e5),g=function(a){return a.x},h=function(a){return a.y},i="stack",j="zero",k="default",l="linear",m=false,n,o,p=a.models.scatter(),q=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");p.size(2.2).sizeDomain([2.2,2.2]);function r(a){a.each(function(a){var i=c-b.left-b.right,s=d-b.top-b.bottom,t=d3.select(this);n=p.xScale();o=p.yScale();var u=a;a.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,c){a.index=c;a.seriesIndex=b;return a})});var v=a.filter(function(a){return!a.disabled});a=d3.layout.stack().order(k).offset(j).values(function(a){return a.values}).x(g).y(h).out(function(a,b,c){var d=h(a)===0?0:c;a.display={y:d,y0:b}})(v);var w=t.selectAll("g.nv-wrap.nv-stackedarea").data([a]);var x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea");var y=x.append("defs");var z=x.append("g");var A=w.select("g");z.append("g").attr("class","nv-areaWrap");z.append("g").attr("class","nv-scatterWrap");w.attr("transform","translate("+b.left+","+b.top+")");p.width(i).height(s).x(g).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(a.map(function(a,b){return a.color||e(a,a.seriesIndex)}));var B=A.select(".nv-scatterWrap").datum(a);B.call(p);y.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");w.select("#nv-edge-clip-"+f+" rect").attr("width",i).attr("height",s);A.attr("clip-path",m?"url(#nv-edge-clip-"+f+")":"");var C=d3.svg.area().x(function(a,b){return n(g(a,b))}).y0(function(a){return o(a.display.y0)}).y1(function(a){return o(a.display.y+a.display.y0)}).interpolate(l);var D=d3.svg.area().x(function(a,b){return n(g(a,b))}).y0(function(a){return o(a.display.y0)}).y1(function(a){return o(a.display.y0)});var E=A.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});E.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return D(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",true);q.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",false);q.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",false);q.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});E.exit().remove();E.style("fill",function(a,b){return a.color||e(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||e(a,a.seriesIndex)});E.transition().attr("d",function(a,b){return C(a.values,b)});p.dispatch.on("elementMouseover.area",function(a){A.select(".nv-chart-"+f+" .nv-area-"+a.seriesIndex).classed("hover",true)});p.dispatch.on("elementMouseout.area",function(a){A.select(".nv-chart-"+f+" .nv-area-"+a.seriesIndex).classed("hover",false)});r.d3_stackedOffset_stackPercent=function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,i=[];for(f=0;f<c;++f){for(e=0,g=0;e<u.length;e++)g+=h(u[e].values[f]);if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)i[f]=0;return i}});return r}p.dispatch.on("elementClick.area",function(a){q.areaClick(a)});p.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top],q.tooltipShow(a)});p.dispatch.on("elementMouseout.tooltip",function(a){q.tooltipHide(a)});r.dispatch=q;r.scatter=p;d3.rebind(r,p,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights");r.options=a.utils.optionsFunc.bind(r);r.x=function(a){if(!arguments.length)return g;g=d3.functor(a);return r};r.y=function(a){if(!arguments.length)return h;h=d3.functor(a);return r};r.margin=function(a){if(!arguments.length)return b;b.top=typeof a.top!="undefined"?a.top:b.top;b.right=typeof a.right!="undefined"?a.right:b.right;b.bottom=typeof a.bottom!="undefined"?a.bottom:b.bottom;b.left=typeof a.left!="undefined"?a.left:b.left;return r};r.width=function(a){if(!arguments.length)return c;c=a;return r};r.height=function(a){if(!arguments.length)return d;d=a;return r};r.clipEdge=function(a){if(!arguments.length)return m;m=a;return r};r.color=function(b){if(!arguments.length)return e;e=a.utils.getColor(b);return r};r.offset=function(a){if(!arguments.length)return j;j=a;return r};r.order=function(a){if(!arguments.length)return k;k=a;return r};r.style=function(a){if(!arguments.length)return i;i=a;switch(i){case"stack":r.offset("zero");r.order("default");break;case"stream":r.offset("wiggle");r.order("inside-out");break;case"stream-center":r.offset("silhouette");r.order("inside-out");break;case"expand":r.offset("expand");r.order("default");break;case"stack_percent":r.offset(r.d3_stackedOffset_stackPercent);r.order("default");break}return r};r.interpolate=function(a){if(!arguments.length)return l;l=a;return r};return r};a.models.stackedAreaChart=function(){"use strict";var b=a.models.stackedArea(),c=a.models.axis(),d=a.models.axis(),e=a.models.legend(),f=a.models.legend(),g=a.interactiveGuideline();var h={top:30,right:25,bottom:50,left:60},i=null,j=null,k=a.utils.defaultColor(),l=true,m=true,n=true,o=true,p=false,q=false,r=true,s=function(a,b,c,d,e){return"<h3>"+a+"</h3>"+"<p>"+c+" on "+b+"</p>"},t,u,v=d3.format(",.2f"),w={style:b.style()},x=null,y="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),A=250,B=["Stacked","Stream","Expanded"],C={},D=250;c.orient("bottom").tickPadding(7);d.orient(p?"right":"left");f.updateState(false);var E=function(e,f){var g=e.pos[0]+(f.offsetLeft||0),h=e.pos[1]+(f.offsetTop||0),i=c.tickFormat()(b.x()(e.point,e.pointIndex)),j=d.tickFormat()(b.y()(e.point,e.pointIndex)),k=s(e.series.key,i,j,e,F);a.tooltip.show([g,h],k,e.value<0?"n":"s",null,f)};function F(s){s.each(function(s){var G=d3.select(this),H=this;var I=(i||parseInt(G.style("width"))||960)-h.left-h.right,J=(j||parseInt(G.style("height"))||400)-h.top-h.bottom;F.update=function(){G.transition().duration(D).call(F)};F.container=this;w.disabled=s.map(function(a){return!!a.disabled});if(!x){var K;x={};for(K in w){if(w[K]instanceof Array)x[K]=w[K].slice(0);else x[K]=w[K]}}if(!s||!s.length||!s.filter(function(a){return a.values.length}).length){var L=G.selectAll(".nv-noData").data([y]);L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");L.attr("x",h.left+I/2).attr("y",h.top+J/2).text(function(a){return a});return F}else{G.selectAll(".nv-noData").remove()}t=b.xScale();u=b.yScale();var M=G.selectAll("g.nv-wrap.nv-stackedAreaChart").data([s]);var N=M.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g");var O=M.select("g");N.append("rect").style("opacity",0);N.append("g").attr("class","nv-x nv-axis");N.append("g").attr("class","nv-y nv-axis");N.append("g").attr("class","nv-stackedWrap");N.append("g").attr("class","nv-legendWrap");N.append("g").attr("class","nv-controlsWrap");N.append("g").attr("class","nv-interactive");O.select("rect").attr("width",I).attr("height",J);if(m){var P=l?I-A:I;e.width(P);O.select(".nv-legendWrap").datum(s).call(e);if(h.top!=e.height()){h.top=e.height();J=(j||parseInt(G.style("height"))||400)-h.top-h.bottom}O.select(".nv-legendWrap").attr("transform","translate("+(I-P)+","+-h.top+")")}if(l){var Q=[{key:C.stacked||"Stacked",metaKey:"Stacked",disabled:b.style()!="stack",style:"stack"},{key:C.stream||"Stream",metaKey:"Stream",disabled:b.style()!="stream",style:"stream"},{key:C.expanded||"Expanded",metaKey:"Expanded",disabled:b.style()!="expand",style:"expand"},{key:C.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:b.style()!="stack_percent",style:"stack_percent"}];A=B.length/3*260;Q=Q.filter(function(a){return B.indexOf(a.metaKey)!==-1});f.width(A).color(["#444","#444","#444"]);O.select(".nv-controlsWrap").datum(Q).call(f);if(h.top!=Math.max(f.height(),e.height())){h.top=Math.max(f.height(),e.height());J=(j||parseInt(G.style("height"))||400)-h.top-h.bottom}O.select(".nv-controlsWrap").attr("transform","translate(0,"+-h.top+")")}M.attr("transform","translate("+h.left+","+h.top+")");if(p){O.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)")}if(q){g.width(I).height(J).margin({left:h.left,top:h.top}).svgContainer(G).xScale(t);M.select(".nv-interactive").call(g)}b.width(I).height(J);var R=O.select(".nv-stackedWrap").datum(s);R.transition().call(b);if(n){c.scale(t).ticks(I/100).tickSize(-J,0);O.select(".nv-x.nv-axis").attr("transform","translate(0,"+J+")");O.select(".nv-x.nv-axis").transition().duration(0).call(c)}if(o){d.scale(u).ticks(b.offset()=="wiggle"?0:J/36).tickSize(-I,0).setTickFormat(b.style()=="expand"||b.style()=="stack_percent"?d3.format("%"):v);O.select(".nv-y.nv-axis").transition().duration(0).call(d)}b.dispatch.on("areaClick.toggle",function(a){if(s.filter(function(a){return!a.disabled}).length===1)s.forEach(function(a){a.disabled=false});else s.forEach(function(b,c){b.disabled=c!=a.seriesIndex});w.disabled=s.map(function(a){return!!a.disabled});z.stateChange(w);F.update()});e.dispatch.on("stateChange",function(a){w.disabled=a.disabled;z.stateChange(w);F.update()});f.dispatch.on("legendClick",function(a,c){if(!a.disabled)return;Q=Q.map(function(a){a.disabled=true;return a});a.disabled=false;b.style(a.style);w.style=b.style();z.stateChange(w);F.update()});g.dispatch.on("elementMousemove",function(e){b.clearHighlights();var f,i,j,l=[];s.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(c,d){i=a.interactiveBisect(c.values,e.pointXValue,F.x());b.highlightPoint(d,i,true);var g=c.values[i];if(typeof g==="undefined")return;if(typeof f==="undefined")f=g;if(typeof j==="undefined")j=F.xScale()(F.x()(g,i));var h=b.style()=="expand"?g.display.y:F.y()(g,i);l.push({key:c.key,value:h,color:k(c,c.seriesIndex),stackedValue:g.display})});l.reverse();if(l.length>2){var m=F.yScale().invert(e.mouseY);var n=Infinity,o=null;l.forEach(function(a,b){m=Math.abs(m);var c=Math.abs(a.stackedValue.y0);var d=Math.abs(a.stackedValue.y);if(m>=c&&m<=d+c){o=b;return}});if(o!=null)l[o].highlight=true}var p=c.tickFormat()(F.x()(f,i));var q=b.style()=="expand"?function(a,b){return d3.format(".1%")(a)}:function(a,b){return d.tickFormat()(a)};g.tooltip.position({left:j+h.left,top:e.mouseY+h.top}).chartContainer(H.parentNode).enabled(r).valueFormatter(q).data({value:p,series:l})();g.renderGuideLine(j)});g.dispatch.on("elementMouseout",function(a){z.tooltipHide();b.clearHighlights()});z.on("tooltipShow",function(a){if(r)E(a,H.parentNode)});z.on("changeState",function(a){if(typeof a.disabled!=="undefined"&&s.length===a.disabled.length){s.forEach(function(b,c){b.disabled=a.disabled[c]});w.disabled=a.disabled}if(typeof a.style!=="undefined"){b.style(a.style)}F.update()})});return F}b.dispatch.on("tooltipShow",function(a){a.pos=[a.pos[0]+h.left,a.pos[1]+h.top],z.tooltipShow(a)});b.dispatch.on("tooltipHide",function(a){z.tooltipHide(a)});z.on("tooltipHide",function(){if(r)a.tooltip.cleanup()});F.dispatch=z;F.stacked=b;F.legend=e;F.controls=f;F.xAxis=c;F.yAxis=d;F.interactiveLayer=g;d3.rebind(F,b,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");F.options=a.utils.optionsFunc.bind(F);F.margin=function(a){if(!arguments.length)return h;h.top=typeof a.top!="undefined"?a.top:h.top;h.right=typeof a.right!="undefined"?a.right:h.right;h.bottom=typeof a.bottom!="undefined"?a.bottom:h.bottom;h.left=typeof a.left!="undefined"?a.left:h.left;return F};F.width=function(a){if(!arguments.length)return i;i=a;return F};F.height=function(a){if(!arguments.length)return j;j=a;return F};F.color=function(c){if(!arguments.length)return k;k=a.utils.getColor(c);e.color(k);b.color(k);return F};F.showControls=function(a){if(!arguments.length)return l;l=a;return F};F.showLegend=function(a){if(!arguments.length)return m;m=a;return F};F.showXAxis=function(a){if(!arguments.length)return n;n=a;return F};F.showYAxis=function(a){if(!arguments.length)return o;o=a;return F};F.rightAlignYAxis=function(a){if(!arguments.length)return p;p=a;d.orient(a?"right":"left");return F};F.useInteractiveGuideline=function(a){if(!arguments.length)return q;q=a;if(a===true){F.interactive(false);F.useVoronoi(false)}return F};F.tooltip=function(a){if(!arguments.length)return s;s=a;return F};F.tooltips=function(a){if(!arguments.length)return r;r=a;return F};F.tooltipContent=function(a){if(!arguments.length)return s;s=a;return F};F.state=function(a){if(!arguments.length)return w;w=a;return F};F.defaultState=function(a){if(!arguments.length)return x;x=a;return F};F.noData=function(a){if(!arguments.length)return y;y=a;return F};F.transitionDuration=function(a){if(!arguments.length)return D;D=a;return F};F.controlsData=function(a){if(!arguments.length)return B;B=a;return F};F.controlLabels=function(a){if(!arguments.length)return C;if(typeof a!=="object")return C;C=a;return F};d.setTickFormat=d.tickFormat;d.tickFormat=function(a){if(!arguments.length)return v;v=a;return d};return F}})();(function(){"use strict";angular.module("legendDirectives",[]).directive("simpleSvgLegend",function(){return{restrict:"EA",scope:{id:"@",width:"@",height:"@",margin:"@",x:"@",y:"@",labels:"@",styles:"@",classes:"@",shapes:"@",padding:"@",columns:"@"},compile:function(){return function a(b,c,d){var e,f,g,h,i=0,j=0,k=1,l=0,m=10,n,o="http://www.w3.org/2000/svg",p,q,r,s,t,u,v=0,w=0;h=b.$eval(d.margin)||{left:5,top:5,bottom:5,right:5};f=d.width==="undefined"?c[0].parentElement.offsetWidth-(h.left+h.right):+d.width-(h.left+h.right);g=d.height==="undefined"?c[0].parentElement.offsetHeight-(h.top+h.bottom):+d.height-(h.top+h.bottom);if(!d.id){e="legend-"+Math.random()}else{e=d.id}if(d.columns){k=+d.columns}if(d.padding){m=+d.padding}n=m+"";p=document.createElementNS(o,"svg");if(d.width){p.setAttribute("width",f+"")}if(d.height){p.setAttribute("height",g+"")}p.setAttribute("id",e);if(d.x){v=+d.x}if(d.y){w=+d.y}c.append(p);q=document.createElementNS(o,"g");q.setAttribute("transform","translate("+v+","+w+")");p.appendChild(q);if(d.labels){r=b.$eval(d.labels)}if(d.styles){s=b.$eval(d.styles)}if(d.classes){t=b.$eval(d.classes)}if(d.shapes){u=b.$eval(d.shapes)}for(var x in r){if(r.hasOwnProperty(x)){var y=u[x],z,A,B,C;if(l%k===0){i=0;j=j+(m+m*1.5)}C=document.createElementNS(o,"g");C.setAttribute("transform","translate("+i+", "+j+")");if(y==="rect"){z=document.createElementNS(o,"rect");z.setAttribute("y",0-m/2+"");z.setAttribute("width",n);z.setAttribute("height",n)}else if(y==="ellipse"){z=document.createElementNS(o,"ellipse");z.setAttribute("rx",n);z.setAttribute("ry",m+m/2+"")}else{z=document.createElementNS(o,"circle");z.setAttribute("r",m/2+"")}if(s&&s[x]){z.setAttribute("style",s[x])}if(t&&t[x]){z.setAttribute("class",t[x])}C.appendChild(z);i=i+z.clientWidth+(m+m/2);A=document.createElementNS(o,"text");A.setAttribute("transform","translate(10, 5)");A.appendChild(document.createTextNode(r[x]));C.appendChild(A);q.appendChild(C);B=A.clientWidth;i=i+B+(m+m*.75);l++}}}}}}).directive("nvd3Legend",[function(){var a,b,c,d;return{restrict:"EA",scope:{data:"=",id:"@",margin:"&",width:"@",height:"@",key:"&",color:"&",align:"@",rightalign:"@",updatestate:"@",radiobuttonmode:"@",x:"&",y:"&"},link:function(e,f,g){e.$watch("data",function(h){if(h){if(e.chart){return d3.select("#"+g.id+" svg").attr("height",c).attr("width",b).datum(h).transition().duration(250).call(e.chart)}a=e.$eval(g.margin)||{top:5,right:0,bottom:5,left:0};b=g.width===undefined?f[0].parentElement.offsetWidth-(a.left+a.right):+g.width-(a.left+a.right);c=g.height===undefined?f[0].parentElement.offsetHeight-(a.top+a.bottom):+g.height-(a.top+a.bottom);if(b===undefined||b<0){b=400}if(c===undefined||c<0){c=20}if(!g.id){d="legend-"+Math.random()}else{d=g.id}nv.addGraph({generate:function(){var d=nv.models.legend().width(b).height(c).margin(a).align(g.align===undefined?true:g.align==="true").rightAlign(g.rightalign===undefined?true:g.rightalign==="true").updateState(g.updatestate===undefined?true:g.updatestate==="true").radioButtonMode(g.radiobuttonmode===undefined?false:g.radiobuttonmode==="true").color(g.color===undefined?nv.utils.defaultColor():e.color()).key(g.key===undefined?function(a){return a.key}:e.key());if(!d3.select("#"+g.id+" svg")[0][0]){d3.select("#"+g.id).append("svg")}d3.select("#"+g.id+" svg").attr("height",c).attr("width",b).datum(h).transition().duration(250).call(d);nv.utils.windowResize(d.update);e.chart=d;return d}})}})}}}]);function a(a,b){var c=a.$eval(b.legendmargin)||{left:0,top:5,bottom:5,right:0};if(typeof c!=="object"){c={left:c,top:c,bottom:c,right:c}}a.legendmargin=c}function b(b,c,d){if(b.legend&&d.showlegend&&d.showlegend==="true"){a(c,d);b.legend.margin(c.legendmargin);b.legend.width(d.legendwidth===undefined?400:+d.legendwidth);b.legend.height(d.legendheight===undefined?20:+d.legendheight);b.legend.key(d.legendkey===undefined?function(a){return a.key}:c.legendkey());b.legend.color(d.legendcolor===undefined?nv.utils.defaultColor():c.legendcolor());b.legend.align(d.legendalign===undefined?true:d.legendalign==="true");b.legend.rightAlign(d.legendrightalign===undefined?true:d.legendrightalign==="true");b.legend.updateState(d.legendupdatestate===undefined?true:d.legendupdatestate==="true");b.legend.radioButtonMode(d.legendradiobuttonmode===undefined?false:d.legendradiobuttonmode==="true")}}function c(a,b){if(a.dispatch){if(a.dispatch.tooltipShow){a.dispatch.on("tooltipShow.directive",function(a){b.$emit("tooltipShow.directive",a)})}if(a.dispatch.tooltipHide){a.dispatch.on("tooltipHide.directive",function(a){b.$emit("tooltipHide.directive",a)})}if(a.dispatch.beforeUpdate){a.dispatch.on("beforeUpdate.directive",function(a){b.$emit("beforeUpdate.directive",a)})}if(a.dispatch.stateChange){a.dispatch.on("stateChange.directive",function(a){b.$emit("stateChange.directive",a)})}if(a.dispatch.changeState){a.dispatch.on("changeState.directive",function(a){b.$emit("changeState.directive",a)})}}if(a.lines){a.lines.dispatch.on("elementMouseover.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)});a.lines.dispatch.on("elementMouseout.tooltip.directive",function(a){b.$emit("elementMouseout.tooltip.directive",a)});a.lines.dispatch.on("elementClick.directive",function(a){b.$emit("elementClick.directive",a)})}if(a.stacked&&a.stacked.dispatch){a.stacked.dispatch.on("areaClick.toggle.directive",function(a){b.$emit("areaClick.toggle.directive",a)});a.stacked.dispatch.on("tooltipShow.directive",function(a){b.$emit("tooltipShow.directive",a)});a.stacked.dispatch.on("tooltipHide.directive",function(a){b.$emit("tooltipHide.directive",a)})}if(a.interactiveLayer){if(a.interactiveLayer.elementMouseout){a.interactiveLayer.dispatch.on("elementMouseout.directive",function(a){b.$emit("elementMouseout.directive",a)})}if(a.interactiveLayer.elementMousemove){a.interactiveLayer.dispatch.on("elementMousemove.directive",function(a){b.$emit("elementMousemove.directive",a)})}}if(a.discretebar){a.discretebar.dispatch.on("elementMouseover.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)});a.discretebar.dispatch.on("elementMouseout.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)});a.discretebar.dispatch.on("elementClick.directive",function(a){b.$emit("elementClick.directive",a)})}if(a.multibar){a.multibar.dispatch.on("elementMouseover.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)});a.multibar.dispatch.on("elementMouseout.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)});a.multibar.dispatch.on("elementClick.directive",function(a){b.$emit("elementClick.directive",a)})}if(a.pie){a.pie.dispatch.on("elementMouseover.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)});a.pie.dispatch.on("elementMouseout.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)});a.pie.dispatch.on("elementClick.directive",function(a){b.$emit("elementClick.directive",a)})}if(a.scatter){a.scatter.dispatch.on("elementMouseover.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)});a.scatter.dispatch.on("elementMouseout.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)})}if(a.bullet){a.bullet.dispatch.on("elementMouseover.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)});a.bullet.dispatch.on("elementMouseout.tooltip.directive",function(a){b.$emit("elementMouseover.tooltip.directive",a)})}if(a.legend){a.legend.dispatch.on("stateChange.legend.directive",function(a){b.$emit("stateChange.legend.directive",a)});a.legend.dispatch.on("legendClick.directive",function(a,c){b.$emit("legendClick.directive",a,c)});a.legend.dispatch.on("legendDblclick.directive",function(a,c){b.$emit("legendDblclick.directive",a,c)});a.legend.dispatch.on("legendMouseover.directive",function(a,c){b.$emit("legendMouseover.directive",a,c)})}if(a.controls){if(a.controls.legendClick){a.controls.dispatch.on("legendClick.directive",function(a,c){b.$emit("legendClick.directive",a,c)})}}}function d(a,b,c){if(c.xaxisorient){a.xAxis.orient(c.xaxisorient)}if(c.xaxisticks){a.xAxis.scale().ticks(c.xaxisticks)}if(c.xaxistickvalues){if(Array.isArray(b.$eval(c.xaxistickvalues))){a.xAxis.tickValues(b.$eval(c.xaxistickvalues))}else if(typeof b.xaxistickvalues()==="function"){a.xAxis.tickValues(b.xaxistickvalues())}}if(c.xaxisticksubdivide){a.xAxis.tickSubdivide(b.xaxisticksubdivide())}if(c.xaxisticksize){a.xAxis.tickSize(b.xaxisticksize())}if(c.xaxistickpadding){a.xAxis.tickPadding(b.xaxistickpadding())}if(c.xaxistickformat){a.xAxis.tickFormat(b.xaxistickformat())}if(c.xaxislabel){a.xAxis.axisLabel(c.xaxislabel)}if(c.xaxisscale){a.xAxis.scale(b.xaxisscale())}if(c.xaxisdomain){if(Array.isArray(b.$eval(c.xaxisdomain))){a.xDomain(b.$eval(c.xaxisdomain))}else if(typeof b.xaxisdomain()==="function"){a.xDomain(b.xaxisdomain())}}if(c.xaxisrange){if(Array.isArray(b.$eval(c.xaxisrange))){a.xRange(b.$eval(c.xaxisrange))}else if(typeof b.xaxisrange()==="function"){a.xRange(b.xaxisrange())}}if(c.xaxisrangeband){a.xAxis.rangeBand(b.xaxisrangeband())}if(c.xaxisrangebands){a.xAxis.rangeBands(b.xaxisrangebands())}if(c.xaxisshowmaxmin){a.xAxis.showMaxMin(c.xaxisshowmaxmin==="true")}if(c.xaxishighlightzero){a.xAxis.highlightZero(c.xaxishighlightzero==="true")}if(c.xaxisrotatelabels){a.xAxis.rotateLabels(+c.xaxisrotatelabels)}if(c.xaxisstaggerlabels){a.xAxis.staggerLabels(c.xaxisstaggerlabels==="true")}if(c.xaxislabeldistance){a.xAxis.axisLabelDistance(+c.xaxislabeldistance)}}function e(a,b,c){if(c.x2axisorient){a.x2Axis.orient(c.x2axisorient)}if(c.x2axisticks){a.x2Axis.scale().ticks(c.x2axisticks)}if(c.x2axistickvalues){if(Array.isArray(b.$eval(c.x2axistickvalues))){a.x2Axis.tickValues(b.$eval(c.x2axistickvalues))}else if(typeof b.xaxistickvalues()==="function"){a.x2Axis.tickValues(b.x2axistickvalues())}}if(c.x2axisticksubdivide){a.x2Axis.tickSubdivide(b.x2axisticksubdivide())}if(c.x2axisticksize){a.x2Axis.tickSize(b.x2axisticksize())}if(c.x2axistickpadding){a.x2Axis.tickPadding(b.x2axistickpadding())}if(c.x2axistickformat){a.x2Axis.tickFormat(b.x2axistickformat())}if(c.x2axislabel){a.x2Axis.axisLabel(c.x2axislabel)}if(c.x2axisscale){a.x2Axis.scale(b.x2axisscale())}if(c.x2axisdomain){if(Array.isArray(b.$eval(c.x2axisdomain))){a.x2Axis.domain(b.$eval(c.x2axisdomain))}else if(typeof b.x2axisdomain()==="function"){a.x2Axis.domain(b.x2axisdomain())}}if(c.x2axisrange){if(Array.isArray(b.$eval(c.x2axisrange))){a.x2Axis.range(b.$eval(c.x2axisrange))}else if(typeof b.x2axisrange()==="function"){a.x2Axis.range(b.x2axisrange())}}if(c.x2axisrangeband){a.x2Axis.rangeBand(b.x2axisrangeband())}if(c.x2axisrangebands){a.x2Axis.rangeBands(b.x2axisrangebands())}if(c.x2axisshowmaxmin){a.x2Axis.showMaxMin(c.x2axisshowmaxmin==="true")}if(c.x2axishighlightzero){a.x2Axis.highlightZero(c.x2axishighlightzero==="true")}if(c.x2axisrotatelables){a.x2Axis.rotateLabels(+c.x2axisrotatelables)}if(c.x2axisstaggerlabels){a.x2Axis.staggerLabels(c.x2axisstaggerlabels==="true")}if(c.x2axislabeldistance){a.x2Axis.axisLabelDistance(+c.x2axislabeldistance)}}function f(a,b,c){if(c.yaxisorient){a.yAxis.orient(c.yaxisorient)}if(c.yaxisticks){a.yAxis.scale().ticks(c.yaxisticks)}if(c.yaxistickvalues){if(Array.isArray(b.$eval(c.yaxistickvalues))){a.yAxis.tickValues(b.$eval(c.yaxistickvalues))}else if(typeof b.yaxistickvalues()==="function"){a.yAxis.tickValues(b.yaxistickvalues())}}if(c.yaxisticksubdivide){a.yAxis.tickSubdivide(b.yaxisticksubdivide())}if(c.yaxisticksize){a.yAxis.tickSize(b.yaxisticksize())}if(c.yaxistickpadding){a.yAxis.tickPadding(b.yaxistickpadding())}if(c.yaxistickformat){a.yAxis.tickFormat(b.yaxistickformat())}if(c.yaxislabel){a.yAxis.axisLabel(c.yaxislabel)}if(c.yaxisscale){a.yAxis.scale(b.yaxisscale())}if(c.yaxisdomain){if(Array.isArray(b.$eval(c.yaxisdomain))){a.yDomain(b.$eval(c.yaxisdomain))}else if(typeof b.yaxisdomain()==="function"){a.yDomain(b.yaxisdomain())}}if(c.yaxisrange){if(Array.isArray(b.$eval(c.yaxisrange))){a.yRange(b.$eval(c.yaxisrange))}else if(typeof b.yaxisrange()==="function"){a.yRange(b.yaxisrange())}}if(c.yaxisrangeband){a.yAxis.rangeBand(b.yaxisrangeband())}if(c.yaxisrangebands){a.yAxis.rangeBands(b.yaxisrangebands())}if(c.yaxisshowmaxmin){a.yAxis.showMaxMin(c.yaxisshowmaxmin==="true")}if(c.yaxishighlightzero){a.yAxis.highlightZero(c.yaxishighlightzero==="true")}if(c.yaxisrotatelabels){a.yAxis.rotateLabels(+c.yaxisrotatelabels)}if(c.yaxisrotateylabel){a.yAxis.rotateYLabel(c.yaxisrotateylabel==="true")}if(c.yaxisstaggerlabels){a.yAxis.staggerLabels(c.yaxisstaggerlabels==="true")}if(c.yaxislabeldistance){a.yAxis.axisLabelDistance(+c.yaxislabeldistance)}}function g(a,b,c){if(c.y1axisticks){a.y1Axis.scale().ticks(c.y1axisticks)}if(c.y1axistickvalues){if(Array.isArray(b.$eval(c.y1axistickvalues))){a.y1Axis.tickValues(b.$eval(c.y1axistickvalues))}else if(typeof b.y1axistickvalues()==="function"){a.y1Axis.tickValues(b.y1axistickvalues())}}if(c.y1axisticksubdivide){a.y1Axis.tickSubdivide(b.y1axisticksubdivide())}if(c.y1axisticksize){a.y1Axis.tickSize(b.y1axisticksize())}if(c.y1axistickpadding){a.y1Axis.tickPadding(b.y1axistickpadding())}if(c.y1axistickformat){a.y1Axis.tickFormat(b.y1axistickformat())}if(c.y1axislabel){a.y1Axis.axisLabel(c.y1axislabel)}if(c.y1axisscale){a.y1Axis.yScale(b.y1axisscale())}if(c.y1axisdomain){if(Array.isArray(b.$eval(c.y1axisdomain))){a.y1Axis.domain(b.$eval(c.y1axisdomain))}else if(typeof b.y1axisdomain()==="function"){a.y1Axis.domain(b.y1axisdomain())}}if(c.y1axisrange){if(Array.isArray(b.$eval(c.y1axisrange))){a.y1Axis.range(b.$eval(c.y1axisrange))}else if(typeof b.y1axisrange()==="function"){a.y1Axis.range(b.y1axisrange())}}if(c.y1axisrangeband){a.y1Axis.rangeBand(b.y1axisrangeband())}if(c.y1axisrangebands){a.y1Axis.rangeBands(b.y1axisrangebands())}if(c.y1axisshowmaxmin){a.y1Axis.showMaxMin(c.y1axisshowmaxmin==="true")}if(c.y1axishighlightzero){a.y1Axis.highlightZero(c.y1axishighlightzero==="true")}if(c.y1axisrotatelabels){a.y1Axis.rotateLabels(+b.y1axisrotatelabels)}if(c.y1axisrotateylabel){a.y1Axis.rotateYLabel(c.y1axisrotateylabel==="true")}if(c.y1axisstaggerlabels){a.y1Axis.staggerlabels(c.y1axisstaggerlabels==="true")}if(c.y1axislabeldistance){a.y1Axis.axisLabelDistance(+c.y1axislabeldistance)}}function h(a,b,c){if(c.y2axisticks){a.y2Axis.scale().ticks(c.y2axisticks)}if(c.y2axistickvalues){a.y2Axis.tickValues(b.$eval(c.y2axistickvalues))}if(c.y2axisticksubdivide){a.y2Axis.tickSubdivide(b.y2axisticksubdivide())}if(c.y2axisticksize){a.y2Axis.tickSize(b.y2axisticksize())}if(c.y2axistickpadding){a.y2Axis.tickPadding(b.y2axistickpadding())}if(c.y2axistickformat){a.y2Axis.tickFormat(b.y2axistickformat())}if(c.y2axislabel){a.y2Axis.axisLabel(c.y2axislabel)}if(c.y2axisscale){a.y2Axis.yScale(b.y2axisscale())}if(c.y2axisdomain){if(Array.isArray(b.$eval(c.y2axisdomain))){a.y2Axis.domain(b.$eval(c.y2axisdomain))}else if(typeof b.y2axisdomain()==="function"){a.y2Axis.domain(b.y2axisdomain())
}}if(c.y2axisrange){if(Array.isArray(b.$eval(c.y2axisrange))){a.y2Axis.range(b.$eval(c.y2axisrange))}else if(typeof b.y2axisrange()==="function"){a.y2Axis.range(b.y2axisrange())}}if(c.y2axisrangeband){a.y2Axis.rangeBand(b.y2axisrangeband())}if(c.y2axisrangebands){a.y2Axis.rangeBands(b.y2axisrangebands())}if(c.y2axisshowmaxmin){a.y2Axis.showMaxMin(c.y2axisshowmaxmin==="true")}if(c.y2axishighlightzero){a.y2Axis.highlightZero(c.y2axishighlightzero==="true")}if(c.y2axisrotatelabels){a.y2Axis.rotateLabels(+b.y2axisrotatelabels)}if(c.y2axisrotateylabel){a.y2Axis.rotateYLabel(c.y2axisrotateylabel==="true")}if(c.y2axisstaggerlabels){a.y2Axis.staggerlabels(c.y2axisstaggerlabels==="true")}if(c.y2axislabeldistance){a.y2Axis.axisLabelDistance(+c.y2axislabeldistance)}}function i(a,b){var c=a.$eval(b.margin)||{left:50,top:50,bottom:50,right:50};if(typeof c!=="object"){c={left:c,top:c,bottom:c,right:c}}a.margin=c}function j(a,i,j,k,l){d(k,a,i);e(k,a,i);f(k,a,i);g(k,a,i);h(k,a,i);b(k,a,i);c(k,a);var m;if(!i.id){m="chartid"+Math.floor(Math.random()*1000000001);angular.element(j).attr("data-chartid",m);if(d3.select("[data-chartid="+m+"] svg").empty()){d3.select("[data-chartid="+m+"]").append("svg").attr("height",a.height).attr("width",a.width).datum(l).transition().duration(i.transitionduration===undefined?250:+i.transitionduration).call(k)}else{d3.select("[data-chartid="+m+"] svg").attr("height",a.height).attr("width",a.width).datum(l).transition().duration(i.transitionduration===undefined?250:+i.transitionduration).call(k)}}else{if(angular.isArray(l)&&l.length===0){d3.select("#"+i.id+" svg").remove()}if(d3.select("#"+i.id+" svg").empty()){d3.select("#"+i.id).append("svg")}d3.select("#"+i.id+" svg").attr("height",a.height).attr("width",a.width).datum(l).transition().duration(i.transitionduration===undefined?250:+i.transitionduration).call(k)}}angular.module("nvd3ChartDirectives",[]).directive("nvd3LineChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showxaxis:"@",showyaxis:"@",rightalignyaxis:"@",defaultstate:"@",nodata:"@",margin:"&",tooltipcontent:"&",color:"&",x:"&",y:"&",forcex:"@",forcey:"@",isArea:"@",interactive:"@",clipedge:"@",clipvoronoi:"@",interpolate:"@",callback:"&",useinteractiveguideline:"@",xaxisorient:"&",xaxisticks:"@",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.lineChart().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a[0]}:a.x()).y(c.y===undefined?function(a){return a[1]}:a.y()).forceX(c.forcex===undefined?[]:a.$eval(c.forcex)).forceY(c.forcey===undefined?[0]:a.$eval(c.forcey)).showLegend(c.showlegend===undefined?false:c.showlegend==="true").tooltips(c.tooltips===undefined?false:c.tooltips==="true").showXAxis(c.showxaxis===undefined?false:c.showxaxis==="true").showYAxis(c.showyaxis===undefined?false:c.showyaxis==="true").rightAlignYAxis(c.rightalignyaxis===undefined?false:c.rightalignyaxis==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata).interactive(c.interactive===undefined?false:c.interactive==="true").clipEdge(c.clipedge===undefined?false:c.clipedge==="true").clipVoronoi(c.clipvoronoi===undefined?false:c.clipvoronoi==="true").interpolate(c.interpolate===undefined?"linear":c.interpolate).color(c.color===undefined?nv.utils.defaultColor():a.color()).isArea(c.isarea===undefined?function(a){return a.area}:function(){return c.isarea==="true"});if(d.useInteractiveGuideline){d.useInteractiveGuideline(c.useinteractiveguideline===undefined?false:c.useinteractiveguideline==="true")}if(c.tooltipcontent){d.tooltipContent(a.tooltipcontent())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3CumulativeLineChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showxaxis:"@",showyaxis:"@",rightalignyaxis:"@",defaultstate:"@",nodata:"@",margin:"&",tooltipcontent:"&",color:"&",x:"&",y:"&",forcex:"@",forcey:"@",isArea:"@",interactive:"@",clipedge:"@",clipvoronoi:"@",usevoronoi:"@",average:"&",rescaley:"@",callback:"&",useinteractiveguideline:"@",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.cumulativeLineChart().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a[0]}:a.x()).y(c.y===undefined?function(a){return a[1]}:a.y()).forceX(c.forcex===undefined?[]:a.$eval(c.forcex)).forceY(c.forcey===undefined?[0]:a.$eval(c.forcey)).showLegend(c.showlegend===undefined?false:c.showlegend==="true").tooltips(c.tooltips===undefined?false:c.tooltips==="true").showXAxis(c.showxaxis===undefined?false:c.showxaxis==="true").showYAxis(c.showyaxis===undefined?false:c.showyaxis==="true").rightAlignYAxis(c.rightalignyaxis===undefined?false:c.rightalignyaxis==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata).interactive(c.interactive===undefined?false:c.interactive==="true").clipEdge(c.clipedge===undefined?false:c.clipedge==="true").clipVoronoi(c.clipvoronoi===undefined?false:c.clipvoronoi==="true").useVoronoi(c.usevoronoi===undefined?false:c.usevoronoi==="true").average(c.average===undefined?function(a){return a.average}:a.average()).color(c.color===undefined?d3.scale.category10().range():a.color()).isArea(c.isarea===undefined?function(a){return a.area}:c.isarea==="true");if(d.useInteractiveGuideline){d.useInteractiveGuideline(c.useinteractiveguideline===undefined?false:c.useinteractiveguideline==="true")}if(c.tooltipcontent){d.tooltipContent(a.tooltipcontent())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3StackedAreaChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showcontrols:"@",nodata:"@",margin:"&",tooltipcontent:"&",color:"&",x:"&",y:"&",forcex:"@",forcey:"@",forcesize:"@",interactive:"@",usevoronoi:"@",clipedge:"@",interpolate:"@",style:"@",order:"@",offset:"@",size:"&",xScale:"&",yScale:"&",xDomain:"&",yDomain:"&",xRange:"&",yRange:"&",sizeDomain:"&",callback:"&",showxaxis:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",showyaxis:"&",useinteractiveguideline:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.stackedAreaChart().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a[0]}:a.x()).y(c.y===undefined?function(a){return a[1]}:a.y()).forceX(c.forcex===undefined?[]:a.$eval(c.forcex)).forceY(c.forcey===undefined?[0]:a.$eval(c.forcey)).size(c.size===undefined?function(a){return a.size===undefined?1:a.size}:a.size()).forceSize(c.forcesize===undefined?[]:a.$eval(c.forcesize)).showLegend(c.showlegend===undefined?false:c.showlegend==="true").showControls(c.showcontrols===undefined?false:c.showcontrols==="true").showXAxis(c.showxaxis===undefined?false:c.showxaxis==="true").showYAxis(c.showyaxis===undefined?false:c.showyaxis==="true").tooltips(c.tooltips===undefined?false:c.tooltips==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata).interactive(c.interactive===undefined?false:c.interactive==="true").clipEdge(c.clipedge===undefined?false:c.clipedge==="true").color(c.color===undefined?nv.utils.defaultColor():a.color());if(d.useInteractiveGuideline){d.useInteractiveGuideline(c.useinteractiveguideline===undefined?false:c.useinteractiveguideline==="true")}if(c.usevoronoi){d.useVoronoi(c.usevoronoi==="true")}if(c.style){d.style(c.style)}if(c.order){d.order(c.order)}if(c.offset){d.offset(c.offset)}if(c.interpolate){d.interpolate(c.interpolate)}if(c.tooltipcontent){d.tooltipContent(a.tooltipcontent())}if(c.xscale){d.xScale(a.xscale())}if(c.yscale){d.yScale(a.yscale())}if(c.xdomain){if(Array.isArray(a.$eval(c.xdomain))){d.xDomain(a.$eval(c.xdomain))}else if(typeof a.xdomain()==="function"){d.xDomain(a.xdomain())}}if(c.ydomain){if(Array.isArray(a.$eval(c.ydomain))){d.yDomain(a.$eval(c.ydomain))}else if(typeof a.ydomain()==="function"){d.yDomain(a.ydomain())}}if(c.sizedomain){d.sizeDomain(a.sizedomain())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3MultiBarChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",tooltipcontent:"&",color:"&",showcontrols:"@",nodata:"@",reducexticks:"@",staggerlabels:"@",rotatelabels:"@",margin:"&",x:"&",y:"&",forcey:"@",delay:"@",stacked:"@",callback:"&",showxaxis:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",showyaxis:"&",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.multiBarChart().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a[0]}:a.x()).y(c.y===undefined?function(a){return a[1]}:a.y()).forceY(c.forcey===undefined?[0]:a.$eval(c.forcey)).showLegend(c.showlegend===undefined?false:c.showlegend==="true").showControls(c.showcontrols===undefined?false:c.showcontrols==="true").showXAxis(c.showxaxis===undefined?false:c.showxaxis==="true").showYAxis(c.showyaxis===undefined?false:c.showyaxis==="true").tooltips(c.tooltips===undefined?false:c.tooltips==="true").reduceXTicks(c.reducexticks===undefined?false:c.reducexticks==="true").staggerLabels(c.staggerlabels===undefined?false:c.staggerlabels==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata).rotateLabels(c.rotatelabels===undefined?0:c.rotatelabels).color(c.color===undefined?nv.utils.defaultColor():a.color()).delay(c.delay===undefined?1200:c.delay).stacked(c.stacked===undefined?false:c.stacked==="true");if(c.tooltipcontent){d.tooltipContent(a.tooltipcontent())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3DiscreteBarChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",tooltips:"@",showxaxis:"@",showyaxis:"@",tooltipcontent:"&",staggerlabels:"@",color:"&",margin:"&",nodata:"@",x:"&",y:"&",forcey:"@",showvalues:"@",valueformat:"&",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.discreteBarChart().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a[0]}:a.x()).y(c.y===undefined?function(a){return a[1]}:a.y()).forceY(c.forcey===undefined?[0]:a.$eval(c.forcey)).showValues(c.showvalues===undefined?false:c.showvalues==="true").tooltips(c.tooltips===undefined?false:c.tooltips==="true").showXAxis(c.showxaxis===undefined?false:c.showxaxis==="true").showYAxis(c.showyaxis===undefined?false:c.showyaxis==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata).staggerLabels(c.staggerlabels===undefined?false:c.staggerlabels==="true").color(c.color===undefined?nv.utils.defaultColor():a.color());if(c.tooltipcontent){d.tooltipContent(a.tooltipcontent())}if(c.valueformat){d.valueFormat(a.valueformat())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3HistoricalBarChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",tooltips:"@",tooltipcontent:"&",color:"&",margin:"&",nodata:"@",x:"&",y:"&",forcey:"@",isarea:"@",interactive:"@",clipedge:"@",clipvoronoi:"@",interpolate:"@",highlightPoint:"@",clearHighlights:"@",callback:"&",useinteractiveguideline:"@",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.historicalBarChart().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a[0]}:a.x()).y(c.y===undefined?function(a){return a[1]}:a.y()).forceY(c.forcey===undefined?[0]:a.$eval(c.forcey)).tooltips(c.tooltips===undefined?false:c.tooltips==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata).interactive(c.interactive===undefined?false:c.interactive==="true").color(c.color===undefined?nv.utils.defaultColor():a.color());if(d.useInteractiveGuideline){d.useInteractiveGuideline(c.useinteractiveguideline===undefined?false:c.useinteractiveguideline==="true")}if(c.tooltipcontent){d.tooltipContent(a.tooltipcontent())}if(c.valueformat){d.valueFormat(a.valueformat())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3MultiBarHorizontalChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",tooltipcontent:"&",color:"&",showcontrols:"@",margin:"&",nodata:"@",x:"&",y:"&",forcey:"@",stacked:"@",showvalues:"@",valueformat:"&",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.multiBarHorizontalChart().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a[0]}:a.x()).y(c.y===undefined?function(a){return a[1]}:a.y()).showXAxis(c.showxaxis===undefined?false:c.showxaxis==="true").showYAxis(c.showyaxis===undefined?false:c.showyaxis==="true").forceY(c.forcey===undefined?[0]:a.$eval(c.forcey)).tooltips(c.tooltips===undefined?false:c.tooltips==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata).color(c.color===undefined?nv.utils.defaultColor():a.color()).showLegend(c.showlegend===undefined?false:c.showlegend==="true").showControls(c.showcontrols===undefined?false:c.showcontrols==="true").showValues(c.showvalues===undefined?false:c.showvalues==="true").stacked(c.stacked===undefined?false:c.stacked==="true");if(c.tooltipcontent){d.tooltipContent(a.tooltipcontent())}if(c.valueformat){d.valueFormat(a.valueformat())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3PieChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlabels:"@",showlegend:"@",donutLabelsOutside:"@",pieLabelsOutside:"@",labelType:"@",nodata:"@",margin:"&",x:"&",y:"&",color:"&",donut:"@",donutRatio:"@",labelthreshold:"@",description:"&",tooltips:"@",tooltipcontent:"&",valueFormat:"&",callback:"&",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.pieChart().x(c.x===undefined?function(a){return a[0]}:a.x()).y(c.y===undefined?function(a){return a[1]}:a.y()).width(a.width).height(a.height).margin(a.margin).tooltips(c.tooltips===undefined?false:c.tooltips==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata).showLabels(c.showlabels===undefined?false:c.showlabels==="true").labelThreshold(c.labelthreshold===undefined?.02:c.labelthreshold).labelType(c.labeltype===undefined?"key":c.labeltype).pieLabelsOutside(c.pielabelsoutside===undefined?true:c.pielabelsoutside==="true").valueFormat(c.valueformat===undefined?d3.format(",.2f"):c.valueformat).showLegend(c.showlegend===undefined?false:c.showlegend==="true").description(c.description===undefined?function(a){return a.description}:a.description()).color(c.color===undefined?nv.utils.defaultColor():a.color()).donutLabelsOutside(c.donutlabelsoutside===undefined?false:c.donutlabelsoutside==="true").donut(c.donut===undefined?false:c.donut==="true").donutRatio(c.donutratio===undefined?.5:c.donutratio);if(c.tooltipcontent){d.tooltipContent(a.tooltipcontent())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3ScatterChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showcontrols:"@",showDistX:"@",showDistY:"@",rightAlignYAxis:"@",fisheye:"@",xPadding:"@",yPadding:"@",tooltipContent:"&",tooltipXContent:"&",tooltipYContent:"&",color:"&",margin:"&",nodata:"@",transitionDuration:"@",shape:"&",onlyCircles:"@",interactive:"@",x:"&",y:"&",size:"&",forceX:"@",forceY:"@",forceSize:"@",xrange:"&",xdomain:"&",xscale:"&",yrange:"&",ydomain:"&",yscale:"&",sizerange:"&",sizedomain:"&",zscale:"&",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.scatterChart().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a.x}:a.x()).y(c.y===undefined?function(a){return a.y}:a.y()).size(c.size===undefined?function(a){return a.size===undefined?1:a.size}:a.size()).forceX(c.forcex===undefined?[]:a.$eval(c.forcex)).forceY(c.forcey===undefined?[]:a.$eval(c.forcey)).forceSize(c.forcesize===undefined?[]:a.$eval(c.forcesize)).interactive(c.interactive===undefined?false:c.interactive==="true").tooltips(c.tooltips===undefined?false:c.tooltips==="true").tooltipContent(c.tooltipContent===undefined?null:a.tooltipContent()).tooltipXContent(c.tooltipxcontent===undefined?function(a,b){return"<strong>"+b+"</strong>"}:a.tooltipXContent()).tooltipYContent(c.tooltipycontent===undefined?function(a,b,c){return"<strong>"+c+"</strong>"}:a.tooltipYContent()).showControls(c.showcontrols===undefined?false:c.showcontrols==="true").showLegend(c.showlegend===undefined?false:c.showlegend==="true").showDistX(c.showdistx===undefined?false:c.showdistx==="true").showDistY(c.showdisty===undefined?false:c.showdisty==="true").xPadding(c.xpadding===undefined?0:+c.xpadding).yPadding(c.ypadding===undefined?0:+c.ypadding).fisheye(c.fisheye===undefined?0:+c.fisheye).noData(c.nodata===undefined?"No Data Available.":a.nodata).color(c.color===undefined?nv.utils.defaultColor():a.color()).transitionDuration(c.transitionduration===undefined?250:+c.transitionduration);if(c.shape){d.scatter.onlyCircles(false);d.scatter.shape(c.shape===undefined?function(a){return a.shape||"circle"}:a.shape())}if(c.xdomain){if(Array.isArray(a.$eval(c.xdomain))){d.xDomain(a.$eval(c.xdomain))}else if(typeof a.xdomain()==="function"){d.xDomain(a.xdomain())}}if(c.ydomain){if(Array.isArray(a.$eval(c.ydomain))){d.yDomain(a.$eval(c.ydomain))}else if(typeof a.ydomain()==="function"){d.yDomain(a.ydomain())}}if(c.xscale){d.xDomain(a.xdomain());d.xRange(a.xrange());d.xScale(a.xscale())}if(c.yscale){d.yDomain(a.ydomain());d.yRange(a.yrange());d.yScale(a.yscale())}if(c.zscale){d.sizeDomain(a.sizedomain());d.sizeRange(a.sizerange());d.zScale(a.zscale())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3ScatterPlusLineChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",callback:"&"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.scatterPlusLineChart().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a.x}:a.x()).y(c.y===undefined?function(a){return a.y}:a.y()).size(c.size===undefined?function(a){return a.size===undefined?1:a.size}:a.size()).interactive(c.interactive===undefined?false:c.interactive==="true").tooltips(c.tooltips===undefined?false:c.tooltips==="true").tooltipContent(c.tooltipContent===undefined?null:a.tooltipContent()).tooltipXContent(c.tooltipxcontent===undefined?function(a,b){return"<strong>"+b+"</strong>"}:a.tooltipXContent()).tooltipYContent(c.tooltipycontent===undefined?function(a,b,c){return"<strong>"+c+"</strong>"}:a.tooltipYContent()).showControls(c.showcontrols===undefined?false:c.showcontrols==="true").showLegend(c.showlegend===undefined?false:c.showlegend==="true").showDistX(c.showdistx===undefined?false:c.showdistx==="true").showDistY(c.showdisty===undefined?false:c.showdisty==="true").xPadding(c.xpadding===undefined?0:+c.xpadding).yPadding(c.ypadding===undefined?0:+c.ypadding).fisheye(c.fisheye===undefined?0:+c.fisheye).noData(c.nodata===undefined?"No Data Available.":a.nodata).color(c.color===undefined?nv.utils.defaultColor():a.color()).transitionDuration(c.transitionduration===undefined?250:+c.transitionduration);if(c.shape){d.scatter.onlyCircles(false);d.scatter.shape(c.shape===undefined?function(a){return a.shape||"circle"}:a.shape())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}})}}}]).directive("nvd3LinePlusBarChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",showlegend:"@",tooltips:"@",showxaxis:"@",showyaxis:"@",forceX:"@",forceY:"@",forceY2:"@",rightalignyaxis:"@",defaultstate:"@",nodata:"@",margin:"&",tooltipcontent:"&",color:"&",x:"&",y:"&",clipvoronoi:"@",interpolate:"@",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",y1axisorient:"&",y1axisticks:"&",y1axistickvalues:"&y1axistickvalues",y1axisticksubdivide:"&",y1axisticksize:"&",y1axistickpadding:"&",y1axistickformat:"&",y1axislabel:"@",y1axisscale:"&",y1axisdomain:"&",y1axisrange:"&",y1axisrangeband:"&",y1axisrangebands:"&",y1axisshowmaxmin:"@",y1axishighlightzero:"@",y1axisrotatelabels:"@",y1axisrotateylabel:"@",y1axisstaggerlabels:"@",y1axisaxislabeldistance:"@",y2axisorient:"&",y2axisticks:"&",y2axistickvalues:"&y2axistickvalues",y2axisticksubdivide:"&",y2axisticksize:"&",y2axistickpadding:"&",y2axistickformat:"&",y2axislabel:"@",y2axisscale:"&",y2axisdomain:"&",y2axisrange:"&",y2axisrangeband:"&",y2axisrangebands:"&",y2axisshowmaxmin:"@",y2axishighlightzero:"@",y2axisrotatelabels:"@",y2axisrotateylabel:"@",y2axisstaggerlabels:"@",y2axisaxislabeldistance:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)
}nv.addGraph({generate:function(){i(a,c);var d=nv.models.linePlusBarChart().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a[0]}:a.x()).y(c.y===undefined?function(a){return a[1]}:a.y()).showLegend(c.showlegend===undefined?false:c.showlegend==="true").tooltips(c.tooltips===undefined?false:c.tooltips==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata).interpolate(c.interpolate===undefined?"linear":c.interpolate).color(c.color===undefined?nv.utils.defaultColor():a.color());if(c.forcex){d.lines.forceX(a.$eval(c.forcex));d.bars.forceX(a.$eval(c.forcex))}if(c.forcey){d.lines.forceY(a.$eval(c.forcey));d.bars.forceY(a.$eval(c.forcey))}if(c.tooltipcontent){d.tooltipContent(a.tooltipcontent())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3LineWithFocusChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",height2:"@",id:"@",showlegend:"@",tooltips:"@",showxaxis:"@",showyaxis:"@",rightalignyaxis:"@",defaultstate:"@",nodata:"@",margin:"&",margin2:"&",tooltipcontent:"&",color:"&",x:"&",y:"&",forceX:"@",forceY:"@",clipedge:"@",clipvoronoi:"@",interpolate:"@",isArea:"@",size:"&",defined:"&",interactive:"@",callback:"&",xaxisorient:"&",xaxisticks:"&",xaxistickvalues:"&xaxistickvalues",xaxisticksubdivide:"&",xaxisticksize:"&",xaxistickpadding:"&",xaxistickformat:"&",xaxislabel:"@",xaxisscale:"&",xaxisdomain:"&",xaxisrange:"&",xaxisrangeband:"&",xaxisrangebands:"&",xaxisshowmaxmin:"@",xaxishighlightzero:"@",xaxisrotatelabels:"@",xaxisrotateylabel:"@",xaxisstaggerlabels:"@",xaxisaxislabeldistance:"@",x2axisorient:"&",x2axisticks:"&",x2axistickvalues:"&xaxistickvalues",x2axisticksubdivide:"&",x2axisticksize:"&",x2axistickpadding:"&",x2axistickformat:"&",x2axislabel:"@",x2axisscale:"&",x2axisdomain:"&",x2axisrange:"&",x2axisrangeband:"&",x2axisrangebands:"&",x2axisshowmaxmin:"@",x2axishighlightzero:"@",x2axisrotatelables:"@",x2axisrotateylabel:"@",x2axisstaggerlabels:"@",yaxisorient:"&",yaxisticks:"&",yaxistickvalues:"&yaxistickvalues",yaxisticksubdivide:"&",yaxisticksize:"&",yaxistickpadding:"&",yaxistickformat:"&",yaxislabel:"@",yaxisscale:"&",yaxisdomain:"&",yaxisrange:"&",yaxisrangeband:"&",yaxisrangebands:"&",yaxisshowmaxmin:"@",yaxishighlightzero:"@",yaxisrotatelabels:"@",yaxisrotateylabel:"@",yaxisstaggerlabels:"@",yaxislabeldistance:"@",y2axisorient:"&",y2axisticks:"&",y2axistickvalues:"&",y2axisticksubdivide:"&",y2axisticksize:"&",y2axistickpadding:"&",y2axistickformat:"&",y2axislabel:"@",y2axisscale:"&",y2axisdomain:"&",y2axisrange:"&",y2axisrangeband:"&",y2axisrangebands:"&",y2axisshowmaxmin:"@",y2axishighlightzero:"@",y2axisrotatelabels:"@",y2axisrotateylabel:"@",y2axisstaggerlabels:"@",legendmargin:"&",legendwidth:"@",legendheight:"@",legendkey:"@",legendcolor:"&",legendalign:"@",legendrightalign:"@",legendupdatestate:"@",legendradiobuttonmode:"@",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);if(c.margin2){var d=a.$eval(c.margin2);if(typeof d!=="object"){d={left:d,top:d,bottom:d,right:d}}a.margin2=d}else{a.margin2={top:0,right:30,bottom:20,left:60}}var e=nv.models.lineWithFocusChart().width(a.width).height(a.height).height2(c.height2===undefined?100:+c.height2).margin(a.margin).margin2(a.margin2).x(c.x===undefined?function(a){return a[0]}:a.x()).y(c.y===undefined?function(a){return a[1]}:a.y()).forceX(c.forcex===undefined?[]:a.$eval(c.forcex)).forceY(c.forcey===undefined?[]:a.$eval(c.forcey)).showLegend(c.showlegend===undefined?false:c.showlegend==="true").tooltips(c.tooltips===undefined?false:c.tooltips==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata).color(c.color===undefined?nv.utils.defaultColor():a.color()).isArea(c.isarea===undefined?function(a){return a.area}:function(){return c.isarea==="true"}).size(c.size===undefined?function(a){return a.size===undefined?1:a.size}:a.size()).interactive(c.interactive===undefined?false:c.interactive==="true").interpolate(c.interpolate===undefined?"linear":c.interpolate);if(c.defined){e.defined(a.defined())}if(c.tooltipcontent){e.tooltipContent(a.tooltipcontent())}a.d3Call(b,e);nv.utils.windowResize(e.update);a.chart=e;return e},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3BulletChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",margin:"&",tooltips:"@",tooltipcontent:"&",orient:"@",ranges:"&",markers:"&",measures:"&",tickformat:"&",nodata:"@",callback:"&",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.bulletChart().width(a.width).height(a.height).margin(a.margin).orient(c.orient===undefined?"left":c.orient).tickFormat(c.tickformat===undefined?null:a.tickformat()).tooltips(c.tooltips===undefined?false:c.tooltips==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata);if(c.tooltipcontent){d.tooltipContent(a.tooltipcontent())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3SparklineChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",margin:"&",x:"&",y:"&",color:"&",xscale:"&",yscale:"&",showvalue:"@",alignvalue:"@",rightalignvalue:"@",nodata:"@",callback:"&",xtickformat:"&",ytickformat:"&",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){j(a,c,b,e,d)}}],link:function(a,b,c){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){i(a,c);var d=nv.models.sparklinePlus().width(a.width).height(a.height).margin(a.margin).x(c.x===undefined?function(a){return a.x}:a.x()).y(c.y===undefined?function(a){return a.y}:a.y()).xTickFormat(c.xtickformat===undefined?d3.format(",r"):a.xtickformat()).yTickFormat(c.ytickformat===undefined?d3.format(",.2f"):a.ytickformat()).color(c.color===undefined?nv.utils.getColor(["#000"]):a.color()).showValue(c.showvalue===undefined?true:c.showvalue==="true").alignValue(c.alignvalue===undefined?true:c.alignvalue==="true").rightAlignValue(c.rightalignvalue===undefined?false:c.rightalignvalue==="true").noData(c.nodata===undefined?"No Data Available.":a.nodata);if(c.xScale){d.xScale(a.xScale())}if(c.yScale){d.yScale(a.yScale())}a.d3Call(b,d);nv.utils.windowResize(d.update);a.chart=d;return d},callback:c.callback===undefined?null:a.callback()})}},c.objectequality===undefined?false:c.objectequality==="true")}}}]).directive("nvd3SparklineWithBandlinesChart",[function(){return{restrict:"EA",scope:{data:"=",width:"@",height:"@",id:"@",margin:"&",x:"&",y:"&",color:"&",xscale:"&",yscale:"&",showvalue:"@",alignvalue:"@",rightalignvalue:"@",nodata:"@",callback:"&",xtickformat:"&",ytickformat:"&",objectequality:"@",transitionduration:"@"},controller:["$scope","$element","$attrs",function(a,b,c){a.d3Call=function(d,e){var f;var g;var h;var i;var j;if(!c.id){f="chartid"+Math.floor(Math.random()*1000000001);angular.element(b).attr("data-chartid",f);g=d3.select("[data-iem-chartid="+f+"] svg").attr("height",a.height).attr("width",a.width).datum(d);h=d3.select("[data-iem-chartid="+f+"] svg"+" g.nvd3.nv-wrap.nv-sparkline");i=[a.bandlineProperties.min,a.bandlineProperties.twentyFithPercentile,a.bandlineProperties.median,a.bandlineProperties.seventyFithPercentile,a.bandlineProperties.max];j=h.selectAll(".nv-bandline").data([i]);j.enter().append("g").attr("class","nv-bandline");g.transition().duration(c.transitionduration===undefined?250:+c.transitionduration).call(e)}else{if(!d3.select("#"+c.id+" svg")){d3.select("#"+c.id).append("svg")}g=d3.select("#"+c.id+" svg").attr("height",a.height).attr("width",a.width).datum(d);h=d3.select("svg#"+c.id+" g.nvd3.nv-wrap.nv-sparkline");i=[a.bandlineProperties.min,a.bandlineProperties.twentyFithPercentile,a.bandlineProperties.median,a.bandlineProperties.seventyFithPercentile,a.bandlineProperties.max];j=h.selectAll(".nv-bandline").data([i]);j.enter().append("g").attr("class","nv-bandline");g.transition().duration(c.transitionduration===undefined?250:+c.transitionduration).call(e)}}}],link:function(a,b,e){a.$watch("data",function(b){if(b){if(a.chart){return a.d3Call(b,a.chart)}nv.addGraph({generate:function(){a.bandlineProperties={};var g;i(a,e);var h=nv.models.sparklinePlus().width(a.width).height(a.height).margin(a.margin).x(e.x===undefined?function(a){return a.x}:a.x()).y(e.y===undefined?function(a){return a.y}:a.y()).xTickFormat(e.xtickformat===undefined?d3.format(",r"):a.xtickformat()).yTickFormat(e.ytickformat===undefined?d3.format(",.2f"):a.ytickformat()).color(e.color===undefined?nv.utils.getColor(["#000"]):a.color()).showValue(e.showvalue===undefined?true:e.showvalue==="true").alignValue(e.alignvalue===undefined?true:e.alignvalue==="true").rightAlignValue(e.rightalignvalue===undefined?false:e.rightalignvalue==="true").noData(e.nodata===undefined?"No Data Available.":a.nodata);a.bandlineProperties.min=d3.min(b,function(a){return a[1]});a.bandlineProperties.max=d3.max(b,function(a){return a[1]});g=b.map(function(a){return a[1]}).sort(function(a,b){if(a[0]<b[0]){return-1}else if(a[0]===b[0]){return 0}else{return 1}});a.bandlineProperties.twentyFithPercentile=d3.quantile(g,.25);a.bandlineProperties.median=d3.median(g);a.bandlineProperties.seventyFithPercentile=d3.quantile(g,.75);if(e.xScale){h.xScale(a.xScale())}if(e.yScale){h.yScale(a.yScale())}d(h,a,e);f(h,a,e);c(h,a);a.d3Call(b,h);nv.utils.windowResize(h.update);a.chart=h;return h},callback:e.callback===undefined?null:a.callback()})}},e.objectequality===undefined?false:e.objectequality==="true")}}}])})();(function(a,b){if(typeof exports==="object"){module.exports=b(require("angular"))}else if(typeof define==="function"&&define.amd){define(["angular"],b)}else{b(a.angular)}})(this,function(a){(function(a){"use strict";return a.module("easypiechart",[]).directive("easypiechart",[function(){return{restrict:"A",require:"?ngModel",scope:{percent:"=",options:"="},link:function(b,d,e){b.percent=b.percent||0;var f={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:true}};b.options=a.extend(f,b.options);var g=new c(d[0],f);b.$watch("percent",function(a,b){g.update(a)})}}}])})(a);var b=function(a,b){var c;var d=document.createElement("canvas");a.appendChild(d);if(typeof G_vmlCanvasManager!=="undefined"){G_vmlCanvasManager.initElement(d)}var e=d.getContext("2d");d.width=d.height=b.size;var f=1;if(window.devicePixelRatio>1){f=window.devicePixelRatio;d.style.width=d.style.height=[b.size,"px"].join("");d.width=d.height=b.size*f;e.scale(f,f)}e.translate(b.size/2,b.size/2);e.rotate((-1/2+b.rotate/180)*Math.PI);var g=(b.size-b.lineWidth)/2;if(b.scaleColor&&b.scaleLength){g-=b.scaleLength+2}Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=c<=0?true:false;e.beginPath();e.arc(0,0,g,0,Math.PI*2*c,d);e.strokeStyle=a;e.lineWidth=b;e.stroke()};var i=function(){var a;var c;e.lineWidth=1;e.fillStyle=b.scaleColor;e.save();for(var d=24;d>0;--d){if(d%6===0){c=b.scaleLength;a=0}else{c=b.scaleLength*.6;a=b.scaleLength-c}e.fillRect(-b.size/2+a,0,c,1);e.rotate(Math.PI/12)}e.restore()};var j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var k=function(){if(b.scaleColor)i();if(b.trackColor)h(b.trackColor,b.lineWidth,1)};this.getCanvas=function(){return d};this.getCtx=function(){return e};this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)};this.draw=function(a){if(!!b.scaleColor||!!b.trackColor){if(e.getImageData&&e.putImageData){if(!c){k();c=e.getImageData(0,0,b.size*f,b.size*f)}else{e.putImageData(c,0,0)}}else{this.clear();k()}}else{this.clear()}e.lineCap=b.lineCap;var d;if(typeof b.barColor==="function"){d=b.barColor(a)}else{d=b.barColor}h(d,b.lineWidth,a/100)}.bind(this);this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate.duration);var g=b.easing(this,f,a,c-a,b.animate.duration);this.draw(g);b.onStep(a,c,g);if(f>=b.animate.duration){b.onStop(a,c)}else{j(e)}}.bind(this);j(e)}.bind(this)};var c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:true},easing:function(a,b,c,d,e){b=b/(e/2);if(b<1){return d/2*b*b+c}return-d/2*(--b*(b-2)-1)+c},onStart:function(a,b){return},onStep:function(a,b,c){return},onStop:function(a,b){return}};if(typeof b!=="undefined"){d.renderer=b}else if(typeof SVGRenderer!=="undefined"){d.renderer=SVGRenderer}else{throw new Error("Please load either the SVG- or the CanvasRenderer")}var e={};var f=0;var g=function(){this.el=a;this.options=e;for(var b in d){if(d.hasOwnProperty(b)){e[b]=c&&typeof c[b]!=="undefined"?c[b]:d[b];if(typeof e[b]==="function"){e[b]=e[b].bind(this)}}}if(typeof e.easing==="string"&&typeof jQuery!=="undefined"&&jQuery.isFunction(jQuery.easing[e.easing])){e.easing=jQuery.easing[e.easing]}else{e.easing=d.easing}if(typeof e.animate==="number"){e.animate={duration:e.animate,enabled:true}}if(typeof e.animate==="boolean"&&!e.animate){e.animate={duration:1e3,enabled:e.animate}}this.renderer=new e.renderer(a,e);this.renderer.draw(f);if(a.dataset&&a.dataset.percent){this.update(parseFloat(a.dataset.percent))}else if(a.getAttribute&&a.getAttribute("data-percent")){this.update(parseFloat(a.getAttribute("data-percent")))}}.bind(this);this.update=function(a){a=parseFloat(a);if(e.animate.enabled){this.renderer.animate(f,a)}else{this.renderer.draw(a)}f=a;return this}.bind(this);this.disableAnimation=function(){e.animate.enabled=false;return this};this.enableAnimation=function(){e.animate.enabled=true;return this};g()}});(function(a,b,c){var d="placeholder"in b.createElement("input");var e="placeholder"in b.createElement("textarea");var f=c.fn;var g=c.valHooks;var h=c.propHooks;var i;var j;if(d&&e){j=f.placeholder=function(){return this};j.input=j.textarea=true}else{j=f.placeholder=function(){var a=this;a.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":l,"blur.placeholder":m}).data("placeholder-enabled",true).trigger("blur.placeholder");return a};j.input=d;j.textarea=e;i={get:function(a){var b=c(a);var d=b.data("placeholder-password");if(d){return d[0].value}return b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,d){var e=c(a);var f=e.data("placeholder-password");if(f){return f[0].value=d}if(!e.data("placeholder-enabled")){return a.value=d}if(d==""){a.value=d;if(a!=b.activeElement){m.call(a)}}else{if(e.hasClass("placeholder")){l.call(a,true,d)||(a.value=d)}else{a.value=d}}return e}};if(!d){g.input=i;h.value=i}if(!e){g.textarea=i;h.value=i}c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(l);setTimeout(function(){a.each(m)},10)})});c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})})}function k(a){var b={};var d=/^jQuery\d+$/;c.each(a.attributes,function(a,c){if(c.specified&&!d.test(c.name)){b[c.name]=c.value}});return b}function l(a,d){var e=this;var f=c(e);if(e.value==f.attr("placeholder")&&f.hasClass("placeholder")){if(f.data("placeholder-password")){f=f.hide().next().show().attr("id",f.removeAttr("id").data("placeholder-id"));if(a===true){return f[0].value=d}f.focus()}else{e.value="";f.removeClass("placeholder");e==b.activeElement&&e.select()}}}function m(){var a;var b=this;var d=c(b);var e=this.id;if(b.value==""){if(b.type=="password"){if(!d.data("placeholder-textinput")){try{a=d.clone().attr({type:"text"})}catch(f){a=c("<input>").attr(c.extend(k(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":d,"placeholder-id":e}).bind("focus.placeholder",l);d.data({"placeholder-textinput":a,"placeholder-id":e}).before(a)}d=d.removeAttr("id").hide().prev().attr("id",e).show()}d.addClass("placeholder");d[0].value=d.attr("placeholder")}else{d.removeClass("placeholder")}}})(this,document,jQuery);window.Modernizr=function(a,b,c){function d(a){o.cssText=a}function e(a,b){return d(r.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}var i="2.6.2",j={},k=!0,l=b.documentElement,m="modernizr",n=b.createElement(m),o=n.style,p,q={}.toString,r=" -webkit- -moz- -o- -ms- ".split(" "),s={},t={},u={},v=[],w=v.slice,x,y=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,n=k||b.createElement("body");if(parseInt(d,10))while(d--)h=b.createElement("div"),h.id=e?e[d]:m+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',m,'">',a,"</style>"].join(""),j.id=m,(k?j:n).innerHTML+=f,n.appendChild(j),k||(n.style.background="",n.style.overflow="hidden",i=l.style.overflow,l.style.overflow="hidden",l.appendChild(n)),g=c(j,a),k?j.parentNode.removeChild(j):(n.parentNode.removeChild(n),l.style.overflow=i),!!g},z={}.hasOwnProperty,A;!f(z,"undefined")&&!f(z.call,"undefined")?A=function(a,b){return z.call(a,b)}:A=function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(typeof b!="function")throw new TypeError;var c=w.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(w.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(w.call(arguments)))};return d}),s.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y(["@media (",r.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c};for(var B in s)A(s,B)&&(x=B.toLowerCase(),j[x]=s[B](),v.push((j[x]?"":"no-")+x));return j.addTest=function(a,b){if(typeof a=="object")for(var d in a)A(a,d)&&j.addTest(d,a[d]);else{a=a.toLowerCase();if(j[a]!==c)return j;b=typeof b=="function"?b():b,typeof k!="undefined"&&k&&(l.className+=" "+(b?"":"no-")+a),j[a]=b}return j},d(""),n=p=null,j._version=i,j._prefixes=r,j.testStyles=y,l.className=l.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(k?" js "+v.join(" "):""),j}(this,this.document);Modernizr.addTest("android",function(){return!!navigator.userAgent.match(/Android/i)});Modernizr.addTest("chrome",function(){return!!navigator.userAgent.match(/Chrome/i)});Modernizr.addTest("firefox",function(){return!!navigator.userAgent.match(/Firefox/i)});Modernizr.addTest("iemobile",function(){return!!navigator.userAgent.match(/IEMobile/i)});Modernizr.addTest("ie",function(){return!!navigator.userAgent.match(/MSIE/i)});Modernizr.addTest("ie8",function(){return!!navigator.userAgent.match(/MSIE 8/i)});Modernizr.addTest("ie10",function(){return!!navigator.userAgent.match(/MSIE 10/i)});Modernizr.addTest("ie11",function(){return!!navigator.userAgent.match(/Trident.*rv:11\./)});Modernizr.addTest("ios",function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)});(function(a,b){"use strict";var c="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,d=function(){for(var a,c,d=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"]],e=0,f=d.length,g={};f>e;e++)if(a=d[e],a&&a[1]in b){for(e=0,c=a.length;c>e;e++)g[d[0][e]]=a[e];return g}return!1}(),e={request:function(a){var e=d.requestFullscreen;a=a||b.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?a[e]():a[e](c&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){b[d.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(){},onerror:function(){},raw:d};return d?(Object.defineProperties(e,{isFullscreen:{get:function(){return!!b[d.fullscreenElement]}},element:{enumerable:!0,get:function(){return b[d.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!b[d.fullscreenEnabled]}}}),b.addEventListener(d.fullscreenchange,function(a){e.onchange.call(e,a)}),b.addEventListener(d.fullscreenerror,function(a){e.onerror.call(e,a)}),a.screenfull=e,void 0):a.screenfull=!1})(window,document);+function(a){"use strict";var b=function(b){this.$element=a(b);this.$prev=this.$element.prev();!this.$prev.length&&(this.$parent=this.$element.parent())};b.prototype={constructor:b,init:function(){var a=this.$element,b=a.data()["toggle"].split(":")[1],c=a.data("target");a.hasClass("in")||a[b](c).addClass("in")},reset:function(){this.$parent&&this.$parent["prepend"](this.$element);!this.$parent&&this.$element["insertAfter"](this.$prev);this.$element.removeClass("in")}};a.fn.shift=function(c){return this.each(function(){var d=a(this),e=d.data("shift");if(!e)d.data("shift",e=new b(this));if(typeof c=="string")e[c]()})};a.fn.shift.Constructor=b}(jQuery);+function(a){"use strict";var b=function(b,c){this.options=c;this.$element=a(b);this.start()};b.DEFAULTS={backdrop:true,url:""};b.prototype.start=function(){var b=this;this.backdrop();a.ajax(this.options.url).done(function(a){b.$content=a;b.complete()})};b.prototype.complete=function(){var a=this;try{window.history.pushState({},"",this.options.url)}catch(b){window.location.replace(this.options.url)}this.updateBar(100)};b.prototype.backdrop=function(){this.$element.css("position","relative");this.$backdrop=a('<div class="backdrop fade"></div>').appendTo(this.$element);this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");this.$bar=a('<div class="bar b-t b-info"></div>').width(0).appendTo(this.$backdrop)};b.prototype.update=function(){!this.$element.is("html")&&this.$element.html(this.$content);if(this.$element.is("html")){document.open();document.write(this.$content);document.close()}};b.prototype.updateBar=function(a){var b=this;this.$bar.stop().animate({width:a+"%"},500,"linear",function(){if(a==100)b.update()})};b.prototype.enable=function(a){var b=a.currentTarget;if(location.protocol!==b.protocol||location.hostname!==b.hostname)return false;if(b.hash&&b.href.replace(b.hash,"")===location.href.replace(location.hash,""))return false;if(b.href===location.href+"#"||b.href===location.href)return false;return true};a.fn.bjax=function(c){return this.each(function(){var d=a(this);var e=d.data("app.bjax");var f=a.extend({},b.DEFAULTS,d.data(),typeof c=="object"&&c);if(!e)d.data("app.bjax",e=new b(this,f));if(typeof c=="string")e[c]()})};a.fn.bjax.Constructor=b;a(window).on("popstate",function(a){if(a.originalEvent.state!==null){window.location.reload(true)}a.preventDefault()});a(document).on("click.app.bjax.data-api","[data-bjax], .nav-primary a",function(c){if(!b.prototype.enable(c))return;var d=a(this);var e=d.attr("href");var f=a(d.attr("data-target")||"html");var g=a.extend({url:e},f.data(),d.data());f.bjax(g);c.preventDefault()})}(jQuery);Date.now=Date.now||function(){return+new Date};+function(a){a(function(){a(document).on("click","[data-toggle=fullscreen]",function(a){a.preventDefault();if(screenfull.enabled){screenfull.request()}});a("input[placeholder], textarea[placeholder]").placeholder();a("[data-toggle=popover]").popover();a(document).on("click",".popover-title .close",function(b){var c=a(b.target),d=c.closest(".popover").prev();d&&d.popover("hide")});a(document).on("click",'[data-toggle="ajaxModal"]',function(b){a("#ajaxModal").remove();b.preventDefault();var c=a(this),d=c.data("remote")||c.attr("href"),e=a('<div class="modal fade" id="ajaxModal"><div class="modal-body"></div></div>');a("body").append(e);e.modal();e.load(d)});a.fn.dropdown.Constructor.prototype.change=function(b){b.preventDefault();var c=a(b.target),d,e=false,f,g;!c.is("a")&&(c=c.closest("a"));f=c.closest(".dropdown-menu");g=f.parent().find(".dropdown-label");$labelHolder=g.text();d=c.find("input");e=d.is(":checked");if(d.is(":disabled"))return;if(d.attr("type")=="radio"&&e)return;if(d.attr("type")=="radio")f.find("li").removeClass("active");c.parent().removeClass("active");!e&&c.parent().addClass("active");d.prop("checked",!d.prop("checked"));$items=f.find("li > a > input:checked");if($items.length){$text=[];$items.each(function(){var b=a(this).parent().text();b&&$text.push(a.trim(b))});$text=$text.length<4?$text.join(", "):$text.length+" selected";g.html($text)}else{g.html(g.data("placeholder"))}};a(document).on("click.dropdown-menu",".dropdown-select > li > a",a.fn.dropdown.Constructor.prototype.change);a("[data-toggle=tooltip]").tooltip();a(document).on("click",'[data-toggle^="class"]',function(b){b&&b.preventDefault();var c=a(b.target),d,e,f,g,h;!c.data("toggle")&&(c=c.closest('[data-toggle^="class"]'));d=c.data()["toggle"];e=c.data("target")||c.attr("href");d&&(f=d.split(":")[1])&&(g=f.split(","));e&&(h=e.split(","));g&&g.length&&a.each(h,function(b,d){if(g[b].indexOf("*")!==-1){var e=new RegExp("\\s"+g[b].replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");a(c).each(function(b,c){var d=" "+c.className+" ";while(e.test(d)){d=d.replace(e," ")}c.className=a.trim(d)})}h[b]!="#"&&a(h[b]).toggleClass(g[b])||c.toggleClass(g[b])});c.toggleClass("active")});a(document).on("click",".panel-toggle",function(b){b&&b.preventDefault();var c=a(b.target),d="collapse",e;if(!c.is("a"))c=c.closest("a");e=c.closest(".panel");e.find(".panel-body").toggleClass(d);c.toggleClass("active")});a(".carousel.auto").carousel();a(document).on("click.button.data-api","[data-loading-text]",function(b){var c=a(b.target);c.is("i")&&(c=c.parent());c.button("loading")});var b=a(window);var c=function(b){if(b=="reset"){a('[data-toggle^="shift"]').shift("reset");return true}a('[data-toggle^="shift"]').shift("init");return true};b.width()<768&&c();var d;b.resize(function(){clearTimeout(d);d=setTimeout(function(){e();b.width()<767&&c();b.width()>=768&&c("reset")&&f()},500)});var e=function(){a(".app-fluid #nav > *").css("min-height",a(window).height()-60);return true};e();var f=function(){a(".ie11 .vbox").each(function(){a(this).height(a(this).parent().height())});return true};f();a(document).on("click",'[data-ride="collapse"] a',function(b){var c=a(b.target),d;c.is("a")||(c=c.closest("a"));d=c.parent().siblings(".active");d&&d.toggleClass("active").find("> ul:visible").slideUp(200);c.parent().hasClass("active")&&c.next().slideUp(200)||c.next().slideDown(200);c.parent().toggleClass("active");c.next().is("ul")&&b.preventDefault();setTimeout(function(){a(document).trigger("updateNav")},300)});a(document).on("click.bs.dropdown.data-api",".dropdown .on, .dropup .on, .open .on",function(a){a.stopPropagation()})})}(jQuery);"use strict";angular.module("myApp",["ngRoute","indexController","config","LocalStorageModule","directive","restangular","geoLocation","overviewService","restaurantService","reviewService","locationService","photoService","angularFileUpload","ui.bootstrap","nvd3ChartDirectives","easypiechart"]).config(["$routeProvider",function(a){a.otherwise({redirectTo:"/index"})}]).config(["RestangularProvider",function(a){a.setRestangularFields({id:"id"});a.setBaseUrl("http://api.iresturant.com/v1/");a.setDefaultRequestParams({"access-token":"f899139df5e1059396431415e770c6dd","per-page":8});a.setDefaultHttpFields({withCredentials:false});a.setFullResponse(true);a.addResponseInterceptor(function(a,b,c,d,e,f){if(b==="getList"){a=[{items:a.items,_meta:a._meta}]}return a})}]);