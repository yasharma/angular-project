"use strict";angular.module("geoLocation",[]).constant("geoLocation_msg",{"errors.location.unsupportedBrowser":"Browser does not support location services","errors.location.notFound":"Unable to determine your location"});angular.module("geoLocation").factory("geoLocation",["$q","$rootScope","$window","geoLocation_msg",function(a,b,c,d){return{getLocation:function(){var e=a.defer();if(c.navigator&&c.navigator.geolocation){c.navigator.geolocation.getCurrentPosition(function(a){b.$apply(function(){e.resolve(a)})},function(a){b.$broadcast("error",d["errors.location.notFound"]);b.$apply(function(){e.reject(d["errors.location.notFound"])})})}else{b.$broadcast("error",d["errors.location.unsupportedBrowser"]);b.$apply(function(){e.reject(d["errors.location.unsupportedBrowser"])})}return e.promise}}}]);var config=angular.module("config",[]);config.factory("configuration",function(){return{apiUrl:"http://api.ireview.dev/v1/"}});angular.module("GoogleMaps",["google-maps".ns()]);"use strict";angular.module("indexController",["ngRoute"]).config(["$routeProvider",function(a){a.when("/index",{templateUrl:"modules/home/index.html",controller:"indexCtrl"}).when("/restaurant/:restaurantId",{templateUrl:"modules/restaurant/detail.html",controller:"detailCtrl"})}]).controller("indexCtrl",["$scope","$http","localStorageService","$location","restaurantSvr","geoLocation",function(a,b,c,d,e,f){h();a.restaurantList={params:{sort:"popular"}};if(!c.get("latitude")||!c.get("longitude")){f.getLocation().then(function(a){c.add("latitude",a.coords.latitude);c.add("longitude",a.coords.longitude);g()});g()}else{g()}a.popularListPageChanged=function(){var b=a.popularListCurrentPage;g({page:b})};e.getRestaurantCategories().then(function(b){a.categories=b});a.prices=[{value:"$",numericValue:1},{value:"$$",numericValue:2},{value:"$$$",numericValue:3},{value:"$$$$",numericValue:4},{value:"$$$$$",numericValue:5}];a.getLocation=function(a){return b.get("http://maps.googleapis.com/maps/api/geocode/json",{params:{address:a,sensor:false}}).then(function(a){return a.data.results.map(function(a){return{formatted_address:a.formatted_address,location:a.geometry.location}})})};a.onSelect=function(b,c,d){a.$item=b;a.$model=c;a.$label=d;alert(c)};a.set=function(){a.restaurantList.params=merge_objects(a.restaurantList.params,{sort:a.sort});g()};a.search=function(){a.restaurantList.params=merge_objects(a.restaurantList.params,{"formatted-address":a.search.formattedAddress,price_range:a.search.price,category:a.search.category});g()};function g(b){if(typeof b!=="undefined"){b=merge_objects(a.restaurantList.params,b)}else{b=a.restaurantList.params}e.getRestaurants(b).then(function(b){a.restaurants=b.items;a.maxSize=6;a.popularListItemPerPage=8;a.popularListTotalItems=b._meta.totalCount;a.popularListCurrentPage=b._meta.currentPage+1})}function h(){a.sidebar="modules/partials/sidebar.html";a.header="modules/partials/header.html";a.footer="modules/partials/footer.html"}a.trend=[{key:"Trend",values:[[10254096e5,0],[1028088e6,6.3382185140371],[10307664e5,5.9507873460847],[10333584e5,11.569146943813],[10360404e5,5.4767332317425],[10386324e5,.50794682203014],[10413108e5,5.5310285460542],[10439892e5,5.7838296963382],[10464084e5,7.3249341615649],[10490868e5,6.7078630712489],[13304916e5,13.388148670744]]}];a.options={animate:{duration:1e3,enabled:true},barColor:"#428bca",size:60,scaleColor:false,lineWidth:5,lineCap:"circle"}}]).controller("detailCtrl",["$scope","$timeout","$upload","localStorageService","$location","$routeParams","restaurantSvr","geoLocation","reviewSvr","overviewSvr","locationSvr","photoSvr","$anchorScroll","$modal",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){r();m();if(!d.get("latitude")||!d.get("longitude")){h.getLocation().then(function(a){d.add("latitude",a.coords.latitude);d.add("longitude",a.coords.longitude);p()});p()}else{p()}a.reviewListPageChanged=function(){var b=a.reviewListCurrentPage;o({page:b})};a.changeLength=function(a){a.textLength=99999};q();o();a.showPhone=function(){alert(a.restaurant.phone)};a.getPhotos=function(){l.getRestaurantPhotos(f.restaurantId).then(function(b){a.photos=b.items})};a.onFileSelect=function(b){for(var d=0;d<b.length;d++){var e=b[d];a.upload=c.upload({url:"http://api.iresturant.com/v1/photos/upload?access-token=f899139df5e1059396431415e770c6dd",method:"POST",data:{myObj:a.myModelObj,restaurant_id:f.restaurantId,user_id:1},file:e,fileFormDataName:"data"}).progress(function(a){console.log("percent: "+parseInt(100*a.loaded/a.total))}).success(function(a,b,c,d){console.log(a)})}};a.reviewForm={};a.reviewForm.restaurant_id=f.restaurantId;a.submitReview=function(){console.log(a.reviewForm);i.postRestaurantReview(a.reviewForm).then(function(a){console.log(a)});return false};function o(b){i.getRestaurantReviews(f.restaurantId,b).then(function(b){a.reviews=b.items;a.maxSize=6;a.reviewListItemPerPage=8;a.reviewListTotalItems=b._meta.totalCount;a.reviewListCurrentPage=b._meta.currentPage+1})}function p(){var b=f.restaurantId;g.getRestaurant(b).then(function(b){a.restaurant=b});g.getOverviews(b,a)}function q(){s(f.restaurantId)}function r(){a.templates=[{name:"review-widget.html",url:"modules/partials/review-widget.html"}];a.sidebar="modules/partials/sidebar.html";a.header="modules/partials/header.html";a.footer="modules/partials/footer.html"}function s(b){j.getGraph(b).then(function(b){a.lineChartYData=[{name:"Restaurant Overview",data:b}];a.lineChartXData=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})}}]).controller("navigationController",["$scope","$http","restaurantSvr",function(a,b,c){a.navSearch=function(a){return c.findRestaurant(a).then(function(a){return a.map(function(a){return a})})}}]).controller("mapCtrl",["$scope","locationSvr","$modal","$routeParams","$log",function(a,b,c,d,e){a.getMap=function(){b.getLocation(d.restaurantId).then(function(b){a.map={center:{latitude:b.lat,longitude:b.long},zoom:17,formattedAddress:b.formatted_address};var d=c.open({templateUrl:"modules/partials/map.html",scope:a});d.opened.then(function(){a.showMap=true;$(".overlay-main").css("display","block")});d.result.then(function(b){a.selected=b},function(){$(".overlay-main").css("display","none")})})}}]);"use strict";var directiveMod=angular.module("directive",[]);directiveMod.directive("showRating",function(){var a={link:function b(a,c,d){var e=Math.round(d.value);var f=5;var g="";for(var h=0;h<e;h++){g=g+'<span class="glyphicon glyphicon-star"></span>'}for(var h=0;h<f-e;h++){g=g+'<span class="glyphicon glyphicon-star-empty"></span>'}c.html(g)}};return a});function merge_objects(a,b){var c={};for(var d in a){c[d]=a[d]}for(var d in b){c[d]=b[d]}return c}"use strict";var restaurantService=angular.module("restaurantService",[]);restaurantService.factory("restaurantSvr",["localStorageService","Restangular",function(a,b){return{getRestaurants:function(c){var d=b.all("restaurants/list");var e=this;return d.getList(merge_objects({latitude:a.get("latitude"),longitude:a.get("longitude"),page:1},c)).then(function(a){var b=a.data[0].items;for(var c=0;c<b.length;c++){var d="";for(var e=0;e<b[c].price_range;e++){d=d+"$"}b[c].price_range_symbol=d}return{items:b,_meta:a.data[0]._meta}})},getRestaurant:function(a){var c="restaurants/"+a;var d=b.one(c);return d.get().then(function(a){return a.data})},getOverviews:function(a,c){var d="restaurants/"+a+"/stats";var e=b.one(d);return e.get().then(function(a){c.stats=a.data.items;return a.data.items})},getRestaurantCategories:function(){var a="restaurants/category";var c=b.all(a);return c.getList().then(function(a){return a.data[0].items})},getRestaurantLocations:function(a){var c="restaurants/location";var d=b.all(c);return d.getList({search:a}).then(function(a){return a.data[0].items})},findRestaurant:function(a){var c="restaurants/find";var d=b.all(c);return d.getList({search:a}).then(function(a){return a.data[0].items})}}}]);"use strict";var reviewService=angular.module("reviewService",[]);reviewService.factory("reviewSvr",["localStorageService","Restangular",function(a,b){return{getRestaurantReviews:function(a,c){var d=b.all("restaurants/"+a+"/reviews");return d.getList(c).then(function(a){return{items:a.data[0].items,_meta:a.data[0]._meta}})},postRestaurantReview:function(a){var c=b.all("reviews");var d=$.param(a);return c.post(d,{},{"Content-Type":"application/x-www-form-urlencoded"}).then(function(a){return a})}}}]);"use strict";var overviewService=angular.module("overviewService",[]);overviewService.factory("overviewSvr",["localStorageService","Restangular",function(a,b){return{getGraph:function(a){var c="overviews/"+a+"/graph";var d=b.all(c);return d.getList().then(function(a){a=a.data[0].items;var b;b=[];for(var c=0;c<a.length;c++){b[c]=a[c].percentile}return b})}}}]);"use strict";var locationService=angular.module("locationService",[]);locationService.factory("locationSvr",["localStorageService","Restangular",function(a,b){return{getLocation:function(a){var c=b.one("restaurants/"+a);return c.get({expand:"locations"}).then(function(a){return a.data.locations[0]})}}}]);"use strict";var photoService=angular.module("photoService",[]);photoService.factory("photoSvr",["localStorageService","Restangular",function(a,b){return{getRestaurantPhotos:function(a){var c="restaurants/"+a+"/photos";var d=b.all(c);return d.getList().then(function(a){return{items:a.data[0].items,_meta:a.data[0]._meta}})},uploadRestaurantPhoto:function(a,c){var d="photos/"+a;var e=new FormData;angular.forEach(c,function(a,b){e.append(b,a)});b.all(d).withHttpConfig({transformRequest:angular.identity}).post(e,{},{"Content-Type":"multipart/form-data"}).then(function(a){console.log(a)},function(){})}}}]);+function(a){"use strict";a(function(){a(".datepicker-input").each(function(){a(this).datepicker()});a(".dropfile").each(function(){var b=a(this);if(typeof window.FileReader==="undefined"){a("small",this).html("File API & FileReader API not supported").addClass("text-danger");return}this.ondragover=function(){b.addClass("hover");return false};this.ondragend=function(){b.removeClass("hover");return false};this.ondrop=function(c){c.preventDefault();b.removeClass("hover").html("");var d=c.dataTransfer.files[0],e=new FileReader;e.onload=function(c){b.append(a("<img>").attr("src",c.target.result))};e.readAsDataURL(d);return false}});a(".slider").each(function(){a(this).slider()});if(a.fn.sortable){a(".sortable").sortable()}a(".no-touch .slim-scroll").each(function(){var b=a(this),c=b.data(),d;b.slimScroll(c);a(window).resize(function(a){clearTimeout(d);d=setTimeout(function(){b.slimScroll(c)},500)});a(document).on("updateNav",function(){b.slimScroll(c)})});a(".portlet").each(function(){a(".portlet").sortable({connectWith:".portlet",iframeFix:false,items:".portlet-item",opacity:.8,helper:"original",revert:true,forceHelperSize:true,placeholder:"sortable-box-placeholder round-all",forcePlaceholderSize:true,tolerance:"pointer"})});a("#docs pre code").each(function(){var b=a(this);var c=b.html();b.html(c.replace(/</g,"&lt;").replace(/>/g,"&gt;"))});a(document).on("change",'table thead [type="checkbox"]',function(b){b&&b.preventDefault();var c=a(b.target).closest("table"),d=a(b.target).is(":checked");a('tbody [type="checkbox"]',c).prop("checked",d)});function b(b){var c=a(".nav-user"),d=a(".count:first",c),e=parseInt(d.text());a(".count",c).fadeOut().fadeIn().text(e+1);a(b).hide().prependTo(c.find(".list-group")).slideDown().css("display","block")}var c='<a href="#" class="media list-group-item">'+'<span class="pull-left thumb-sm text-center">'+'<i class="fa fa-envelope-o fa-2x text-success"></i>'+"</span>"+'<span class="media-body block m-b-none">'+"Sophi sent you a email<br>"+'<small class="text-muted">1 minutes ago</small>'+"</span>"+"</a>";setTimeout(function(){b(c)},1500);a(".chosen-select").length&&a(".chosen-select").chosen()})}(window.jQuery);(function(a,b,c){var d="placeholder"in b.createElement("input");var e="placeholder"in b.createElement("textarea");var f=c.fn;var g=c.valHooks;var h=c.propHooks;var i;var j;if(d&&e){j=f.placeholder=function(){return this};j.input=j.textarea=true}else{j=f.placeholder=function(){var a=this;a.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":l,"blur.placeholder":m}).data("placeholder-enabled",true).trigger("blur.placeholder");return a};j.input=d;j.textarea=e;i={get:function(a){var b=c(a);var d=b.data("placeholder-password");if(d){return d[0].value}return b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,d){var e=c(a);var f=e.data("placeholder-password");if(f){return f[0].value=d}if(!e.data("placeholder-enabled")){return a.value=d}if(d==""){a.value=d;if(a!=b.activeElement){m.call(a)}}else{if(e.hasClass("placeholder")){l.call(a,true,d)||(a.value=d)}else{a.value=d}}return e}};if(!d){g.input=i;h.value=i}if(!e){g.textarea=i;h.value=i}c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(l);setTimeout(function(){a.each(m)},10)})});c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})})}function k(a){var b={};var d=/^jQuery\d+$/;c.each(a.attributes,function(a,c){if(c.specified&&!d.test(c.name)){b[c.name]=c.value}});return b}function l(a,d){var e=this;var f=c(e);if(e.value==f.attr("placeholder")&&f.hasClass("placeholder")){if(f.data("placeholder-password")){f=f.hide().next().show().attr("id",f.removeAttr("id").data("placeholder-id"));if(a===true){return f[0].value=d}f.focus()}else{e.value="";f.removeClass("placeholder");e==b.activeElement&&e.select()}}}function m(){var a;var b=this;var d=c(b);var e=this.id;if(b.value==""){if(b.type=="password"){if(!d.data("placeholder-textinput")){try{a=d.clone().attr({type:"text"})}catch(f){a=c("<input>").attr(c.extend(k(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":d,"placeholder-id":e}).bind("focus.placeholder",l);d.data({"placeholder-textinput":a,"placeholder-id":e}).before(a)}d=d.removeAttr("id").hide().prev().attr("id",e).show()}d.addClass("placeholder");d[0].value=d.attr("placeholder")}else{d.removeClass("placeholder")}}})(this,document,jQuery);window.Modernizr=function(a,b,c){function d(a){o.cssText=a}function e(a,b){return d(r.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}var i="2.6.2",j={},k=!0,l=b.documentElement,m="modernizr",n=b.createElement(m),o=n.style,p,q={}.toString,r=" -webkit- -moz- -o- -ms- ".split(" "),s={},t={},u={},v=[],w=v.slice,x,y=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,n=k||b.createElement("body");if(parseInt(d,10))while(d--)h=b.createElement("div"),h.id=e?e[d]:m+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',m,'">',a,"</style>"].join(""),j.id=m,(k?j:n).innerHTML+=f,n.appendChild(j),k||(n.style.background="",n.style.overflow="hidden",i=l.style.overflow,l.style.overflow="hidden",l.appendChild(n)),g=c(j,a),k?j.parentNode.removeChild(j):(n.parentNode.removeChild(n),l.style.overflow=i),!!g},z={}.hasOwnProperty,A;!f(z,"undefined")&&!f(z.call,"undefined")?A=function(a,b){return z.call(a,b)}:A=function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(typeof b!="function")throw new TypeError;var c=w.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(w.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(w.call(arguments)))};return d}),s.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y(["@media (",r.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c};for(var B in s)A(s,B)&&(x=B.toLowerCase(),j[x]=s[B](),v.push((j[x]?"":"no-")+x));return j.addTest=function(a,b){if(typeof a=="object")for(var d in a)A(a,d)&&j.addTest(d,a[d]);else{a=a.toLowerCase();if(j[a]!==c)return j;b=typeof b=="function"?b():b,typeof k!="undefined"&&k&&(l.className+=" "+(b?"":"no-")+a),j[a]=b}return j},d(""),n=p=null,j._version=i,j._prefixes=r,j.testStyles=y,l.className=l.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(k?" js "+v.join(" "):""),j}(this,this.document);Modernizr.addTest("android",function(){return!!navigator.userAgent.match(/Android/i)});Modernizr.addTest("chrome",function(){return!!navigator.userAgent.match(/Chrome/i)});Modernizr.addTest("firefox",function(){return!!navigator.userAgent.match(/Firefox/i)});Modernizr.addTest("iemobile",function(){return!!navigator.userAgent.match(/IEMobile/i)});Modernizr.addTest("ie",function(){return!!navigator.userAgent.match(/MSIE/i)});Modernizr.addTest("ie8",function(){return!!navigator.userAgent.match(/MSIE 8/i)});Modernizr.addTest("ie10",function(){return!!navigator.userAgent.match(/MSIE 10/i)});Modernizr.addTest("ie11",function(){return!!navigator.userAgent.match(/Trident.*rv:11\./)});Modernizr.addTest("ios",function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)});(function(a,b){"use strict";var c="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,d=function(){for(var a,c,d=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"]],e=0,f=d.length,g={};f>e;e++)if(a=d[e],a&&a[1]in b){for(e=0,c=a.length;c>e;e++)g[d[0][e]]=a[e];return g}return!1}(),e={request:function(a){var e=d.requestFullscreen;a=a||b.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?a[e]():a[e](c&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){b[d.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(){},onerror:function(){},raw:d};return d?(Object.defineProperties(e,{isFullscreen:{get:function(){return!!b[d.fullscreenElement]}},element:{enumerable:!0,get:function(){return b[d.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!b[d.fullscreenEnabled]}}}),b.addEventListener(d.fullscreenchange,function(a){e.onchange.call(e,a)}),b.addEventListener(d.fullscreenerror,function(a){e.onerror.call(e,a)}),a.screenfull=e,void 0):a.screenfull=!1})(window,document);+function(a){"use strict";var b=function(b){this.$element=a(b);this.$prev=this.$element.prev();!this.$prev.length&&(this.$parent=this.$element.parent())};b.prototype={constructor:b,init:function(){var a=this.$element,b=a.data()["toggle"].split(":")[1],c=a.data("target");a.hasClass("in")||a[b](c).addClass("in")},reset:function(){this.$parent&&this.$parent["prepend"](this.$element);!this.$parent&&this.$element["insertAfter"](this.$prev);this.$element.removeClass("in")}};a.fn.shift=function(c){return this.each(function(){var d=a(this),e=d.data("shift");if(!e)d.data("shift",e=new b(this));if(typeof c=="string")e[c]()})};a.fn.shift.Constructor=b}(jQuery);+function(a){"use strict";var b=function(b,c){this.options=c;this.$element=a(b);this.start()};b.DEFAULTS={backdrop:true,url:""};b.prototype.start=function(){var b=this;this.backdrop();a.ajax(this.options.url).done(function(a){b.$content=a;b.complete()})};b.prototype.complete=function(){var a=this;try{window.history.pushState({},"",this.options.url)}catch(b){window.location.replace(this.options.url)}this.updateBar(100)};b.prototype.backdrop=function(){this.$element.css("position","relative");this.$backdrop=a('<div class="backdrop fade"></div>').appendTo(this.$element);this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");this.$bar=a('<div class="bar b-t b-info"></div>').width(0).appendTo(this.$backdrop)};b.prototype.update=function(){!this.$element.is("html")&&this.$element.html(this.$content);if(this.$element.is("html")){document.open();document.write(this.$content);document.close()}};b.prototype.updateBar=function(a){var b=this;this.$bar.stop().animate({width:a+"%"},500,"linear",function(){if(a==100)b.update()})};b.prototype.enable=function(a){var b=a.currentTarget;if(location.protocol!==b.protocol||location.hostname!==b.hostname)return false;if(b.hash&&b.href.replace(b.hash,"")===location.href.replace(location.hash,""))return false;if(b.href===location.href+"#"||b.href===location.href)return false;return true};a.fn.bjax=function(c){return this.each(function(){var d=a(this);var e=d.data("app.bjax");var f=a.extend({},b.DEFAULTS,d.data(),typeof c=="object"&&c);if(!e)d.data("app.bjax",e=new b(this,f));if(typeof c=="string")e[c]()})};a.fn.bjax.Constructor=b;a(window).on("popstate",function(a){if(a.originalEvent.state!==null){window.location.reload(true)}a.preventDefault()});a(document).on("click.app.bjax.data-api","[data-bjax], .nav-primary a",function(c){if(!b.prototype.enable(c))return;var d=a(this);var e=d.attr("href");var f=a(d.attr("data-target")||"html");var g=a.extend({url:e},f.data(),d.data());f.bjax(g);c.preventDefault()})}(jQuery);Date.now=Date.now||function(){return+new Date};+function(a){a(function(){a(document).on("click","[data-toggle=fullscreen]",function(a){a.preventDefault();if(screenfull.enabled){screenfull.request()}});a("input[placeholder], textarea[placeholder]").placeholder();a("[data-toggle=popover]").popover();a(document).on("click",".popover-title .close",function(b){var c=a(b.target),d=c.closest(".popover").prev();d&&d.popover("hide")});a(document).on("click",'[data-toggle="ajaxModal"]',function(b){a("#ajaxModal").remove();b.preventDefault();var c=a(this),d=c.data("remote")||c.attr("href"),e=a('<div class="modal fade" id="ajaxModal"><div class="modal-body"></div></div>');a("body").append(e);e.modal();e.load(d)});a.fn.dropdown.Constructor.prototype.change=function(b){b.preventDefault();var c=a(b.target),d,e=false,f,g;!c.is("a")&&(c=c.closest("a"));f=c.closest(".dropdown-menu");g=f.parent().find(".dropdown-label");$labelHolder=g.text();d=c.find("input");e=d.is(":checked");if(d.is(":disabled"))return;if(d.attr("type")=="radio"&&e)return;if(d.attr("type")=="radio")f.find("li").removeClass("active");c.parent().removeClass("active");!e&&c.parent().addClass("active");d.prop("checked",!d.prop("checked"));$items=f.find("li > a > input:checked");if($items.length){$text=[];$items.each(function(){var b=a(this).parent().text();b&&$text.push(a.trim(b))});$text=$text.length<4?$text.join(", "):$text.length+" selected";g.html($text)}else{g.html(g.data("placeholder"))}};a(document).on("click.dropdown-menu",".dropdown-select > li > a",a.fn.dropdown.Constructor.prototype.change);a("[data-toggle=tooltip]").tooltip();a(document).on("click",'[data-toggle^="class"]',function(b){b&&b.preventDefault();var c=a(b.target),d,e,f,g,h;!c.data("toggle")&&(c=c.closest('[data-toggle^="class"]'));d=c.data()["toggle"];e=c.data("target")||c.attr("href");d&&(f=d.split(":")[1])&&(g=f.split(","));e&&(h=e.split(","));g&&g.length&&a.each(h,function(b,d){if(g[b].indexOf("*")!==-1){var e=new RegExp("\\s"+g[b].replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");a(c).each(function(b,c){var d=" "+c.className+" ";while(e.test(d)){d=d.replace(e," ")}c.className=a.trim(d)})}h[b]!="#"&&a(h[b]).toggleClass(g[b])||c.toggleClass(g[b])});c.toggleClass("active")});a(document).on("click",".panel-toggle",function(b){b&&b.preventDefault();var c=a(b.target),d="collapse",e;if(!c.is("a"))c=c.closest("a");e=c.closest(".panel");e.find(".panel-body").toggleClass(d);c.toggleClass("active")});a(".carousel.auto").carousel();a(document).on("click.button.data-api","[data-loading-text]",function(b){var c=a(b.target);c.is("i")&&(c=c.parent());c.button("loading")});var b=a(window);var c=function(b){if(b=="reset"){a('[data-toggle^="shift"]').shift("reset");return true}a('[data-toggle^="shift"]').shift("init");return true};b.width()<768&&c();var d;b.resize(function(){clearTimeout(d);d=setTimeout(function(){e();b.width()<767&&c();b.width()>=768&&c("reset")&&f()},500)});var e=function(){a(".app-fluid #nav > *").css("min-height",a(window).height()-60);return true};e();var f=function(){a(".ie11 .vbox").each(function(){a(this).height(a(this).parent().height())});return true};f();a(document).on("click",'[data-ride="collapse"] a',function(b){var c=a(b.target),d;c.is("a")||(c=c.closest("a"));d=c.parent().siblings(".active");d&&d.toggleClass("active").find("> ul:visible").slideUp(200);c.parent().hasClass("active")&&c.next().slideUp(200)||c.next().slideDown(200);c.parent().toggleClass("active");c.next().is("ul")&&b.preventDefault();setTimeout(function(){a(document).trigger("updateNav")},300)});a(document).on("click.bs.dropdown.data-api",".dropdown .on, .dropup .on, .open .on",function(a){a.stopPropagation()})})}(jQuery);"use strict";angular.module("myApp",["ngRoute","indexController","config","LocalStorageModule","directive","restangular","geoLocation","overviewService","restaurantService","reviewService","locationService","photoService","GoogleMaps","angularFileUpload","ui.bootstrap","nvd3ChartDirectives","easypiechart"]).config(["$routeProvider",function(a){a.otherwise({redirectTo:"/index"})}]).config(["RestangularProvider",function(a){a.setRestangularFields({id:"id"});a.setBaseUrl("http://api.iresturant.com/v1/");a.setDefaultRequestParams({"access-token":"f899139df5e1059396431415e770c6dd","per-page":8});a.setDefaultHttpFields({withCredentials:false,cache:true});a.setFullResponse(true);a.addResponseInterceptor(function(a,b,c,d,e,f){if(b==="getList"){a=[{items:a.items,_meta:a._meta}]}return a})}]);